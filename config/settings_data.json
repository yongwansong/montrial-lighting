/*
* ------------------------------------------------------------
* IMPORTANT: The contents of this file are auto-generated.
*
* This file may be updated by the Shopify admin theme editor
* or related systems. Please exercise caution as any changes
* made to this file may be overwritten.
* ------------------------------------------------------------
*/
{
  "current": {
    "show_announcement_bar": true,
    "show_popup": false,
    "show_fixed_message": false,
    "header_layout": "search_focus",
    "footer_layout": "classic",
    "image_loading_style": "fade-in",
    "logo_mobile": "shopify:\/\/shop_images\/logo-white.png",
    "mobile_logo_width": 130,
    "logo_mobile_position": "center",
    "logo_menu_position": "left",
    "show_search_icon_mobile": true,
    "mobile_sidebar_position": "below",
    "mobile_menu_background_color": "rgba(0,0,0,0)",
    "mobile_menu_opacity": 100,
    "mobile_menu_link_color": "rgba(0,0,0,0)",
    "mobile_menu_link_hover_color": "rgba(0,0,0,0)",
    "button_primary_padding": "regular",
    "button_primary_bg_color": "#311d01",
    "button_primary_bg_color_transparency": 92,
    "button_primary_border_color": "rgba(0,0,0,0)",
    "button_primary_text_color": "#ffffff",
    "button_primary_bg_color--highlight": "#fdfdfd",
    "button_primary_bg_color_transparency--highlight": 100,
    "button_primary_border_color--highlight": "rgba(0,0,0,0)",
    "button_primary_text_color--highlight": "#412904",
    "button_primary_border_radius": 0,
    "button_secondary_padding": "regular",
    "button_secondary_bg_color": "rgba(0,0,0,0)",
    "button_secondary_bg_color_transparency": 0,
    "button_secondary_border_color": "#49494b",
    "button_secondary_text_color": "#ffffff",
    "button_secondary_bg_color--highlight": "#ffffff",
    "button_secondary_bg_color_transparency--highlight": 100,
    "button_secondary_border_color--highlight": "#ffffff",
    "button_secondary_text_color--highlight": "#49494b",
    "button_secondary_border_radius": 0,
    "button_link_padding": "regular",
    "button_link_text_color": "#000000",
    "button_link_text_color--highlight": "#ccc",
    "button_link_underline_style": "solid",
    "button_link_underline_thickness": 1,
    "button_cart_padding": "regular",
    "button_cart_bg_color": "#000000",
    "button_cart_bg_color--highlight": "#951313",
    "button_cart_border_color": "rgba(0,0,0,0)",
    "button_cart_border_color--highlight": "rgba(0,0,0,0)",
    "button_cart_text_color": "#fff",
    "button_cart_text_color--highlight": "#fff",
    "button_cart_icon": "cart",
    "button_cart_icon_position": "left",
    "button_cart_border_radius": 2,
    "icon": "icon_outline",
    "toggle_icon_style": "plus_and_minus",
    "social_media_share_style": "rounded",
    "breadcrumb_capitalization": "none",
    "breadcrumb_separator": "arrow",
    "breadcrumb_size": "regular",
    "dropdown_style": "vertical",
    "dropdown_position": "below-parent",
    "dropdown_link_spacing": "medium",
    "use_placeholders": false,
    "form_button_style": "button--primary",
    "display_heading_divider": true,
    "heading_divider_animation": "none",
    "heading_divider_style": "long",
    "heading_divider_width": 2,
    "toggle_sidebar": true,
    "tab_style": "underline",
    "table_styles_enabled": true,
    "qty_box_style": "box",
    "qty_border_radius": 0,
    "tag_style": "solid",
    "mega_menu_1": true,
    "mega_menu_2": true,
    "mega_menu_3": true,
    "mega_menu_4": true,
    "mega_menu_5": false,
    "mega_menu_6": false,
    "mega_menu_7": false,
    "mega_menu_8": false,
    "mega_menu_9": false,
    "mega_menu_10": false,
    "shop_bg_color": "#ffffff",
    "border_color": "#d3d3d3",
    "regular_color": "#49494b",
    "link_color": "#7d7e75",
    "link_hover_color": "#ffffff",
    "heading_color": "#49494b",
    "banner_heading_color": "#ffffff",
    "divider_color": "#ffffff",
    "logo_text": "#ffffff",
    "header_background": "#49494b",
    "header_link_color": "#ffffff",
    "header_link_hover_color": "#ffffff",
    "header_cart_badge_color": "#ffffff",
    "cart_background_color": "#fff",
    "show_dropdown_shadow": false,
    "dropdown_background": "#ffffff",
    "dropdown_background_opacity": 100,
    "dropdown_link_color": "#49494b",
    "dropdown_link_hover_color": "#7d7e75",
    "footer_background": "#a2a2a2",
    "footer_border": "rgba(0,0,0,0)",
    "footer_link_color": "#ffffff",
    "footer_link_hover_color": "#49494b",
    "footer_text_color": "#ffffff",
    "sale_color": "#f10505",
    "was_price_color": "#808080",
    "product_hover_text_color": "#ffffff",
    "product_hover_bg_color": "#ffffff",
    "banner_bestseller": "#f0d00e",
    "banner_comingsoon": "#585757",
    "banner_new": "#007ace",
    "banner_preorder": "#6e6e6f",
    "banner_sale": "#af0202",
    "banner_staffpick": "#222222",
    "qty_icon_color": "#fff",
    "qty_icon_hover_color": "#ddd",
    "qty_background_color": "#49494b",
    "qty_background_hover_color": "#222",
    "regular__font": "din_next_n4",
    "regular_font_size": 16,
    "logo__font": "din_next_n4",
    "logo_font_size": 20,
    "logo_font_style": "none",
    "nav__font": "din_next_n4",
    "nav_font_size": 15,
    "nav_letter_spacing": 1,
    "nav_font_style": "uppercase",
    "dropdown_heading_font_size": 20,
    "dropdown_font_size": 14,
    "dropdown_letter_spacing": 0,
    "dropdown_font_style": "none",
    "button__font": "din_next_n4",
    "button_letter_spacing": 0,
    "button_font_style": "none",
    "heading__font": "din_next_n4",
    "heading_size": 20,
    "heading_letter_spacing": 0,
    "heading_font_style": "none",
    "preheading_font": "din_next_n4",
    "preheading_size": 15,
    "preheading_style": "none",
    "subheading_font": "din_next_n4",
    "subheading_size": 15,
    "subheading_style": "none",
    "banner_heading__font": "din_next_n4",
    "banner_heading_size": 40,
    "banner_heading_style": "none",
    "banner_text__font": "din_next_n4",
    "banner_text_size": 15,
    "banner_text_letter_spacing": 1,
    "footer_heading_font_size": 18,
    "footer_font_size": 14,
    "search_option": "product",
    "search_title": "Search",
    "search_placeholder": "What are you looking for?",
    "search_heading_color": "#000",
    "search_display_style": "popup",
    "search_popup_bg": "#fff",
    "search_menu": "",
    "enable_autocomplete": true,
    "search_to_display": 5,
    "show_secondary_image": true,
    "display_vendor": true,
    "thumbnail_hover_enabled": false,
    "thumbnail_text_alignment": "center",
    "stickers_enabled": true,
    "sticker_shape": "square",
    "sticker_position": "right",
    "collection_swatches": false,
    "collection_swatches_shape": "square",
    "enable_shopify_review_comments": false,
    "enable_shopify_collection_badges": false,
    "select_first_available_variant": false,
    "display_product_quantity": true,
    "limit_quantity": false,
    "display_inventory_left": false,
    "inventory_threshold": 10,
    "free_price_text": "Free",
    "product_form_style": "radio",
    "enable_swatches": true,
    "swatch_style": "rounded",
    "swatches_option_style": "color_swatch",
    "notify_me_form": true,
    "notify_me_description": "<p>Notify me when this product is available:<\/p>",
    "size_chart": "",
    "enable_quickshop": false,
    "quickshop_button_style": "button--secondary",
    "quickshop_show_vendor": false,
    "quickshop_show_price_savings": true,
    "show_dynamic_checkout_button": true,
    "quickshop_truncate_words": false,
    "quickshop_truncate_words_limit": 20,
    "qs_popup_color": "#fff",
    "show_product_gallery_thumbnails": true,
    "quickshop_arrows": true,
    "quickshop_magnify_images": true,
    "quickshop_speed": 0,
    "quickshop_gallery_transition_styles": "slide",
    "quickshop_thumbnail_position": "bottom-thumbnails",
    "enable_thumbnail_slider": true,
    "quickshop_gallery_position": "left",
    "video_looping": false,
    "cart_action": "drawer",
    "show_lock_icon": true,
    "cart_icon": "cart",
    "display_special_instructions": false,
    "display_tos_checkbox": false,
    "tos_page": "",
    "display_savings": false,
    "display_ajax_quantity_box": true,
    "cart_message": "",
    "go_to_checkout": true,
    "enable_shipping_calculator": false,
    "shipping_calculator_default_country": "United States",
    "currency_format": "money_with_currency_format",
    "show_multiple_currencies": false,
    "supported_currencies": "USD CAD INR GBP AUD EUR JPY",
    "default_currency": "CAD",
    "disqus_enabled": false,
    "disqus_shortname": "",
    "twitter_link": "https:\/\/twitter.com\/MTLLuminaire",
    "facebook_link": "https:\/\/www.facebook.com\/montreallighting\/",
    "youtube_link": "",
    "vimeo_link": "",
    "pinterest_link": "https:\/\/www.pinterest.ca\/montreallighting\/",
    "tumblr_link": "",
    "instagram_link": "https:\/\/www.instagram.com\/montreallighting\/",
    "snapchat_link": "",
    "houzz_link": "https:\/\/www.houzz.com\/professionals\/lighting-showrooms-and-sales\/montreal-lighting-and-hardware-pfvwus-pf~1477264911",
    "linkedin_link": "https:\/\/www.linkedin.com\/company\/montreal-lighting-&-hardware\/about\/",
    "dribbble_link": "",
    "behance_link": "",
    "flickr_link": "",
    "email_link": "support@montrealluminaire.com",
    "favicon": "shopify:\/\/shop_images\/download.jpg",
    "pt_force_dropdown": true,
    "pt_hide_headers": false,
    "pt_float_filters": "false",
    "color_pt_links": "#616161",
    "color_pt_counts_color": "#6b6b6b",
    "pt_links_weight": "600",
    "pt_accordion_enable": false,
    "pt_mobile_max_width": "1366px",
    "pt_mobile_vertical": 7,
    "pt_view_more_enable": true,
    "pt_view_more_count": 12,
    "pt_async_load": true,
    "pt_show_only_on_collections": true,
    "pt_clear_to_current_collection": true,
    "pt_filter_padding": 15,
    "pt_temporary_disable": false,
    "checkout_header_image": "",
    "checkout_logo_image": "shopify:\/\/shop_images\/MLH_Pantone_Logo_FR.png",
    "checkout_logo_position": "left",
    "checkout_logo_size": "medium",
    "checkout_body_background_image": "",
    "checkout_body_background_color": "#fff",
    "checkout_input_background_color_mode": "white",
    "checkout_sidebar_background_image": "",
    "checkout_sidebar_background_color": "#d3d3d3",
    "checkout_heading_font": "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",
    "checkout_body_font": "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'",
    "checkout_accent_color": "#727272",
    "checkout_button_color": "#000000",
    "checkout_error_color": "#e32c2b",
    "product_layout": "classic",
    "icon_style": "icons",
    "og_image_fallback": "",
    "pt_variant_options": "finish",
    "sections": {
      "1557099063267": {
        "type": "index__image-with-text",
        "blocks": {
          "1557099063267-0": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/ml-store-1.jpg",
              "image_link": ""
            }
          },
          "1557099063267-1": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/ml-store-2.jpg",
              "image_link": ""
            }
          },
          "1557099063267-2": {
            "type": "text",
            "settings": {
              "title": "A Local Lighting and Hardware Experience",
              "heading_size": "regular",
              "text": "<p>Our Montreal lighting showroom is over 15,000 square feet of lighting ideas and experiments, with over 2,000 products on display, including a natural environment outdoor lighting section, Montreal&#x27;s newest door and bath hardware displays, a fully operational condo to showcase the latest lighting and control technologies, and a training centre for the Professional Program.<\/p>",
              "alignment": "left",
              "vertical_position": "center",
              "button_label": "Visit Store",
              "link": "",
              "button_style": "button--primary",
              "background": "rgba(0,0,0,0)",
              "text_color": "rgba(0,0,0,0)"
            }
          }
        },
        "block_order": [
          "1557099063267-0",
          "1557099063267-1",
          "1557099063267-2"
        ],
        "disabled": true,
        "settings": {
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "1557099098656": {
        "type": "index__featured-promotions",
        "blocks": {
          "1557099098656-1": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Graypants_MG_9487.jpg",
              "icon_label": "",
              "title": "Shop By Category",
              "text": "<p>Discover our collections →<\/p>",
              "link": "shopify:\/\/collections\/category",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          },
          "1557099098656-0": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/ml-feature-collection-1.jpg",
              "icon_label": "",
              "title": "Shop By Brand",
              "text": "<p>Discover our brands  →<\/p>",
              "link": "shopify:\/\/pages\/brands",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          },
          "1557099098656-2": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/ml-feature-collection-3.jpg",
              "icon_label": "",
              "title": "Shop by Designer",
              "text": "<p>Discover our designers →<\/p>",
              "link": "shopify:\/\/collections\/designer-lighting",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          }
        },
        "block_order": [
          "1557099098656-1",
          "1557099098656-0",
          "1557099098656-2"
        ],
        "settings": {
          "border_radius": 0,
          "crop_images": true,
          "show_border": false,
          "overlay_text": "#ffffff",
          "overlay_background": "#939393",
          "overlay_background_opacity": 0,
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "css_class": ".featured-promotions__title",
          "custom_css": ".featured-promotions__title {\nfont-size:1.8em;}"
        }
      },
      "1557099160579": {
        "type": "index__logo-list",
        "blocks": {
          "18aa596e-4896-4f13-acf1-91d8fdaae307": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Artemide.png",
              "link": "shopify:\/\/collections\/artemide"
            }
          },
          "1557099160579-0": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Cerno.png",
              "link": "shopify:\/\/collections\/cerno"
            }
          },
          "b5edc93a-7ce0-4c88-8174-c76e9d1f0950": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Foscarini_1.png",
              "link": "shopify:\/\/collections\/foscarini"
            }
          },
          "2f7d2b33-ad81-434a-94bb-17b2493414b0": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Graypants.png",
              "link": "shopify:\/\/collections\/graypants"
            }
          },
          "1557099160579-4": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Hammerton_Studio.png",
              "link": "shopify:\/\/collections\/hammerton-studio"
            }
          },
          "55291e43-ac0f-48ca-9f6b-487e1d55f8e2": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Koncept.png",
              "link": "shopify:\/\/collections\/koncept"
            }
          },
          "1557099160579-3": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Louis_Poulsen.png",
              "link": "shopify:\/\/collections\/louis-poulsen"
            }
          },
          "1557099160579-1": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Mitzi_2.png",
              "link": "shopify:\/\/collections\/mitzi"
            }
          },
          "9ee991c5-1eb6-4ac7-baa7-e5d163cb0fbc": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Pablo_Logo.png",
              "link": "shopify:\/\/collections\/pablo-designs"
            }
          },
          "1557099160579-2": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/SLAMP_d0c7c460-b3d6-4681-a112-4576d2444496.png",
              "link": "shopify:\/\/collections\/slamp"
            }
          },
          "178bdffa-876c-42d2-85cc-a7307d02bd3d": {
            "type": "logo_image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Sonneman.png",
              "link": "shopify:\/\/collections\/sonneman"
            }
          }
        },
        "block_order": [
          "18aa596e-4896-4f13-acf1-91d8fdaae307",
          "1557099160579-0",
          "b5edc93a-7ce0-4c88-8174-c76e9d1f0950",
          "2f7d2b33-ad81-434a-94bb-17b2493414b0",
          "1557099160579-4",
          "55291e43-ac0f-48ca-9f6b-487e1d55f8e2",
          "1557099160579-3",
          "1557099160579-1",
          "9ee991c5-1eb6-4ac7-baa7-e5d163cb0fbc",
          "1557099160579-2",
          "178bdffa-876c-42d2-85cc-a7307d02bd3d"
        ],
        "settings": {
          "logos_per_row": 7,
          "logo_size": "large",
          "background": "rgba(0,0,0,0)",
          "gradient": "rgba(0,0,0,0)",
          "gradient_rotation": 0,
          "width": "wide",
          "padding_top": 0,
          "padding_bottom": 0,
          "padding_left": 0,
          "padding_right": 0,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "announcement-bar": {
        "type": "announcement-bar",
        "custom_css": [

        ],
        "settings": {
          "homepage_only": false,
          "enable_sticky": true,
          "show_close_icon": false,
          "icon_label": "",
          "text": "<p>VALENTINE'S DAY SALE: 20% OFF WITH CODE \"LOVE20\"<\/p>",
          "alignment": "center",
          "size": "small",
          "button_label": "",
          "link": "",
          "button_style": "button--primary",
          "background": "#373738",
          "text_color": "#ffffff",
          "width": "wide",
          "css_class": "",
          "custom_css": "{\n  visibility: hidden !important; \nheight: 0px\n}"
        }
      },
      "header__top-bar": {
        "type": "header__top-bar",
        "blocks": {
          "1595968694794": {
            "type": "text",
            "settings": {
              "text": "FREE DELIVERY IN CANADA ON ORDERS OVER $199*"
            }
          },
          "1595957474548": {
            "type": "menu",
            "settings": {
              "menu": "top-menu",
              "menu_alignment": "end"
            }
          }
        },
        "block_order": [
          "1595968694794",
          "1595957474548"
        ],
        "settings": {
          "background": "#a2a2a2",
          "link_color": "#ffffff",
          "link_hover_color": "#ededed",
          "text_color": "#ffffff",
          "font": "din_next_n4",
          "font_style": "none",
          "font_size": 14,
          "letter_spacing": 0,
          "show_locale_selector": false,
          "show_currency_selector": false,
          "width": "standard",
          "css_class": "",
          "custom_css": ""
        }
      },
      "header-classic": {
        "type": "header-classic",
        "settings": {
          "logo": "shopify:\/\/shop_images\/logo-white.png",
          "logo_width": 265,
          "main_linklist": "main-menu",
          "menu_alignment": "center",
          "display_search": true,
          "icon_style": "icons",
          "enable_overlay": false,
          "show_text_shadow": false,
          "overlay_link_color": "rgba(0,0,0,0)",
          "overlay_link_hover_color": "rgba(0,0,0,0)",
          "overlay_background": "rgba(0,0,0,0)",
          "overlay_background_opacity": 0,
          "overlay_logo": "shopify:\/\/shop_images\/logo.png",
          "overlay_logo_width": 80,
          "enable_sticky": true,
          "sticky_background_opacity": 50,
          "scroll_logo_width": 80,
          "width": "standard",
          "vertical_alignment": "center",
          "css_class": "",
          "custom_css": ""
        }
      },
      "mega-menu-1": {
        "type": "mega-menu-1",
        "blocks": {
          "ad99ed18-8ace-4abe-acde-fa0432a982a3": {
            "type": "menu",
            "settings": {
              "menu_1": "ceiling-lighting",
              "menu_1_link": "shopify:\/\/collections\/ceiling-lighting"
            }
          },
          "5a8e4a93-b56c-4e57-ad92-5870f4852566": {
            "type": "mixed",
            "settings": {
              "richtext_top": "",
              "image_link_top": "",
              "image_caption_top": "<p><\/p>",
              "menu_1": "wall-lighting",
              "menu_1_link": "shopify:\/\/collections\/wall-lighting",
              "menu_2": "",
              "menu_2_link": "",
              "menu_3": "",
              "menu_3_link": "",
              "menu_4": "",
              "menu_4_link": "",
              "image_link_bottom": "",
              "richtext_bottom": ""
            }
          },
          "61189b9e-5c26-45af-b709-33bfdadd9621": {
            "type": "mixed",
            "settings": {
              "richtext_top": "",
              "image_link_top": "",
              "image_caption_top": "",
              "menu_1": "table-floor-lamps",
              "menu_1_link": "shopify:\/\/collections\/table-floor-lamps",
              "menu_2": "",
              "menu_2_link": "",
              "menu_3": "",
              "menu_3_link": "",
              "menu_4": "",
              "menu_4_link": "",
              "image_link_bottom": "",
              "richtext_bottom": "<p><\/p>"
            }
          },
          "8025ab5b-cf85-44cc-99f6-de6ab78781da": {
            "type": "mixed",
            "settings": {
              "richtext_top": "",
              "image_link_top": "",
              "image_caption_top": "<p><\/p>",
              "menu_1": "recessed-lighting",
              "menu_1_link": "shopify:\/\/collections\/recessed-lighting",
              "menu_2": "fans",
              "menu_2_link": "shopify:\/\/collections\/fans",
              "menu_3": "",
              "menu_3_link": "",
              "menu_4": "",
              "menu_4_link": "",
              "image_link_bottom": "",
              "richtext_bottom": "<p><\/p>"
            }
          },
          "88d49983-b27f-48bd-8ade-027ef2417dc4": {
            "type": "mixed",
            "settings": {
              "richtext_top": "",
              "image_link_top": "",
              "image_caption_top": "<p><\/p>",
              "menu_1": "outdoor-lighting",
              "menu_1_link": "shopify:\/\/collections\/outdoor-lighting",
              "menu_2": "",
              "menu_2_link": "",
              "menu_3": "",
              "menu_3_link": "",
              "menu_4": "",
              "menu_4_link": "",
              "image_link_bottom": "",
              "richtext_bottom": "<p><\/p>"
            }
          },
          "f35c5617-8426-4523-bec1-79fd758cf204": {
            "type": "mixed",
            "settings": {
              "richtext_top": "",
              "image_link_top": "",
              "image_caption_top": "",
              "menu_1": "light-bulbs",
              "menu_1_link": "shopify:\/\/collections\/light-bulbs",
              "menu_2": "lighting-controls",
              "menu_2_link": "shopify:\/\/collections\/lighting-controls",
              "menu_3": "",
              "menu_3_link": "",
              "menu_4": "",
              "menu_4_link": "",
              "image_link_bottom": "",
              "richtext_bottom": ""
            }
          }
        },
        "block_order": [
          "ad99ed18-8ace-4abe-acde-fa0432a982a3",
          "5a8e4a93-b56c-4e57-ad92-5870f4852566",
          "61189b9e-5c26-45af-b709-33bfdadd9621",
          "8025ab5b-cf85-44cc-99f6-de6ab78781da",
          "88d49983-b27f-48bd-8ade-027ef2417dc4",
          "f35c5617-8426-4523-bec1-79fd758cf204"
        ],
        "settings": {
          "parent_link": "lighting",
          "enable_mega_menu_border": true,
          "mega_menu_background_color": "#f6f6f6",
          "mega_menu_text_color": "#000000",
          "show_mega_bottom_bar": false,
          "mega_bottom_bar_icon": "",
          "mega_bottom_bar_text": "Add your deal, information or promotional text",
          "mega_bottom_bar_link": "",
          "size": "regular",
          "bottom_banner_bg": "#7d7e75",
          "bottom_banner_text": "#efefef",
          "css_class": "",
          "custom_css": ""
        }
      },
      "footer__icon-bar": {
        "type": "footer__icon-bar",
        "blocks": {
          "footer__icon-bar-0": {
            "type": "text",
            "settings": {
              "icon": "like",
              "text": "110% Price Match",
              "link": "shopify:\/\/pages\/110-price-match-gurantee"
            }
          },
          "footer__icon-bar-1": {
            "type": "text",
            "settings": {
              "icon": "phone",
              "text": "<a href=\"tel:+15144162013\" style=\"color: white; text-decoration: none;\">(514) 416-2013<\/a>",
              "link": ""
            }
          },
          "footer__icon-bar-2": {
            "type": "text",
            "settings": {
              "icon": "chat",
              "text": "Live Chat",
              "link": ""
            }
          },
          "footer__icon-bar-3": {
            "type": "text",
            "settings": {
              "icon": "truck",
              "text": "Free Delivery (orders $199+)*",
              "link": "shopify:\/\/pages\/delivery-policy"
            }
          }
        },
        "block_order": [
          "footer__icon-bar-0",
          "footer__icon-bar-1",
          "footer__icon-bar-2",
          "footer__icon-bar-3"
        ],
        "settings": {
          "show_icon_bar": true,
          "alignment": "center",
          "icon_position": "row",
          "size": "medium",
          "background": "#8b8b8b",
          "link_color": "#ffffff",
          "link_hover_color": "#000000",
          "text_color": "#ffffff",
          "width": "standard",
          "css_class": "is-hidden-mobile-only",
          "custom_css": ""
        }
      },
      "footer-classic": {
        "type": "footer-classic",
        "blocks": {
          "1597692028205": {
            "type": "link_list",
            "settings": {
              "menu": "footer",
              "social_icons_footer": false
            }
          },
          "footer-classic-1": {
            "type": "link_list",
            "settings": {
              "menu": "customer-service",
              "social_icons_footer": false
            }
          },
          "footer-classic-0": {
            "type": "logo",
            "settings": {
              "logo": "shopify:\/\/shop_images\/footer-logo.png",
              "size": "medium",
              "text": "",
              "social_icons_footer": false
            }
          },
          "1593461789650": {
            "type": "link_list",
            "settings": {
              "menu": "design-tools",
              "social_icons_footer": false
            }
          },
          "footer-classic-2": {
            "type": "text",
            "settings": {
              "title": "Montreal Lighting & Hardware",
              "content": "<p>5670 Paré St.<br\/>Mount-Royal, QC H4P 2M2<br\/>(514) 416-2013<\/p>",
              "social_icons_footer": true
            }
          }
        },
        "block_order": [
          "1597692028205",
          "footer-classic-1",
          "footer-classic-0",
          "1593461789650",
          "footer-classic-2"
        ],
        "settings": {
          "copyright_text": "",
          "display_designed_by": false,
          "display_shopify": false,
          "show_locale_selector": false,
          "show_currency_selector": false,
          "display_payment_methods": true,
          "css_class": "",
          "custom_css": ""
        }
      },
      "header-centered__top-bar": {
        "type": "header-centered__top-bar",
        "settings": {
          "show_social_icons": true,
          "text": "<p>(514) 416-2013<\/p>",
          "top_bar_background": "rgba(0,0,0,0)",
          "top_bar_link": "rgba(0,0,0,0)",
          "top_bar_link_hover": "rgba(0,0,0,0)",
          "top_bar_text": "rgba(0,0,0,0)",
          "font": "din_next_n4",
          "font_style": "none",
          "font_size": 14,
          "letter_spacing": 0,
          "display_search": true,
          "icon_style": "icons",
          "cart_button_background": "#000000",
          "cart_button_text": "#ffffff",
          "css_class": "",
          "custom_css": ""
        }
      },
      "header-centered": {
        "type": "header-centered",
        "settings": {
          "logo": "shopify:\/\/shop_images\/logo-white.png",
          "logo_width": 200,
          "logo_position": "between",
          "main_linklist": "main-menu",
          "menu_spacing": "default",
          "enable_overlay": false,
          "show_text_shadow": false,
          "overlay_background": "rgba(0,0,0,0)",
          "overlay_background_opacity": 0,
          "overlay_link_color": "rgba(0,0,0,0)",
          "overlay_link_hover_color": "rgba(0,0,0,0)",
          "overlay_logo": "shopify:\/\/shop_images\/logo.png",
          "overlay_logo_width": 80,
          "enable_sticky": false,
          "sticky_background_opacity": 50,
          "scroll_logo_width": 200,
          "width": "standard",
          "css_class": "",
          "custom_css": ""
        }
      },
      "header-search-focus": {
        "type": "header-search-focus",
        "settings": {
          "logo": "shopify:\/\/shop_images\/Logo-EN-White-2.png",
          "logo_width": 245,
          "search_background": "#363636",
          "search_icon": "#ffffff",
          "icon_style": "icons",
          "main_linklist": "main-menu",
          "menu_alignment": "center",
          "dropdown_click": false,
          "enable_sticky": true,
          "sticky_background_opacity": 60,
          "scroll_logo_width": 130,
          "width": "standard",
          "css_class": "",
          "custom_css": ".icon {\n    width: 36px !important;\n    height: 29px !important;\n}"
        }
      },
      "header-vertical": {
        "type": "header-vertical",
        "blocks": {
          "header-vertical-0": {
            "type": "logo",
            "settings": {
              "logo_width": 80
            }
          },
          "header-vertical-1": {
            "type": "icons",
            "settings": {
              "icon_style": "icons",
              "display_search": false
            }
          },
          "header-vertical-2": {
            "type": "search",
            "settings": {
            }
          },
          "header-vertical-3": {
            "type": "navigation",
            "settings": {
              "main_linklist": "main-menu",
              "nav_background": "rgba(0,0,0,0)",
              "nav_link_color": "rgba(0,0,0,0)",
              "nav_link_hover_color": "rgba(0,0,0,0)"
            }
          },
          "header-vertical-4": {
            "type": "payment_icons",
            "settings": {
            }
          },
          "header-vertical-5": {
            "type": "copyright",
            "settings": {
              "copyright_text": "",
              "display_designed_by": true,
              "display_shopify": true
            }
          }
        },
        "block_order": [
          "header-vertical-0",
          "header-vertical-1",
          "header-vertical-2",
          "header-vertical-3",
          "header-vertical-4",
          "header-vertical-5"
        ],
        "settings": {
          "alignment": "left",
          "css_class": "",
          "custom_css": ""
        }
      },
      "1593460522544": {
        "type": "index__featured-collection",
        "settings": {
          "title": "Featured Collection",
          "collection": "new-introductions",
          "products_per": 4,
          "products_limit": 12,
          "align_height": true,
          "collection_height": 200,
          "collection_style": "slider",
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "mobile_products_per_row": "1",
          "css_class": "",
          "custom_css": ""
        }
      },
      "collection__banner": {
        "type": "collection__banner",
        "settings": {
          "show_banner": true,
          "image_darken": true,
          "subtitle": "",
          "subtitle_fr": "",
          "width": "wide",
          "banner_height": "small",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "collection__sidebar": {
        "type": "collection__sidebar",
        "settings": {
          "show_sidebar": true,
          "css_class": "",
          "custom_css": ""
        }
      },
      "collection__main": {
        "type": "collection__main",
        "settings": {
          "collection_breadcrumb": true,
          "collection_tags": false,
          "collection_sort": true,
          "show_promo_banner": false,
          "image": "shopify:\/\/shop_images\/ml-collection-promo-2.jpg",
          "image_darken": true,
          "promo_title": "Lamp Sale On Now",
          "promo_text": "<p>15% off all table and floor lamps. Sale ends August 31st<\/p>",
          "banner_height": "small",
          "align_height": true,
          "collection_height": 360,
          "products_per_row": 3,
          "mobile_products_per_row": "2",
          "pagination_limit": 48,
          "pagination_type": "basic_pagination",
          "width": "wide",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "mega-menu-2": {
        "type": "mega-menu-2",
        "blocks": {
          "mega-menu-2-0": {
            "type": "menu",
            "settings": {
              "menu_1": "cabinet-hardware",
              "menu_1_link": "shopify:\/\/collections\/cabinet-hardware"
            }
          },
          "2b32cf27-c266-4d37-8c48-aafa3692f9e4": {
            "type": "menu",
            "settings": {
              "menu_1": "bathroom-hardware",
              "menu_1_link": "shopify:\/\/collections\/bathroom-hardware"
            }
          }
        },
        "block_order": [
          "mega-menu-2-0",
          "2b32cf27-c266-4d37-8c48-aafa3692f9e4"
        ],
        "settings": {
          "parent_link": "hardware",
          "enable_mega_menu_border": true,
          "mega_menu_background_color": "#f6f6f6",
          "mega_menu_text_color": "#404040",
          "show_mega_bottom_bar": false,
          "mega_bottom_bar_icon": "",
          "mega_bottom_bar_text": "Add your deal, information or promotional text",
          "mega_bottom_bar_link": "",
          "size": "regular",
          "bottom_banner_bg": "#7d7e75",
          "bottom_banner_text": "#efefef",
          "css_class": "",
          "custom_css": ""
        }
      },
      "mega-menu-3": {
        "type": "mega-menu-3",
        "blocks": {
          "mega-menu-3-0": {
            "type": "menu",
            "settings": {
              "menu_1": "furniture",
              "menu_1_link": "shopify:\/\/collections\/furniture"
            }
          },
          "ac6b8bee-a4c2-490d-b158-c6e4b72172e1": {
            "type": "menu",
            "settings": {
              "menu_1": "mirrors",
              "menu_1_link": "shopify:\/\/collections\/mirrors"
            }
          },
          "cc2b0b57-baab-4690-bbb3-e50bf2fcf96c": {
            "type": "menu",
            "settings": {
              "menu_1": "home-accents",
              "menu_1_link": "shopify:\/\/collections\/home-accents"
            }
          }
        },
        "block_order": [
          "mega-menu-3-0",
          "ac6b8bee-a4c2-490d-b158-c6e4b72172e1",
          "cc2b0b57-baab-4690-bbb3-e50bf2fcf96c"
        ],
        "settings": {
          "parent_link": "furniture-decor",
          "enable_mega_menu_border": true,
          "mega_menu_background_color": "#f6f6f6",
          "mega_menu_text_color": "#404040",
          "show_mega_bottom_bar": false,
          "mega_bottom_bar_icon": "",
          "mega_bottom_bar_text": "Add your deal, information or promotional text",
          "mega_bottom_bar_link": "",
          "size": "regular",
          "bottom_banner_bg": "#7d7e75",
          "bottom_banner_text": "#efefef",
          "css_class": "",
          "custom_css": ""
        }
      },
      "product__sidebar": {
        "type": "product__sidebar",
        "blocks": {
          "product__sidebar-0": {
            "type": "featured_promo",
            "settings": {
              "promo_background": "#eeeeee",
              "promo_text": "#000000",
              "richtext": "<p>Use this area for promotional information.<\/p>",
              "promo_link": "",
              "button_label": "Shop now",
              "button_style": "button--primary"
            }
          },
          "product__sidebar-1": {
            "type": "menu",
            "settings": {
              "menu": ""
            }
          },
          "product__sidebar-2": {
            "type": "text",
            "settings": {
              "title": "Heading",
              "text": "<p>Text area can be used for details about blog authors or general information.<\/p>"
            }
          }
        },
        "block_order": [
          "product__sidebar-0",
          "product__sidebar-1",
          "product__sidebar-2"
        ],
        "settings": {
          "css_class": "",
          "custom_css": ""
        }
      },
      "product__main": {
        "type": "product__main",
        "settings": {
          "product_images_position": "left",
          "set_product_height": true,
          "product_height": 500,
          "video_looping": false,
          "gallery_arrows": true,
          "enable_zoom": true,
          "enable_product_lightbox": true,
          "slideshow_speed": 0,
          "slideshow_transition": "slide",
          "display_thumbnails": true,
          "thumbnail_position": "bottom-thumbnails",
          "enable_thumbnail_slider": true,
          "width": "wide",
          "padding_top": 0,
          "padding_bottom": 20,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "product__recommendations": {
        "type": "product__recommendations",
        "settings": {
          "show_product_recommendations": true,
          "product_recommendations_style": "slider",
          "product_recommendations_heading": "You may also like",
          "products_per": 4,
          "recommended_products_limit": 7,
          "align_height": true,
          "collection_height": 220
        }
      },
      "login-form": {
        "type": "login-form",
        "settings": {
          "richtext": "",
          "image": "",
          "image_position": "right",
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "cart__banner": {
        "type": "cart__banner",
        "settings": {
          "show_banner": false,
          "image": "",
          "image_darken": false,
          "subtitle": "Subheading",
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "cart__main": {
        "type": "cart__main",
        "settings": {
          "display_product_quantity_cart": true,
          "display_savings": true,
          "cart_message": "",
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "popup": {
        "type": "popup",
        "settings": {
          "show_close_icon": true,
          "show_popup_on_mobile": true,
          "display_border": false,
          "border_color": "#cccccc",
          "border_width": 10,
          "newsletter_title": "Subscribe",
          "newsletter_text": "<p>Sign up to get the latest on sales, new releases and more …<\/p>",
          "newsletter_section_text_align": "center",
          "text_color": "#000000",
          "background_color": "#ffffff",
          "show_signup_form": true,
          "display_first_name": true,
          "display_last_name": true,
          "image": "",
          "image_position": "left",
          "overlay_color": "#000000",
          "overlay_background_opacity": 80,
          "popup_delay": 2,
          "popup_days_to_hide": "30",
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "footer-promotional": {
        "type": "footer-promotional",
        "blocks": {
          "footer-promotional-0": {
            "type": "logo",
            "settings": {
              "logo": "",
              "size": "small",
              "alignment": "start"
            }
          },
          "footer-promotional-1": {
            "type": "link_list",
            "settings": {
              "menu_1": "main-menu",
              "menu_2": "",
              "menu_3": ""
            }
          },
          "footer-promotional-2": {
            "type": "text",
            "settings": {
              "title": "Title",
              "content": "<p>Use this text to share information about your brand with your customers. Describe a product, share announcements, or welcome customers to your store.<\/p>"
            }
          }
        },
        "block_order": [
          "footer-promotional-0",
          "footer-promotional-1",
          "footer-promotional-2"
        ],
        "settings": {
          "copyright_text": "",
          "display_designed_by": true,
          "display_shopify": true,
          "display_payment_methods": true,
          "enable_promo": true,
          "promo_background": "#eeeeee",
          "promo_text": "#000000",
          "promo_position": "row-reverse",
          "promo_image": "",
          "richtext": "<p>Use this area for promotional information.<\/p>",
          "promo_link": "",
          "button_label": "Shop now",
          "button_style": "button--primary",
          "css_class": "",
          "custom_css": ""
        }
      },
      "1593481282272": {
        "type": "index__rich-text",
        "settings": {
          "title": "Featured Brands",
          "heading_font": "din_next_n5",
          "heading_alignment": "center",
          "heading_size": 24,
          "text": "<p><\/p><p><\/p>",
          "text_font": "din_next_n4",
          "text_alignment": "center",
          "text_size": 8,
          "columns": 1,
          "button_label": "",
          "button_link": "",
          "button_style": "button--primary",
          "button_alignment": "center",
          "heading_color": "rgba(0,0,0,0)",
          "text_color": "rgba(0,0,0,0)",
          "background": "rgba(0,0,0,0)",
          "gradient": "rgba(0,0,0,0)",
          "gradient_rotation": 0,
          "width": "wide",
          "padding_top": 20,
          "padding_bottom": 0,
          "padding_left": 0,
          "padding_right": 0,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "1593483223626": {
        "type": "index__rich-text",
        "settings": {
          "title": "",
          "heading_font": "open_sans_n4",
          "heading_alignment": "center",
          "heading_size": 30,
          "text": "<p><\/p><p><\/p><p><\/p>",
          "text_font": "din_next_n4",
          "text_alignment": "left",
          "text_size": 14,
          "columns": 2,
          "button_label": "View All Brands",
          "button_link": "shopify:\/\/pages\/brands",
          "button_style": "button--primary",
          "button_alignment": "center",
          "heading_color": "rgba(0,0,0,0)",
          "text_color": "rgba(0,0,0,0)",
          "background": "rgba(0,0,0,0)",
          "gradient": "rgba(0,0,0,0)",
          "gradient_rotation": 180,
          "width": "wide",
          "padding_top": 0,
          "padding_bottom": 15,
          "padding_left": 0,
          "padding_right": 0,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "password__main": {
        "type": "password__main",
        "settings": {
          "custom_logo": "shopify:\/\/shop_images\/logo-white.png",
          "password-page-background": "shopify:\/\/shop_images\/password.jpg",
          "pagework_page_bg_stretched": true,
          "copyright_text": "",
          "display_designed_by": false,
          "display_shopify": true,
          "social_media": false,
          "password_page_background_color": "#ffffff",
          "password_page_text_color": "#ffffff",
          "newsletter_title": "",
          "newsletter_richtext": "",
          "show_signup_form": false,
          "display_first_name": false,
          "display_last_name": false,
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "1597687217268": {
        "type": "index__slideshow-classic",
        "blocks": {
          "8158e201-a71d-4079-b227-ef097930786a": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/media-17989033-lp_ph5_rosa_army_wht_dark-grey_1_1800x_aa0812e9-4eb7-4637-89e1-2c62f12f4959.jpg",
              "link": "",
              "pretext": "<p><strong>BLACK FRIDAY EXTENDED WITH<\/strong><\/p>",
              "title": "20% off your favourite brands",
              "subtitle": "<p><strong>LOUIS POULSEN | HUDSON VALLEY | FEISS | AND MORE...<\/strong><\/p>",
              "pretext_color": "#ffffff",
              "heading_color": "#ffffff",
              "subheading_color": "#ffffff",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#000000",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Black Friday",
              "button_1_link": "shopify:\/\/collections\/black-friday-sale",
              "button_1_style": "button--primary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "1597687217268-0": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Banner_Sept_2021.jpg",
              "link": "",
              "pretext": "<p>One of a kind experience:<\/p>",
              "title": "Showroom shopping, online pricing",
              "subtitle": "",
              "pretext_color": "#ffffff",
              "heading_color": "#ffffff",
              "subheading_color": "#ffffff",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#49494b",
              "background_opacity": 44,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop our Selection",
              "button_1_link": "shopify:\/\/collections\/category",
              "button_1_style": "button--primary",
              "button_2": "Contact Us",
              "button_2_link": "shopify:\/\/pages\/contact-us",
              "button_2_style": "button--primary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "3ae06bde-1633-4b49-8553-f6a7239a19b9": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/TL_Brox_App1.jpg",
              "link": "",
              "pretext": "<p>Let's welcome fall with<\/p>",
              "title": "15% off your favourite brands with code FALL15",
              "subtitle": "<p>ARTCRAFT | CRYSTORAMA | DAINOLITE | ROBERT ABBEY | RENWIL | SAVOY HOUSE | PABLO DESIGNS | AND MORE!<\/p>",
              "pretext_color": "#000000",
              "heading_color": "#000000",
              "subheading_color": "#000000",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#ffffff",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Fall Sale",
              "button_1_link": "shopify:\/\/collections\/summer-sale",
              "button_1_style": "button--secondary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "647f11df-591e-4836-b68c-82183153c81b": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Dals_Recessed_36621261-e475-4df6-8de6-d2435bdaf38e.jpg",
              "link": "",
              "pretext": "<p>Buy More, Save Move<\/p>",
              "title": "Take 10-20% off all ceiling recessed lighting",
              "subtitle": "<p>Buy 1-25, save 10%, buy 26-50, save 15%, buy 51 or more, save 20%<\/p>",
              "pretext_color": "#ffffff",
              "heading_color": "#ffffff",
              "subheading_color": "#ffffff",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#49494b",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Now",
              "button_1_link": "shopify:\/\/collections\/ceiling-recessed",
              "button_1_style": "button--primary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "6a9e96b7-3c7c-431c-9c80-eed263d6379c": {
            "type": "image",
            "disabled": true,
            "settings": {
              "image": "shopify:\/\/shop_images\/Artemide_Discovery_Suspension_ac1cb50e-f942-4592-8f19-9fd8044717c6.jpg",
              "link": "",
              "pretext": "<p>Fall savings start now with<\/p>",
              "title": "15% off all Artemide Lighting",
              "subtitle": "<p>Until October 19<\/p>",
              "pretext_color": "#000000",
              "heading_color": "#000000",
              "subheading_color": "#000000",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#ffffff",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Artemide",
              "button_1_link": "shopify:\/\/collections\/artemide",
              "button_1_style": "button--secondary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "b0c26e7a-661d-4f5c-ad31-73bc4ee022fe": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Foscarini_Slider.jpg",
              "link": "",
              "pretext": "<p>A new brand has landed!<\/p>",
              "title": "Introducing: Foscarini",
              "subtitle": "<p>Now available online and in the showroom<\/p>",
              "pretext_color": "#000000",
              "heading_color": "#000000",
              "subheading_color": "#000000",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#ffffff",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Foscarini",
              "button_1_link": "shopify:\/\/collections\/foscarini",
              "button_1_style": "button--secondary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "569eac28-90d8-43f7-b63c-deb82d15c3bb": {
            "type": "image",
            "disabled": true,
            "settings": {
              "image": "shopify:\/\/shop_images\/pablo-designs-belmont-floor-environmental-image-01_crop-01_300_download.jpg",
              "link": "",
              "pretext": "<p>Major savings on contemporary lighting with<\/p>",
              "title": "15% off all Pablo Designs",
              "subtitle": "",
              "pretext_color": "#49494b",
              "heading_color": "#49494b",
              "subheading_color": "#49494b",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#ffffff",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Pablo Designs",
              "button_1_link": "shopify:\/\/collections\/pablo-designs",
              "button_1_style": "button--secondary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "3a238d80-799f-4c5e-a931-5d654e142d8a": {
            "type": "image",
            "disabled": true,
            "settings": {
              "image": "shopify:\/\/shop_images\/tech-kai-large.jpg",
              "link": "",
              "pretext": "<p>Labour Day savings with<\/p>",
              "title": "20% off these brands:",
              "subtitle": "<p>GENERATION LIGHTING | TECH LIGHTING | MONTE CARLO FANS | FEISS | SEA GULL COLLECTION<\/p>",
              "pretext_color": "#ffffff",
              "heading_color": "#ffffff",
              "subheading_color": "#ffffff",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#49494b",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Now",
              "button_1_link": "shopify:\/\/collections\/visual-comfort-sale",
              "button_1_style": "button--primary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--secondary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          },
          "8aa8b150-ec58-44dc-983c-f08dca116311": {
            "type": "image",
            "disabled": true,
            "settings": {
              "image": "shopify:\/\/shop_images\/Corbett_-_Charisma_Wide_abe37ca2-54f0-4adc-a262-496c5700216c.jpg",
              "link": "",
              "pretext": "<p>Add striking lighting to your home with<\/p>",
              "title": "20% off all Corbett Lighting",
              "subtitle": "<p>Only until October 5th<\/p>",
              "pretext_color": "#ffffff",
              "heading_color": "#ffffff",
              "subheading_color": "#ffffff",
              "text_alignment": "left",
              "text_horizontal_position": "left",
              "text_width": 40,
              "background_color": "#49494b",
              "background_opacity": 77,
              "border_color": "#ffffff",
              "border_width": 0,
              "button_1": "Shop Corbett Lighting",
              "button_1_link": "shopify:\/\/collections\/corbett-lighting",
              "button_1_style": "button--primary",
              "button_2": "",
              "button_2_link": "",
              "button_2_style": "button--primary",
              "pretext_color_mobile": "rgba(0,0,0,0)",
              "heading_color_mobile": "rgba(0,0,0,0)",
              "subheading_color_mobile": "rgba(0,0,0,0)"
            }
          }
        },
        "block_order": [
          "8158e201-a71d-4079-b227-ef097930786a",
          "1597687217268-0",
          "3ae06bde-1633-4b49-8553-f6a7239a19b9",
          "647f11df-591e-4836-b68c-82183153c81b",
          "6a9e96b7-3c7c-431c-9c80-eed263d6379c",
          "b0c26e7a-661d-4f5c-ad31-73bc4ee022fe",
          "569eac28-90d8-43f7-b63c-deb82d15c3bb",
          "3a238d80-799f-4c5e-a931-5d654e142d8a",
          "8aa8b150-ec58-44dc-983c-f08dca116311"
        ],
        "settings": {
          "image_slideshow_speed": 5,
          "image_transition": "slide",
          "show_arrows": true,
          "show_nav_buttons": true,
          "width": "wide",
          "padding_top": 0,
          "padding_bottom": 0,
          "animation": "none",
          "mobile_text_below_image": false,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-contact__banner": {
        "type": "page-contact__banner",
        "settings": {
          "show_banner": false,
          "image_darken": false,
          "subtitle": "Subheading",
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-contact__main": {
        "type": "page-contact__main",
        "blocks": {
          "page-contact__main-0": {
            "type": "textfield",
            "settings": {
              "label": "Name",
              "required": true
            }
          },
          "page-contact__main-1": {
            "type": "email",
            "settings": {
              "label": "Email"
            }
          },
          "1602777026735": {
            "type": "textfield",
            "settings": {
              "label": "Phone",
              "required": true
            }
          },
          "page-contact__main-2": {
            "type": "textarea",
            "settings": {
              "label": "Message",
              "required": true
            }
          }
        },
        "block_order": [
          "page-contact__main-0",
          "page-contact__main-1",
          "1602777026735",
          "page-contact__main-2"
        ],
        "settings": {
          "title": "We’re here when you need us!",
          "content_text": "<p>Our dedicated team of specialists at Montreal Lighting & Hardware constantly strives to provide you with the best possible service, and we love hearing from you! If you have any questions, comments, or feedback please let us know. You can reach us by phone, chat, or email. We look forward to hearing from you!<\/p><p><\/p><p><strong>Phone: <\/strong>514-416-2013<\/p>",
          "social_enable": true,
          "text_alignment": "left",
          "background": "#e5e5e5",
          "text_color": "#000000",
          "form_position": "right",
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-contact__sections": {
        "type": "page-contact__sections",
        "blocks": {
          "page-contact__sections-0": {
            "type": "rich_text",
            "settings": {
              "title": "Visit Us",
              "heading_font": "open_sans_n4",
              "heading_color": "rgba(0,0,0,0)",
              "heading_alignment": "left",
              "heading_size": 30,
              "text": "<p><strong>The Showroom<\/strong><\/p><p>5670 Paré st., Mount-Royal<br\/>(Quebec) H4P 2M2<br\/>(514) 416-2013<\/p><p><strong>Opening Hours<\/strong><\/p><p>Monday: 10:00am-5:00pm<br\/>Tuesday: 10:00am-5:00pm<br\/>Wednesday: 10:00am-5:00pm<br\/>Thursday: 10:00am-7:00pm<strong><br\/><\/strong>Friday: 10:00am-5:00pm<br\/>Saturday: Closed<br\/>Sunday: Closed<\/p><p><em>We are now also available for virtual and in person consultations <\/em><a href=\"https:\/\/outlook.office365.com\/owa\/calendar\/MontrealLightingHardwareInc@montrealluminaire.com\/bookings\/\"><em>by appointment<\/em><\/a><em>! <\/em><a href=\"https:\/\/outlook.office365.com\/owa\/calendar\/MontrealLightingHardwareInc@montrealluminaire.com\/bookings\/\">Click here<\/a> to schedule your appointment!<\/p>",
              "text_font": "open_sans_n4",
              "text_color": "rgba(0,0,0,0)",
              "text_alignment": "left",
              "text_size": 14,
              "columns": 1,
              "button_label": "",
              "button_link": "",
              "button_alignment": "center",
              "button_style": "button--primary",
              "background": "#eeeeee",
              "gradient": "#d1d1d1",
              "gradient_rotation": 180,
              "width": "half",
              "padding_top": 0,
              "padding_bottom": 0,
              "padding_left": 0,
              "padding_right": 0,
              "animation": "none"
            }
          },
          "page-contact__sections-1": {
            "type": "map",
            "settings": {
              "map_address": "5670 Paré st., Mount-Royal (Quebec) H4P 2M2",
              "map_height": 400,
              "zoom_level": 16,
              "map_image": "shopify:\/\/shop_images\/showroom-map_76a62b8f-0640-44e2-8736-ef91532e85cc.png",
              "api_key": "AIzaSyBHQQbmdRmQjY3jh1Yww7Tc8-SJeS5l2CA",
              "show_pin": true,
              "map_style": "silver",
              "width": "half",
              "padding_top": 0,
              "padding_bottom": 0,
              "padding_left": 0,
              "padding_right": 0,
              "animation": "none"
            }
          }
        },
        "block_order": [
          "page-contact__sections-0",
          "page-contact__sections-1"
        ],
        "settings": {
        }
      },
      "page__main": {
        "type": "page__main",
        "settings": {
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-faq__banner": {
        "type": "page-faq__banner",
        "settings": {
          "show_banner": false,
          "image": "",
          "image_darken": false,
          "subtitle": "Subheading",
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-faq__main": {
        "type": "page-faq__main",
        "settings": {
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-faq__column1": {
        "type": "page-faq__column1",
        "blocks": {
          "page-faq__column1-0": {
            "type": "heading",
            "settings": {
              "title": "General"
            }
          },
          "page-faq__column1-1": {
            "type": "content",
            "settings": {
              "title": "Where is your showroom?",
              "answer": "<p>Our showroom is conveniently located in the design district of the Town of Mount Royal, Quebec at&nbsp;<a href=\"https:\/\/www.google.ca\/maps\/place\/5670+Rue+Par%C3%A9\/@45.4898094,-73.6633426,17z\/data=!4m2!3m1!1s0x4cc9177e34f6eea1:0x5b63fc04faff5b97\">5670 Rue Pare<\/a>. It is easly accessible from highway 15 North and South bound.<\/p>"
            }
          },
          "page-faq__column1-2": {
            "type": "content",
            "settings": {
              "title": "What is the Professional & Designer Program? Why should I join and what are the benefits?",
              "answer": "<p>Designers, architects and trade professionals who join our Professionals&rsquo; Program can expect unparalleled service, free workshops and exclusive benefits. You will enjoy working in our 14,000square\/foot showroom over complimentary espressos and lattes, with guidance from true lighting and hardware specialists. Learn more about the program&nbsp;<a href=\"http:\/\/www.montreallighting.com\/affiliates\/\">here<\/a>.<\/p>"
            }
          },
          "page-faq__column1-3": {
            "type": "content",
            "settings": {
              "title": "Do you charge taxes?",
              "answer": "<p>Sales tax is charged for your order based on the laws and regulations of the province or the state indicated in the shipping address.<\/p>"
            }
          },
          "page-faq__column1-4": {
            "type": "heading",
            "settings": {
              "title": "Shipping & Returns"
            }
          },
          "page-faq__column1-5": {
            "type": "content",
            "settings": {
              "title": "What is your 110% Canadian Landed Price Match Guarantee?",
              "answer": "<p>We want you to buy with the confidence that you&rsquo;re paying the lowest price available in Canada. We can&rsquo;t control our competition, so should you find a lower Canadian price on the same item, we will pay you back the&nbsp;<a href=\"http:\/\/www.montreallighting.com\/landed-price\">difference plus 10%<\/a>!<\/p>"
            }
          },
          "page-faq__column1-6": {
            "type": "content",
            "settings": {
              "title": "Do You Offer A Trade or Volume Discount?",
              "answer": "<p>Please consider that all of our prices are already discounted from the retail price in order to compete in the very competitive online world. If you are interested in pricing for a large volume order, please call us at (514) 416-2013 or email&nbsp;<a href=\"mailto:support@montrealluminaire.com\">support@montrealluminaire.com<\/a>. If you are a designer, architect or trade professional, learn more about the exclusive benefits we offer in our&nbsp;<a href=\"http:\/\/www.montreallighting.com\/affiliates\/\">Professionals Program<\/a>.&nbsp;<\/p>"
            }
          },
          "page-faq__column1-7": {
            "type": "content",
            "settings": {
              "title": "What Payment Options Do You Accept?",
              "answer": "<p>We accept all major credit card cards including American Express, Visa and MasterCard. We also accept PayPal, cheque and wire transfer.<\/p>"
            }
          },
          "1602789210923": {
            "type": "content",
            "settings": {
              "title": "How can I check my order status?",
              "answer": "<p>To check the status of an existing order, please call (514) 416-2013 or send an email to&nbsp;<a href=\"mailto:support@montrealluminaire.com\">support@montrealluminaire.com<\/a>.<\/p>"
            }
          },
          "1602789225464": {
            "type": "content",
            "settings": {
              "title": "What are my delivery options and how much do they cost?",
              "answer": "<p><strong>Canada<\/strong>: We offer free shipping on orders over $199 in Canada. Orders that do not meet the $199 threshold are charged a shipping fee based on the weight of the order, and the fee is calculated on the first page of the checkout. &nbsp;<\/p>\n<p><strong>Free In-store pick-up:&nbsp;<\/strong>You are always welcome to pick up your purchase in store.<\/p>\n<p><strong>International:<\/strong>&nbsp;We will be happy to provide a competitive shipping quote for deliveries outside of Canada. For questions about shipping, delivery and a &ldquo;white glove&rdquo; service option, please call us at 514-416-2013 or write us at&nbsp;<a href=\"mailto:support@montrealluminaire.com\">support@montrealluminaire.com<\/a>.<\/p>"
            }
          },
          "1602789243247": {
            "type": "content",
            "settings": {
              "title": "How long will it take to receive my order?",
              "answer": "<p>In-stock orders ship from our warehouse in Montreal and typically arrive anywhere in Canada within 3-5 business days. Deliveries are made Monday-Friday during regular business hours.&nbsp;<\/p>\n<p>If an item is not in stock we will contact you with the expected delivery date. Please be aware that your product may be shipped directly from the vendor for faster delivery.&nbsp;<\/p>\n<p>We are happy to provide you with delivery quotations for expedited deliveries as well as international orders.<\/p>"
            }
          },
          "1602789263775": {
            "type": "content",
            "settings": {
              "title": "How will my order be delivered?",
              "answer": "<p>We use Canada Post, FedEx or UPS to ship most products, though items that are too large are shipped via specialized carrier. In most cases, these specialized carriers will call you prior to delivering your order to arrange a convenient delivery time during regular business hours. If you require special assistance or &ldquo;white glove&rdquo; service, please call us at (514) 416-2013 or email&nbsp;<a href=\"mailto:support@montrealluminaire.com\">support@montrealluminaire.com<\/a>.<\/p>"
            }
          },
          "1602789279955": {
            "type": "content",
            "settings": {
              "title": "Do you ship orders outside of Canada?",
              "answer": "<p>Yes, we ship internationally. You may be required to pay duties, broker, and clearance fees depending on the origin of the products ordered. Please call (514) 416-2013 or email&nbsp;<a href=\"mailto:support@montrealluminaire.com\">support@montrealluminaire.com<\/a>&nbsp;for assistance.<\/p>"
            }
          },
          "1602789289606": {
            "type": "content",
            "settings": {
              "title": "How can I return a product?",
              "answer": "<p>It&rsquo;s our pleasure to assist you with your return. Please contact us within 14 days of receiving the product and consult the details of our return policy here. All returns require a return authorization number to be processed and some returns may be subject to restocking fees.&nbsp;<\/p>"
            }
          }
        },
        "block_order": [
          "page-faq__column1-0",
          "page-faq__column1-1",
          "page-faq__column1-2",
          "page-faq__column1-3",
          "page-faq__column1-5",
          "page-faq__column1-6",
          "page-faq__column1-7",
          "page-faq__column1-4",
          "1602789210923",
          "1602789225464",
          "1602789243247",
          "1602789263775",
          "1602789279955",
          "1602789289606"
        ],
        "settings": {
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "page-faq__column2": {
        "type": "page-faq__column2",
        "settings": {
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "product-image-scroll__main": {
        "type": "product-image-scroll__main",
        "settings": {
          "enable_zoom": true,
          "enable_product_lightbox": true,
          "display_thumbnails": true,
          "slideshow_speed": 0,
          "slideshow_transition": "slide",
          "enable_thumbnail_slider": true,
          "product_images_position": "left",
          "set_product_height": false,
          "product_height": 500,
          "video_looping": false,
          "width": "standard",
          "padding_top": 20,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "product-sections__main": {
        "type": "product-sections__main",
        "blocks": {
          "product-sections__main-0": {
            "type": "product_info",
            "settings": {
              "display_vendor": false,
              "display_sku": false,
              "enable_shopify_product_badges": false,
              "display_savings": true,
              "display_collections": false,
              "display_type": false,
              "display_tags": false,
              "display_social_buttons": true,
              "product_description_position": "top",
              "show_payment_button": true,
              "set_product_height": false,
              "product_height": 500,
              "video_looping": false,
              "width": "half",
              "padding_top": 0,
              "padding_bottom": 0,
              "padding_left": 0,
              "padding_right": 0,
              "animation": "none"
            }
          },
          "product-sections__main-1": {
            "type": "product_gallery",
            "settings": {
              "display_thumbnails": true,
              "gallery_arrows": true,
              "enable_zoom": true,
              "enable_product_lightbox": true,
              "slideshow_speed": 0,
              "slideshow_transition": "slide",
              "thumbnail_position": "bottom-thumbnails",
              "enable_thumbnail_slider": true,
              "width": "half",
              "padding_top": 0,
              "padding_bottom": 0,
              "padding_left": 0,
              "padding_right": 0,
              "animation": "none"
            }
          },
          "product-sections__main-2": {
            "type": "recommended_products",
            "settings": {
              "width": "wide",
              "padding_top": 20,
              "padding_bottom": 20,
              "animation": "none"
            }
          }
        },
        "block_order": [
          "product-sections__main-0",
          "product-sections__main-1",
          "product-sections__main-2"
        ],
        "settings": {
          "product_breadcrumb": false,
          "padding_top": 20,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "search__banner": {
        "type": "search__banner",
        "settings": {
          "show_banner": false,
          "image_darken": false,
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "search__sidebar": {
        "type": "search__sidebar",
        "blocks": {
          "search__sidebar-0": {
            "type": "featured_promo",
            "settings": {
              "promo_background": "#eeeeee",
              "promo_text": "#000000",
              "richtext": "<p>Use this area for promotional information.<\/p>",
              "button_label": "Shop now",
              "button_style": "button--primary"
            }
          },
          "search__sidebar-1": {
            "type": "menu",
            "settings": {
              "menu": ""
            }
          },
          "search__sidebar-2": {
            "type": "text",
            "settings": {
              "title": "Heading",
              "text": "<p>Text area can be used for details about blog authors or general information.<\/p>"
            }
          }
        },
        "block_order": [
          "search__sidebar-0",
          "search__sidebar-1",
          "search__sidebar-2"
        ],
        "settings": {
          "show_sidebar": false,
          "css_class": "",
          "custom_css": ""
        }
      },
      "search__main": {
        "type": "search__main",
        "settings": {
          "search_breadcrumb": true,
          "text": "<p>Find what you seek.<\/p>",
          "products_per_row": 3,
          "mobile_products_per_row": "1",
          "pagination_limit": 48,
          "pagination_type": "basic_pagination",
          "align_height": true,
          "collection_height": 250,
          "blog_author": false,
          "blog_date": true,
          "width": "wide",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "list-collections__main": {
        "type": "list-collections__main",
        "settings": {
          "collections_per_row": 3,
          "pagination_limit": 48,
          "pagination_type": "basic_pagination",
          "align_height": true,
          "collection_height": 340,
          "button_style": "button--secondary",
          "overlay_background": "#939393",
          "overlay_background_opacity": 70,
          "overlay_text": "#ffffff",
          "collection_title_below_image": false,
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "collection-subcollection__main": {
        "type": "collection-subcollection__main",
        "settings": {
          "collection_breadcrumb": true,
          "show_promo_banner": false,
          "image_darken": true,
          "promo_title": "Special sale on now!",
          "promo_text": "<p>Description of promotion with lots of details.<\/p>",
          "banner_height": "medium",
          "collections_per_row": 3,
          "mobile_collections_per_row": "1",
          "align_height": true,
          "collection_height": 200,
          "button_style": "button--primary",
          "overlay_background": "#939393",
          "overlay_background_opacity": 70,
          "overlay_text": "#ffffff",
          "collection_title_below_image": false,
          "width": "standard",
          "padding_top": 30,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ".thumbnail {\n  max-width: 100%;\n  height: 200px;\n}"
        }
      },
      "subcollection__featured-collection": {
        "type": "subcollection__featured-collection",
        "settings": {
          "collection_tags": false,
          "collection_sort": false,
          "align_height": false,
          "collection_height": 200,
          "products_per_row": 3,
          "mobile_products_per_row": "1",
          "pagination_limit": 48,
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "hide",
          "custom_css": ""
        }
      },
      "1609793020dc27cee4": {
        "type": "index__featured-collection",
        "settings": {
          "title": "Best Sellers",
          "collection": "best-sellers",
          "products_per": 4,
          "products_limit": 12,
          "align_height": true,
          "collection_height": 200,
          "collection_style": "slider",
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "mobile_products_per_row": "1",
          "css_class": "",
          "custom_css": ""
        }
      },
      "1609793121defb11f6": {
        "type": "index__collection-list",
        "blocks": {
          "1609793121defb11f6-0": {
            "type": "collection",
            "settings": {
              "feature_collection": "",
              "image": "shopify:\/\/shop_images\/Hollis_and_Morris.jpg",
              "title": "Canada's Best Brands",
              "button_label": "Shop Canadian"
            }
          },
          "1609793121defb11f6-1": {
            "type": "collection",
            "settings": {
              "feature_collection": "",
              "image": "shopify:\/\/shop_images\/Sale.jpg",
              "title": "What's On Sale",
              "button_label": "Shop our promotions"
            }
          },
          "1609793121defb11f6-2": {
            "type": "collection",
            "settings": {
              "feature_collection": "",
              "image": "shopify:\/\/shop_images\/ml-store-1.jpg",
              "title": "Our Showroom",
              "button_label": "Visit our showroom"
            }
          }
        },
        "block_order": [
          "1609793121defb11f6-0",
          "1609793121defb11f6-1",
          "1609793121defb11f6-2"
        ],
        "disabled": true,
        "settings": {
          "collections_per_row": 3,
          "align_height": false,
          "collection_height": 400,
          "button_style": "button--primary",
          "overlay_text": "#ffffff",
          "overlay_background": "#939393",
          "overlay_background_opacity": 20,
          "collection_title_below_image": false,
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "1611173192230751cc": {
        "type": "index__featured-promotions",
        "blocks": {
          "1611173192230751cc-0": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Hollis_and_Morris.jpg",
              "icon_label": "",
              "title": "Canada's Best Brands",
              "text": "<p>Shop Canadian →<\/p>",
              "link": "shopify:\/\/collections\/canadian-brands",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          },
          "1611173192230751cc-1": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Matteo_-_C64001BZ_LifeScene.png",
              "icon_label": "",
              "title": "Sale",
              "text": "<p>Shop our promotions →<\/p>",
              "link": "shopify:\/\/collections\/sale",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          },
          "1611173192230751cc-2": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/ml-store-1.jpg",
              "icon_label": "",
              "title": "Our Showroom",
              "text": "<p>Visit our showroom →<\/p>",
              "link": "shopify:\/\/pages\/showroom",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          }
        },
        "block_order": [
          "1611173192230751cc-0",
          "1611173192230751cc-1",
          "1611173192230751cc-2"
        ],
        "settings": {
          "border_radius": 0,
          "crop_images": true,
          "show_border": true,
          "overlay_text": "#ffffff",
          "overlay_background": "#939393",
          "overlay_background_opacity": 0,
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "css_class": ".featured-promotions__title",
          "custom_css": ".featured-promotions__title {\nfont-size:1.8em;}"
        }
      },
      "page-details__main": {
        "type": "page-details__main",
        "blocks": {
          "cff24c1f-74ac-42e8-8b6d-278bf4507f4c": {
            "type": "rich_text",
            "settings": {
              "title": "Brands",
              "heading_font": "open_sans_n4",
              "heading_color": "rgba(0,0,0,0)",
              "heading_alignment": "center",
              "heading_size": 30,
              "text": "",
              "text_font": "open_sans_n4",
              "text_color": "rgba(0,0,0,0)",
              "text_alignment": "left",
              "text_size": 14,
              "columns": 2,
              "button_label": "",
              "button_link": "",
              "button_alignment": "center",
              "button_style": "button--primary",
              "background": "rgba(0,0,0,0)",
              "gradient": "rgba(0,0,0,0)",
              "gradient_rotation": 180,
              "width": "wide",
              "padding_top": 20,
              "padding_bottom": 0,
              "padding_left": 0,
              "padding_right": 0,
              "animation": "none"
            }
          },
          "2f424916-0a89-4040-a700-13fbd94ef24f": {
            "type": "gallery",
            "settings": {
              "image1": "shopify:\/\/shop_images\/Artemide.png",
              "link1": "",
              "hide1": false,
              "image2": "shopify:\/\/shop_images\/Louis_Poulsen.png",
              "link2": "",
              "hide2": false,
              "image3": "shopify:\/\/shop_images\/Mitzi_2.png",
              "link3": "",
              "hide3": false,
              "image4": "shopify:\/\/shop_images\/Kuzco-logo.jpg",
              "link4": "",
              "hide4": false,
              "link5": "",
              "hide5": true,
              "gallery_type": "classic",
              "crop_images": false,
              "images_per_row": 4,
              "enable_lightbox": false,
              "overlay_color": "#000000",
              "link_color": "#ffffff",
              "width": "standard",
              "show_gutter": true,
              "padding_top": 0,
              "padding_bottom": 0,
              "animation": "none"
            }
          },
          "3266c471-af63-4cf5-92e1-89517f0b5ed2": {
            "type": "page",
            "settings": {
              "content_page": "brands",
              "background": "#eeeeee",
              "gradient": "rgba(0,0,0,0)",
              "gradient_rotation": 0,
              "width": "standard",
              "padding_top": 40,
              "padding_bottom": 40,
              "padding_left": 0,
              "padding_right": 0,
              "animation": "none"
            }
          }
        },
        "block_order": [
          "cff24c1f-74ac-42e8-8b6d-278bf4507f4c",
          "2f424916-0a89-4040-a700-13fbd94ef24f",
          "3266c471-af63-4cf5-92e1-89517f0b5ed2"
        ],
        "settings": {
          "css_class": "",
          "custom_css": ""
        }
      },
      "filter-menu-settings": {
        "type": "filter-menu-settings",
        "settings": {
        }
      },
      "1614203841ac91e556": {
        "type": "index__featured-promotions",
        "blocks": {
          "1614203840101ed7ea-0": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Hubbardton_Forge_-_Courbe_Duet.jpg",
              "icon_label": "",
              "title": "Want it, can't find it?",
              "text": "<p>Our specialists love a challenge! Let us know what you’re searching for and we’ll source it for you.<\/p>",
              "link": "shopify:\/\/pages\/contact-us",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          },
          "1614203840101ed7ea-1": {
            "type": "image",
            "settings": {
              "image": "shopify:\/\/shop_images\/Alora_-_HARMONY_PD306418NBWC_lifestyle_72.jpg",
              "icon_label": "",
              "title": "Book An Appointment",
              "text": "<p>Our team of experts is here to help you with complimentary in-person and virtual consultations.<\/p>",
              "link": "https:\/\/outlook.office365.com\/owa\/calendar\/MontrealLightingHardwareInc@montrealluminaire.com\/bookings\/",
              "overlay_text": "rgba(0,0,0,0)",
              "overlay_background": "#49494b",
              "overlay_background_opacity": 40
            }
          }
        },
        "block_order": [
          "1614203840101ed7ea-0",
          "1614203840101ed7ea-1"
        ],
        "settings": {
          "border_radius": 0,
          "crop_images": true,
          "show_border": false,
          "overlay_text": "#ffffff",
          "overlay_background": "#939393",
          "overlay_background_opacity": 0,
          "width": "standard",
          "show_gutter": true,
          "padding_top": 20,
          "padding_bottom": 20,
          "animation": "none",
          "css_class": "",
          "custom_css": "div {margin-bottom:-50px;}\n.has-image-crop .image-element__wrap{\nheight:80%;\n}\n.featured-promotions__content:before{\nheight:80%;\n}\n.featured-promotions__title {\nmargin-top: -60px;\nfont-size:1.8em;}\nh3 {\nmargin-bottom: 0px\n}"
        }
      },
      "page__banner": {
        "type": "page__banner",
        "settings": {
          "image": "shopify:\/\/shop_images\/How-To.jpg",
          "image_darken": true,
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "my-offers-tabs": {
        "type": "my-offers-tabs",
        "blocks": {
          "25ae2ff5-f3a4-4a8a-b279-36ea9241127b": {
            "type": "offer",
            "disabled": true,
            "settings": {
              "collection": "overstock-and-overstock-sale",
              "title": "",
              "offer_details_product_cart": "",
              "title_fr": "<p>In Stock - Ready To Ship<\/p>",
              "offer_details_product_cart_fr": "<p>En inventaire - Prêt à livrer<\/p>",
              "offer_bg_color": "#f1f1f1",
              "offer_text_color": "#222222",
              "link_text": "Offer Link",
              "link_text_fr": "Offer Link",
              "link_url": ""
            }
          },
          "offer_VXnW8Q": {
            "type": "offer",
            "settings": {
              "collection": "battery-lamps",
              "title": "",
              "offer_details_product_cart": "",
              "title_fr": "",
              "offer_details_product_cart_fr": "",
              "offer_bg_color": "#f1f1f1",
              "offer_text_color": "#222222",
              "link_text": "Offer Link",
              "link_text_fr": "Offer Link",
              "link_url": ""
            }
          },
          "offer_AziyNP": {
            "type": "offer",
            "disabled": true,
            "settings": {
              "collection": "spring-sale",
              "title": "<p>Spring Sale<\/p>",
              "offer_details_product_cart": "<p>15% OFF WITH CODE SPRING15<\/p>",
              "title_fr": "<p>Solde printanière<\/p>",
              "offer_details_product_cart_fr": "<p>15% DE RABAIS AVEC CODE PRINTEMPS15<\/p>",
              "offer_bg_color": "#f1f1f1",
              "offer_text_color": "#222222",
              "link_text": "Offer Link",
              "link_text_fr": "Offer Link",
              "link_url": ""
            }
          },
          "offer_cfA6Wk": {
            "type": "offer",
            "settings": {
              "collection": "easter-sale",
              "title": "",
              "offer_details_product_cart": "<p>20% OFF WITH CODE: EASTER20<\/p>",
              "title_fr": "",
              "offer_details_product_cart_fr": "<p>20% DE RABAIS AVEC CODE: PAQUES20<\/p>",
              "offer_bg_color": "#f1f1f1",
              "offer_text_color": "#222222",
              "link_text": "Offer Link",
              "link_text_fr": "Offer Link",
              "link_url": ""
            }
          }
        },
        "block_order": [
          "25ae2ff5-f3a4-4a8a-b279-36ea9241127b",
          "offer_VXnW8Q",
          "offer_AziyNP",
          "offer_cfA6Wk"
        ],
        "settings": {
          "enabled": false,
          "btn_text": "MY OFFERS",
          "btn_text_fr": "MES OFFRES",
          "btn_bg_color": "#ffffff",
          "btn_text_color": "#000000"
        }
      },
      "blog__banner": {
        "type": "blog__banner",
        "settings": {
          "show_banner": true,
          "image": "shopify:\/\/shop_images\/Blog.png",
          "image_darken": true,
          "subtitle": "",
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "blog__sidebar": {
        "type": "blog__sidebar",
        "blocks": {
          "blog__sidebar-0": {
            "type": "featured_promo",
            "settings": {
              "promo_background": "#eeeeee",
              "promo_text": "#000000",
              "richtext": "<p>Use this area for promotional information.<\/p>",
              "promo_link": "",
              "button_label": "Shop now",
              "button_style": "button--primary"
            }
          },
          "blog__sidebar-1": {
            "type": "menu",
            "settings": {
              "menu": ""
            }
          },
          "blog__sidebar-2": {
            "type": "text",
            "settings": {
              "title": "Heading",
              "text": "<p>Text area can be used for details about blog authors or general information.<\/p>"
            }
          }
        },
        "block_order": [
          "blog__sidebar-0",
          "blog__sidebar-1",
          "blog__sidebar-2"
        ],
        "settings": {
          "show_sidebar": false,
          "sidebar_position": "left",
          "css_class": "",
          "custom_css": ""
        }
      },
      "blog__main": {
        "type": "blog__main",
        "settings": {
          "blog_tags": false,
          "blog_posts_per_row": 3,
          "blog_posts_per_page": 12,
          "pagination_type": "basic_pagination",
          "blog_author": false,
          "blog_date": true,
          "blog_comment_count": true,
          "blog_show_tags": true,
          "blog_show_excerpt": true,
          "show_border": true,
          "button_label": "Read more",
          "button_type": "button--primary",
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "animation": "none",
          "css_class": "",
          "custom_css": ""
        }
      },
      "article__banner": {
        "type": "article__banner",
        "settings": {
          "show_banner": true,
          "image_darken": true,
          "width": "wide",
          "banner_height": "medium",
          "padding_top": 0,
          "padding_bottom": 0,
          "css_class": "",
          "custom_css": ""
        }
      },
      "article__sidebar": {
        "type": "article__sidebar",
        "blocks": {
          "article__sidebar-0": {
            "type": "featured_promo",
            "settings": {
              "promo_background": "#EEEEEE",
              "promo_text": "#000000",
              "richtext": "<p>Use this area for promotional information.<\/p>",
              "promo_link": "",
              "button_label": "Shop now",
              "button_style": "button--primary"
            }
          },
          "article__sidebar-1": {
            "type": "menu",
            "settings": {
              "menu": ""
            }
          },
          "article__sidebar-2": {
            "type": "text",
            "settings": {
              "title": "",
              "text": "<p>Text area can be used for details about blog authors or general information.<\/p>"
            }
          }
        },
        "block_order": [
          "article__sidebar-0",
          "article__sidebar-1",
          "article__sidebar-2"
        ],
        "settings": {
          "show_sidebar": false,
          "sidebar_position": "left",
          "css_class": "",
          "custom_css": ""
        }
      },
      "article__main": {
        "type": "article__main",
        "settings": {
          "show_breadcrumb": true,
          "blog_author": true,
          "blog_date": true,
          "blog_comment_count": true,
          "show_tags": false,
          "show_featured_image": false,
          "width": "standard",
          "padding_top": 40,
          "padding_bottom": 40,
          "css_class": "",
          "custom_css": ""
        }
      },
      "mega-menu-4": {
        "type": "mega-menu-4",
        "blocks": {
          "mega-menu-4-0": {
            "type": "menu",
            "settings": {
              "menu_1": "fans-1",
              "menu_1_link": ""
            }
          }
        },
        "block_order": [
          "mega-menu-4-0"
        ],
        "settings": {
          "parent_link": "inspiration",
          "enable_mega_menu_border": true,
          "mega_menu_background_color": "#f6f6f6",
          "mega_menu_text_color": "#404040",
          "show_mega_bottom_bar": false,
          "mega_bottom_bar_icon": "",
          "mega_bottom_bar_text": "Add your deal, information or promotional text",
          "mega_bottom_bar_link": "",
          "size": "regular",
          "bottom_banner_bg": "#007ace",
          "bottom_banner_text": "#efefef",
          "css_class": "",
          "custom_css": ""
        }
      }
    },
    "content_for_index": [
      "1597687217268",
      "1557099098656",
      "1593481282272",
      "1557099160579",
      "1593483223626",
      "1593460522544",
      "1609793121defb11f6",
      "1611173192230751cc",
      "1609793020dc27cee4",
      "1557099063267",
      "1614203841ac91e556"
    ],
    "blocks": {
      "18209738915288330680": {
        "type": "shopify:\/\/apps\/wholesale-all-in-one\/blocks\/wholesale-all-in-one\/5a3d95fb-5647-47d5-8445-d5858f91ff9d",
        "disabled": false,
        "settings": {
          "wsaio_app_access_token": "",
          "wsaio_main_js_file": "\/**\n * Version: 0.3.6\n * Updated: 21 September, 2021\n * Compatible With: 2.3.8\n **\/\n\n WSAIO.init = function ($) {\n\twindow.$wsj = $;\n\tif(!WSAIO.main_liquid_file_included){\n\t\tif(!WSAIO.no_logs){\n\t\t\t\/\/ console.error(\"%cError 404 -- 'wholesale-all-in-one-main.liquid' file not found.\", \"font-size: 20px\");\n\t\t}\n\t\tWSAIO = undefined;\n\t\tWSAIO_is_disabled = true;\n\t\treturn false;\n\t}\n\tvar $ws = this;\n\tWSAIO.httpRequest = new XMLHttpRequest();\n\tWSAIO.DiscountCode = {};\n\tlocalStorage.removeItem(\"ws-applied-coupon\");\n\tWSAIO.all_discount_tags = [];\n\t$ws.applied_tag = \"all\";\n\tif ('undefined' === typeof WSAIO.Currency) {\n\t\tWSAIO.Currency = {};\n\t}\n\tif (!Array.prototype.findIndex) {\n\t\tObject.defineProperty(Array.prototype, \"findIndex\", {\n\t\t\tvalue: function (c, d) {\n\t\t\t\tif (null == this) throw new TypeError('\"this\" is null or not defined');\n\t\t\t\tvar b = Object(this),\n\t\t\t\t\te = b.length >>> 0;\n\t\t\t\tif (\"function\" !== typeof c) throw new TypeError(\"predicate must be a function\");\n\t\t\t\tfor (var a = 0; a < e;) {\n\t\t\t\t\tif (c.call(d, b[a], a, b)) return a;\n\t\t\t\t\ta++\n\t\t\t\t}\n\t\t\t\treturn -1\n\t\t\t},\n\t\t\tconfigurable: !0,\n\t\t\twritable: !0\n\t\t});\n\t}\n\tif (!Array.prototype.indexOf) {\n\t\tArray.prototype.indexOf = function (d, e) {\n\t\t\tif (null == this) throw new TypeError('\"this\" is null or not defined');\n\t\t\tvar c = Object(this),\n\t\t\t\tb = c.length >>> 0;\n\t\t\tif (0 === b) return -1;\n\t\t\tvar a = e | 0;\n\t\t\tif (a >= b) return -1;\n\t\t\tfor (a = Math.max(0 <= a ? a : b - Math.abs(a), 0); a < b; a++)\n\t\t\t\tif (a in c && c[a] === d) return a;\n\t\t\treturn -1\n\t\t};\n\t}\n\tif (!Array.prototype.find) {\n\t\tObject.defineProperty(Array.prototype, \"find\", {\n\t\t\tvalue: function (c, e) {\n\t\t\t\tif (null == this) throw TypeError('\"this\" is null or not defined');\n\t\t\t\tvar b = Object(this),\n\t\t\t\t\tf = b.length >>> 0;\n\t\t\t\tif (\"function\" !== typeof c) throw TypeError(\"predicate must be a function\");\n\t\t\t\tfor (var a = 0; a < f;) {\n\t\t\t\t\tvar d = b[a];\n\t\t\t\t\tif (c.call(e, d, a, b)) return d;\n\t\t\t\t\ta++\n\t\t\t\t}\n\t\t\t},\n\t\t\tconfigurable: !0,\n\t\t\twritable: !0\n\t\t});\n\t}\n\n\tfunction log(a) {\n\t\tif (!WSAIO.no_logs && [\"log\", \"info\", \"error\", \"warn\", \"Log\", \"Info\", \"Error\", \"Warn\"].indexOf($ws.log) > -1) {\n\t\t\ttry {\n\t\t\t\tconsole[$ws.log.toLowerCase()](\"WSAIO \" + $ws.log.toUpperCase(), a);\n\t\t\t} catch (e) {}\n\t\t}\n\t}\n\n\tfunction isError(a) {\n\t\tif (!WSAIO.no_logs && [\"log\", \"info\", \"error\", \"warn\", \"Log\", \"Info\", \"Error\", \"Warn\"].indexOf($ws.errorLog) > -1) {\n\t\t\ttry {\n\t\t\t\t\/\/ console[$ws.errorLog](\"WSAIO ERROR\", a);\n\t\t\t} catch (e) {}\n\t\t}\n\t}\n\n\tWSAIO.mF = function (a) {\n\t\tif (isNaN(a) || null == a) return 0;\n\t\ta = a.toString();\n\t\tif (\"string\" == typeof a && -1 < a.indexOf(\".\")) return 2 > a.split(\".\")[1].length ? Number(a).toFixed(2).toString() : a.toString();\n\t\ta = (Number(a) \/ 100).toFixed(2);\n\t\treturn a.toString()\n\t};\n\n\tWSAIO.formatMoney = function (a, g) {\n\t\tfunction b(a, c, b, d) {\n\t\t\tb = b || \",\";\n\t\t\td = d || \".\";\n\t\t\tif (isNaN(a) || null === a) return 0;\n\t\t\ta = (a \/ 100).toFixed(c);\n\t\t\ta = a.split(\".\");\n\t\t\treturn a[0].replace(\/(d)(?=(ddd)+(?!d))\/g, \"$1\" + b) + (a[1] ? d + a[1] : \"\")\n\t\t}\n\t\t\"string\" === typeof a && (a = a.replace(\".\", \"\"));\n\t\tvar c = \"\",\n\t\t\te = \/\\{\\{\\s*(\\w+)\\s*\\}\\}\/,\n\t\t\tf = g || $ws.shopInfo.money_format || WSAIO.shop_money_format;\n\t\tswitch (f.match(e)[1]) {\n\t\t\tcase \"amount\":\n\t\t\t\tc = b(a, 2);\n\t\t\t\tbreak;\n\t\t\tcase \"amount_no_decimals\":\n\t\t\t\tc = b(a, 0);\n\t\t\t\tbreak;\n\t\t\tcase \"amount_with_comma_separator\":\n\t\t\t\tc = b(a, 2, \".\", \",\");\n\t\t\t\tbreak;\n\t\t\tcase \"amount_no_decimals_with_comma_separator\":\n\t\t\t\tc = b(a, 0, \".\", \",\");\n\t\t\t\tbreak;\n\t\t\tcase \"amount_no_decimals_with_space_separator\":\n\t\t\t\tc = b(a, 0, \" \");\n\t\t\t\tbreak;\n\t\t\tcase \"amount_with_apostrophe_separator\":\n\t\t\t\tc = b(a, 2, \"'\")\n\t\t}\n\t\treturn f.replace(e, c)\n\t};\n\n\tWSAIO.displayTable = function (a, b) {\n\t\tif (\"undefined\" === typeof b) return isError(\"Volume discount table selector for product page was not defined.\");\n\t\tif (-1 < b.indexOf(\":\")) {\n\t\t\tvar d = b.split(\":\")[1];\n\t\t\tvar c = b.split(\":\")[0];\n\t\t\tswitch (d) {\n\t\t\t\tcase \"append\":\n\t\t\t\t\t$(c).append(a);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"prepend\":\n\t\t\t\t\t$(c).prepend(a);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"before\":\n\t\t\t\t\t$(a).insertBefore(c);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"after\":\n\t\t\t\t\t$(a).insertAfter(c);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$(c).html(a)\n\t\t\t}\n\t\t} else $(b).html(a)\n\t};\n\n\tWSAIO.alterHTML = function (a, b) {\n\t\tif (\"undefined\" === typeof b) return isError(\"Selector was not defined.\");\n\t\tif (-1 < b.indexOf(\":\")) {\n\t\t\tvar d = b.split(\":\")[1];\n\t\t\tvar c = b.split(\":\")[0];\n\t\t\tswitch (d) {\n\t\t\t\tcase \"append\":\n\t\t\t\t\t$(c).append(a);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"prepend\":\n\t\t\t\t\t$(c).prepend(a);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"before\":\n\t\t\t\t\t$(a).insertBefore(c);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"after\":\n\t\t\t\t\t$(a).insertAfter(c);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t$(c).html(a)\n\t\t\t}\n\t\t} else $(b).html(a)\n\t};\n\n\tWSAIO.DiscountCode.addForm = function (html, selector) {\n\t\tif($(\".wsaio--coupon-code-form\").length > 0){\n\t\t\t$(\".wsaio--coupon-code-form\").remove();\n            $(\".wsaio--coupon-code-alerts\").remove();\n\t\t}\n\t\t$ws.alterHTML(html || $ws.discount_code_form_html, selector || $ws.discount_code_field_selector);\n\t}\n\n\tWSAIO.DiscountCode.toggle = function (state) {\n\t\tif ('undefined' === typeof state) var state = 'show';\n\t\tif ($ws.discount_code_field_selector.indexOf(':') > -1) {\n\t\t\t(state === 'show' ? ($($ws.discount_code_field_selector.split(\":\")[0]).show()) : ($($ws.discount_code_field_selector.split(\":\")[0]).hide()));\n\t\t} else {\n\t\t\t(state === 'show' ? ($($ws.discount_code_field_selector).show()) : ($($ws.discount_code_field_selector).hide()));\n\t\t}\n\t}\n\n\tWSAIO.checkCustomer = function (type, tags, excluded) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tswitch (type) {\n\t\t\tcase 'has_tag':\n\t\t\t\tif ($ws.customer.id) {\n\t\t\t\t\tvar isTag_all = tags.indexOf(\"all\");\n\t\t\t\t\tvar isTag_has_account = tags.indexOf(\"has_account\");\n\t\t\t\t\tvar isTag = [];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tisTag = tags.map(function (tag) {\n\t\t\t\t\t\t\treturn $ws.customer.tags.findIndex(function (tag2) {\n\t\t\t\t\t\t\t\treturn tag.toLowerCase() === tag2\n\t\t\t\t\t\t\t}) > -1\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (error) {}\n\t\t\t\t\tif (isTag.indexOf(true) > -1) {\n\t\t\t\t\t\t$ws.applied_tag = tags[isTag.indexOf(true)];\n\t\t\t\t\t\treturn isTag.indexOf(true) > -1\n\t\t\t\t\t} else if (isTag_all > -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (isTag_has_account > -1) {\n\t\t\t\t\t\t$ws.applied_tag = 'has_account';\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn isTag.indexOf(true) > -1\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar isTag_all = tags.indexOf(\"all\");\n\t\t\t\t\tvar isTag_no_account = tags.indexOf(\"no_account\");\n\t\t\t\t\tif (isTag_no_account > -1) {\n\t\t\t\t\t\t$ws.applied_tag = 'no_account';\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if (isTag_all > -1) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'has_account':\n\t\t\t\t$ws.applied_tag = \"has_account\";\n\t\t\t\tif ($ws.customer.id) {\n\t\t\t\t\tvar isTag = [];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tisTag = excluded.map(function (tag) {\n\t\t\t\t\t\t\treturn $ws.customer.tags.findIndex(function (tag2) {\n\t\t\t\t\t\t\t\treturn tag.toLowerCase() === tag2\n\t\t\t\t\t\t\t}) > -1\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (error) {}\n\t\t\t\t\tif (isTag.indexOf(true) > -1) {\n\t\t\t\t\t\t$ws.excluded_tag = excluded[isTag.indexOf(true)];\n\t\t\t\t\t}\n\t\t\t\t\treturn isTag.indexOf(true) === -1\n\t\t\t\t} else return false;\n\t\t\t\tbreak;\n\t\t\tcase 'no_account':\n\t\t\t\t$ws.applied_tag = \"no_account\";\n\t\t\t\treturn $ws.customer.id ? false : true;\n\t\t\t\tbreak;\n\t\t\tcase 'all':\n\t\t\t\tif ($ws.customer.id) {\n\t\t\t\t\tvar isTag = [];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tisTag = excluded.map(function (tag) {\n\t\t\t\t\t\t\treturn $ws.customer.tags.findIndex(function (tag2) {\n\t\t\t\t\t\t\t\treturn tag.toLowerCase() === tag2\n\t\t\t\t\t\t\t}) > -1\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (error) {}\n\t\t\t\t\tif (isTag.indexOf(true) > -1) {\n\t\t\t\t\t\t$ws.excluded_tag = excluded[isTag.indexOf(true)];\n\t\t\t\t\t}\n\t\t\t\t\treturn isTag.indexOf(true) === -1\n\t\t\t\t} else return true;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tif ($ws.customer.id) {\n\t\t\t\t\tvar isTag = [];\n\t\t\t\t\ttry {\n\t\t\t\t\t\tisTag = excluded.map(function (tag) {\n\t\t\t\t\t\t\treturn $ws.customer.tags.findIndex(function (tag2) {\n\t\t\t\t\t\t\t\treturn tag.toLowerCase() === tag2\n\t\t\t\t\t\t\t}) > -1\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (error) {}\n\t\t\t\t\tif (isTag.indexOf(true) > -1) {\n\t\t\t\t\t\t$ws.excluded_tag = excluded[isTag.indexOf(true)];\n\t\t\t\t\t}\n\t\t\t\t\treturn isTag.indexOf(true) === -1\n\t\t\t\t} else return true;\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tWSAIO.checkAppliesTo = function (params) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tswitch (params.type) {\n\t\t\tcase \"products\":\n\t\t\t\tparams.rule[\"priority\"] = 1;\n\t\t\t\tapplies_to_products();\n\t\t\t\tbreak;\n\t\t\tcase \"collections\":\n\t\t\t\tparams.rule[\"priority\"] = 2;\n\t\t\t\tapplies_to_collections();\n\t\t\t\tbreak;\n\t\t\tcase \"entire_store\":\n\t\t\t\tvar excluded = false;\n\t\t\t\tif (params.rule.exclude_products && params.rule.exclude_products.findIndex(function (x) {\n\t\t\t\t\t\treturn x.handle == $ws.selected_product.handle\n\t\t\t\t\t}) > -1) {\n\t\t\t\t\texcluded = true;\n\t\t\t\t}\n\t\t\t\tif (params.rule.exclude_collections && params.rule.exclude_collections.length > 0) {\n\t\t\t\t\tfor (var xzy = 0; xzy < $ws.product_in_collects.length; xzy++) {\n\t\t\t\t\t\tvar item = $ws.product_in_collects[xzy];\n\t\t\t\t\t\tif (-1 < params.rule.exclude_collections.findIndex(function (x) {\n\t\t\t\t\t\t\t\treturn x.id == item.collection_id\n\t\t\t\t\t\t\t})) {\n\t\t\t\t\t\t\tif ($ws.selected_product.id == item.product_id) {\n\t\t\t\t\t\t\t\texcluded = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!excluded) {\n\t\t\t\t\tparams.rule[\"priority\"] = 3;\n\t\t\t\t\tif (params.module === \"regular_discount\") {\n\t\t\t\t\t\t$ws.productRd.push(params.rule);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$ws.productVd.push(params.rule);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tparams.rule[\"priority\"] = 3;\n\t\t\t\tif (params.module === \"regular_discount\") {\n\t\t\t\t\t$ws.productRd.push(params.rule);\n\t\t\t\t} else {\n\t\t\t\t\t$ws.productVd.push(params.rule);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\n\t\tfunction applies_to_products() {\n\t\t\tif (WSAIO.debugger) debugger;\n\t\t\t\/\/ Apply only if selected_product_id was defined.\n\t\t\tif ('undefined' !== typeof $ws.selected_product.handle || 'undefined' !== typeof $ws.selected_product.id) {\n\t\t\t\tvar isFound = params.rule.products.findIndex(function (x) {\n\t\t\t\t\treturn (x.handle === $ws.selected_product.handle || x.id == $ws.selected_product.id)\n\t\t\t\t})\n\t\t\t\tif (isFound > -1) {\n\t\t\t\t\tif (params.module === \"regular_discount\") {\n\t\t\t\t\t\tif (params.rule.products[isFound].variant_level === true) {\n\t\t\t\t\t\t\t$ws.productRd = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$ws.productRd.push(params.rule);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (params.rule.products[isFound].variant_level === true) {\n\t\t\t\t\t\t\t$ws.productVd = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$ws.productVd.push(params.rule);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisError(\"Selected product handle is not defined.\");\n\t\t\t}\n\t\t}\n\n\t\tfunction applies_to_collections() {\n\t\t\tif (WSAIO.debugger) debugger;\n\t\t\tvar isFound = [false];\n\t\t\t\/\/ if selected_product_id is defined\n\t\t\tif ($ws.selected_product.handle) {\n\t\t\t\tvar excluded = false;\n\t\t\t\tif (params.rule.exclude_products && params.rule.exclude_products.findIndex(function (x) {\n\t\t\t\t\t\treturn x.handle == $ws.selected_product.handle\n\t\t\t\t\t}) > -1) {\n\t\t\t\t\texcluded = true;\n\t\t\t\t}\n\t\t\t\tif (!excluded) {\n\t\t\t\t\tisFound = params.rule.collections.map(function (collection, i) {\n\t\t\t\t\t\treturn -1 < ($ws.product_in_collects.findIndex(function (x) {\n\t\t\t\t\t\t\treturn (x.product_handle == $ws.selected_product.handle || x.product_id == $ws.selected_product.id) && x.collection_id == collection.id\n\t\t\t\t\t\t}))\n\t\t\t\t\t});\n\t\t\t\t\tif (isFound.indexOf(true) > -1) {\n\t\t\t\t\t\tif (params.module === \"regular_discount\") {\n\t\t\t\t\t\t\t$ws.productRd.push(params.rule);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t$ws.productVd.push(params.rule);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\/\/ if only selected_collection.id is defined.\n\t\t\telse if ($ws.template === \"collection\" && $ws.selected_collection.id) {\n\t\t\t\t\/\/ $ws.selected_collection.id (if template is collection then this id contains current collection id, otherwise null). for other case\n\t\t\t\tisFound = params.rule.collections.map(function (collection, i) {\n\t\t\t\t\treturn collection.id == $ws.selected_collection.id;\n\t\t\t\t});\n\t\t\t\tif (isFound.indexOf(true) > -1) {\n\t\t\t\t\tif (params.module === \"regular_discount\") {\n\t\t\t\t\t\t$ws.productRd.push(params.rule);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$ws.productVd.push(params.rule);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisError(\"Missing either product's id or collection's id or template is not set for collections\");\n\t\t\t}\n\t\t}\n\t\tif (params.module === \"regular_discount\") {\n\t\t\tif ($ws.productRd && $ws.productRd.length > 1) {\n\t\t\t\tif (-1 < $ws.productRd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.individual_product === true\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productRd = $ws.productRd.filter(function (x) {\n\t\t\t\t\t\treturn x.individual_product === true\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productRd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'has_tag'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productRd = $ws.productRd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'has_tag'\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productRd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'has_tag'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productRd = $ws.productRd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'has_tag'\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productRd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'has_account'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productRd = $ws.productRd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'has_account'\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productRd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'no_account'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productRd = $ws.productRd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'no_account'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tif ($ws.productVd && $ws.productVd.length > 1) {\n\t\t\t\tif (-1 < $ws.productVd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.individual_product === true\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productVd = $ws.productVd.filter(function (x) {\n\t\t\t\t\t\treturn x.individual_product === true\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productVd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'has_tag'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productVd = $ws.productVd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'has_tag'\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productVd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'has_account'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productVd = $ws.productVd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'has_account'\n\t\t\t\t\t});\n\t\t\t\t} else if (-1 < $ws.productVd.findIndex(function (z) {\n\t\t\t\t\t\treturn z.customer_group === 'no_account'\n\t\t\t\t\t})) {\n\t\t\t\t\t$ws.productVd = $ws.productVd.filter(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'no_account'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tWSAIO.volumeDiscount = function (params, callback) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (typeof params === 'function') callback = params;\n\t\tif(!params){\n\t\t\tisError(\"No params provided for volume discount\");\n\t\t\treturn false;\n\t\t}\n\t\tif(!params.item_price_selector){\n\t\t\tisError(\"Item price selector is undefined\");\n\t\t\treturn false;\n\t\t}\n\t\tif (WSAIO.isWholesaleCustomer() === false) {\n\t\t\tif (typeof callback === \"function\") {\n\t\t\t\treturn callback({\n\t\t\t\t\terror: \"Invalid customer\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn \"Invalid customer\";\n\t\t\t}\n\t\t}\n\t\t$ws.output = true;\n\t\t$ws.remove_duplicate_table = false;\n\t\t$ws.selected_variant = JSON.parse(JSON.stringify($ws.current_variant)); \/\/ current variant obj should not change\n\t\t$ws.selected_product = JSON.parse(JSON.stringify($ws.current_product)); \/\/ current product obj should not change\n\t\t$ws.selected_collection = JSON.parse(JSON.stringify($ws.current_collection)); \/\/ current collection obj should not change\n\t\tif (typeof params === 'object') {\n\t\t\tif (typeof params.product_id !== 'undefined' && params.product_id !== \"default\") $ws.selected_product.id = params.product_id;\n\t\t\tif (typeof params.product_handle !== 'undefined' && params.product_handle !== \"default\") $ws.selected_product.handle = params.product_handle;\n\t\t\tif (typeof params.variant_id !== 'undefined' && params.variant_id !== \"default\") $ws.selected_variant.id = params.variant_id;\n\t\t\tif (typeof params.variant_sku !== 'undefined' && params.variant_sku !== \"default\") $ws.selected_variant.sku = params.variant_sku;\n\t\t\tif (typeof params.variant_price !== 'undefined' && params.variant_price !== \"default\") $ws.selected_variant.price = params.variant_price;\n\t\t\tif (typeof params.variant_compare_at_price !== 'undefined' && params.variant_compare_at_price !== \"default\") $ws.selected_variant.compare_at_price = params.variant_compare_at_price;\n\t\t\tif (typeof params.collection_id !== 'undefined' && params.collection_id !== \"default\") $ws.selected_collection.id = params.collection_id;\n\t\t\tif (typeof params.output !== 'undefined' && params.output !== \"default\") $ws.output = params.output;\n\t\t\tif (typeof params.qb_table_selector !== 'undefined' && params.qb_table_selector !== \"default\") $ws.product_qb_table_selector = params.qb_table_selector;\n\t\t\tif (typeof params.remove_duplicate_table !== 'undefined' && params.remove_duplicate_table !== \"default\") $ws.remove_duplicate_table = params.remove_duplicate_table;\n\t\t\tif (typeof params.template !== 'undefined' && params.template !== \"default\") $ws.landingTemplate = params.template;\n\t\t}\n\t\tif ($ws.selected_variant && typeof $ws.selected_variant.price === \"string\" && $ws.selected_variant.price.indexOf(\".\") > -1) {\n\t\t\t$ws.selected_variant.price = $ws.selected_variant.price.replace('.', '');\n\t\t}\n\t\tif ($ws.selected_variant && typeof $ws.selected_variant.compare_at_price === \"string\" && $ws.selected_variant.compare_at_price.indexOf(\".\") > -1) {\n\t\t\t$ws.selected_variant.compare_at_price = $ws.selected_variant.compare_at_price.replace('.', '');\n\t\t}\n\t\t$ws.productVd = [];\n\t\t\/\/ for loop\n\t\tfor (var i = 0, len_i = $ws.volume_discounts.length; i < len_i; i++) {\n\t\t\tvar volume_discount = $ws.volume_discounts[i];\n\t\t\tif (volume_discount.state !== 'published') continue;\n\t\t\tif ($ws.checkCustomer(volume_discount.customer_group, volume_discount.tags, volume_discount.tags_excluded) === false) continue;\n\t\t\tif (volume_discount.schedule_active) {\n\t\t\t\tvar _schedule = $ws.getSchedule(volume_discount.schedule);\n\t\t\t\tlog(\"_schedule\", _schedule);\n\t\t\t\tif (_schedule.ends_in) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tNumber(_schedule.ends_in.years) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.months) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.days) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.hours) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.minutes) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.seconds) <= 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tlog(\"This rule was expired\", _schedule);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tNumber(_schedule.started.years) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.months) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.days) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.hours) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.minutes) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.seconds) >= 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tlog(\"This rule was schedules and will be started in\", _schedule);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t$ws.checkAppliesTo({\n\t\t\t\t\"type\": volume_discount.applies_to,\n\t\t\t\t\"rule\": volume_discount,\n\t\t\t\t\"module\": \"volume_discount\"\n\t\t\t});\n\t\t} \/\/ end for loop\n\t\tif ($ws.productVd.length > 0) {\n\t\t\t\/\/ sort array by priority\n\t\t\t$ws.productVd.sort(function (a, b) {\n\t\t\t\treturn Number(a.priority) - Number(b.priority)\n\t\t\t});\n\t\t\t\/\/ if this array contains multiple applies to, then filter by products or by collection, to exclude extra rules.\n\t\t\tif (-1 < $ws.productVd.findIndex(function (x) {\n\t\t\t\t\treturn x.applies_to == \"products\"\n\t\t\t\t})) {\n\t\t\t\t$ws.productVd = $ws.productVd.filter(function (x) {\n\t\t\t\t\treturn x.applies_to === \"products\"\n\t\t\t\t});\n\t\t\t} else if (-1 < $ws.productVd.findIndex(function (x) {\n\t\t\t\t\treturn x.applies_to == \"collections\"\n\t\t\t\t})) {\n\t\t\t\t$ws.productVd = $ws.productVd.filter(function (y) {\n\t\t\t\t\treturn y.applies_to === \"collections\"\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t$ws.product_qb = [];\n\t\t$ws.product_volume_discount = {};\n\t\t$ws.vd_has_discount = false; \/\/ assume this has\n\t\tif ($ws.productVd && $ws.productVd.length > 1) {\n\t\t\t$ws.productVd = [$ws.productVd[0]];\n\t\t}\n\t\t\/\/ Checking priority of volume discount.\n\t\t$ws.volumeDiscountPriority();\n\t\tif ($ws.productVd && $ws.productVd.length > 0) {\n\t\t\t$ws.vd_has_discount = true;\n\t\t\t\/\/ for loop\n\t\t\tfor (var j = 0, len_j = $ws.productVd.length; j < len_j; j++) {\n\t\t\t\tvar vd_rule = $ws.productVd[j];\n\t\t\t\tif (\"products\" === vd_rule.applies_to && vd_rule.individual_product === true) {\n\t\t\t\t\tfor (var kk = 0; kk < vd_rule.products.length; kk++) {\n\t\t\t\t\t\tvar product = vd_rule.products[kk],\n\t\t\t\t\t\t\tpIndex = kk;\n\t\t\t\t\t\tif (product.handle === $ws.selected_product.handle || product.id == $ws.selected_product.id) {\n\t\t\t\t\t\t\tif ($ws.product_volume_discount.handle !== product.handle) {\n\t\t\t\t\t\t\t\t$ws.product_volume_discount = JSON.parse(JSON.stringify(vd_rule));\n\t\t\t\t\t\t\t\t$ws.product_volume_discount[\"product\"] = product;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (product.variant_level) {\n\t\t\t\t\t\t\t\tfor (var ll = 0; ll < product.variants.length; ll++) {\n\t\t\t\t\t\t\t\t\tvar variant = product.variants[ll],\n\t\t\t\t\t\t\t\t\t\tvIndex = ll;\n\t\t\t\t\t\t\t\t\tvar vIn = variant.tag_options.findIndex(function (apt) {\n\t\t\t\t\t\t\t\t\t\treturn apt.name.toString().toLowerCase() == $ws.applied_tag.toString().toLowerCase()\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (vIn > -1 && (variant.id == $ws.selected_variant.id) || (variant.sku == $ws.selected_variant.sku && !$ws.variant_sku_are_same)) {\n\t\t\t\t\t\t\t\t\t\tvar v_tag_option = variant.tag_options[vIn];\n\t\t\t\t\t\t\t\t\t\t$ws.product_qb.push({\n\t\t\t\t\t\t\t\t\t\t\tname: v_tag_option.name,\n\t\t\t\t\t\t\t\t\t\t\tvalue: v_tag_option.value,\n\t\t\t\t\t\t\t\t\t\t\ttype: v_tag_option.type,\n\t\t\t\t\t\t\t\t\t\t\tqty: variant.quantity\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar pIn = product.tag_options.findIndex(function (apt) {\n\t\t\t\t\t\t\t\t\treturn apt.name.toString().toLowerCase() == $ws.applied_tag.toString().toLowerCase()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (pIn > -1) {\n\t\t\t\t\t\t\t\t\tvar tag_option = product.tag_options[pIn];\n\t\t\t\t\t\t\t\t\t$ws.product_qb.push({\n\t\t\t\t\t\t\t\t\t\tname: tag_option.name,\n\t\t\t\t\t\t\t\t\t\tvalue: tag_option.value,\n\t\t\t\t\t\t\t\t\t\ttype: tag_option.type,\n\t\t\t\t\t\t\t\t\t\tqty: product.quantity\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (var pp = 0; pp < vd_rule.volume_discount.length; pp++) {\n\t\t\t\t\t\tvar vd = vd_rule.volume_discount[pp],\n\t\t\t\t\t\t\tvdIndex = pp;\n\t\t\t\t\t\t$ws.product_qb.push({\n\t\t\t\t\t\t\tname: vd_rule.applies_to,\n\t\t\t\t\t\t\tvalue: vd.value,\n\t\t\t\t\t\t\ttype: vd_rule.discount_type,\n\t\t\t\t\t\t\tqty: vd.qty\n\t\t\t\t\t\t});\n\n\t\t\t\t\t}\n\t\t\t\t\t$ws.product_volume_discount = JSON.parse(JSON.stringify(vd_rule));\n\t\t\t\t\tif (vd_rule.applies_to === \"collections\") {\n\t\t\t\t\t\t$ws.product_volume_discount[\"collections\"] = $ws.product_volume_discount.collections.filter(function (c) {\n\t\t\t\t\t\t\treturn c.id == $ws.selected_collection.id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t$ws.product_volume_discount[\"volume_discount\"] = JSON.parse(JSON.stringify($ws.product_qb));\n\t\t\/\/ if TRUE, app will alter prices. our app will output price and compare at price\n\t\tif ($ws.output && $ws.vd_has_discount) {\n\t\t\tif ($ws.landingTemplate === \"product\" || (window.location.href.indexOf('\/pages\/') > -1 && $ws.landingTemplate === \"collection\")) {\n\t\t\t\t\/\/ Remove the table, also check for the quick view\n\t\t\t\tif ($ws.remove_duplicate_table) {\n\t\t\t\t\t$(\".wholesale-table\").remove();\n\t\t\t\t}\n\t\t\t\tif (typeof $ws.product_volume_discount === 'undefined') isError(\"Volume discount table could not created. Because the rule is empty or not defined. Reference variable is WSAIO.product_volume_discount.\");\n\t\t\t\tswitch ($ws.product_volume_discount.display_option) {\n\t\t\t\t\tcase \"detailed_grid\":\n\t\t\t\t\t\t$ws.detailed_grid_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"basic_grid\":\n\t\t\t\t\t\t$ws.basic_grid_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"grid_range\":\n\t\t\t\t\t\t$ws.grid_range_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"detailed_grid_percent\":\n\t\t\t\t\t\t$ws.detailed_grid_percent_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"percent_grid\":\n\t\t\t\t\t\t$ws.percent_grid_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"grid_range_alternate\":\n\t\t\t\t\t\t$ws.grid_range_alternate_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\t$ws.grid_range_alternate_table($ws.product_volume_discount, params);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t\/\/ This is used for collection listing page\n\t\t\t\tvar value_range = [];\n\t\t\t\tfor (var ee = 0; ee < $ws.product_volume_discount.volume_discount.length; ee++) {\n\t\t\t\t\tvar v = $ws.product_volume_discount.volume_discount[ee];\n\t\t\t\t\tvalue_range.push(Number(v.value));\n\t\t\t\t}\n\t\t\t\tvar min = Math.min.apply(null, value_range);\n\t\t\t\tvar max = Math.max.apply(null, value_range);\n\t\t\t\tlog(\"Min discount: \" + min);\n\t\t\t\tlog(\"Max discount: \" + max);\n\t\t\t\tvar max_discount_index = $ws.product_volume_discount.volume_discount.findIndex(function (b) {\n\t\t\t\t\treturn b.value == max\n\t\t\t\t});\n\t\t\t\tif (max_discount_index > -1) {\n\t\t\t\t\tvar max_discount = $ws.product_volume_discount.volume_discount[max_discount_index];\n\t\t\t\t\tvar price = Number($ws.mF($ws.selected_variant.price));\n\t\t\t\t\tvar discount = $ws.get_discount(price, max_discount.type, max_discount.value);\n\t\t\t\t\tif (Number(discount) == 0 || (Number(price) == 0)) {\n\t\t\t\t\t\t$ws.vd_has_discount = false;\n\t\t\t\t\t}\n\t\t\t\t\tif ($ws.vd_has_discount) {\n\t\t\t\t\t\tvar compare_at_price = Number($ws.mF($ws.selected_variant.price));\n\t\t\t\t\t\tif ($ws.general_settings.show_compare_at_price) {\n\t\t\t\t\t\t\tcompare_at_price = Number($ws.mF($ws.selected_variant.compare_at_price));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (isNaN($ws.selected_variant.compare_at_price) || (Number($ws.selected_variant.compare_at_price) <= Number($ws.selected_variant.price))) {\n\t\t\t\t\t\t\tcompare_at_price = 0;\n\t\t\t\t\t\t\tif ((Number(price) - Number(discount)) < Number(price)) {\n\t\t\t\t\t\t\t\tcompare_at_price = Number(price).toFixed(2);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar regular_price = $ws.formatMoney((Number(price) - Number(discount)).toFixed(2));\n\t\t\t\t\t\tcompare_at_price = $ws.formatMoney(Number(compare_at_price).toFixed(2));\n\t\t\t\t\t\tif (Number(compare_at_price) < 1) {\n\t\t\t\t\t\t\tcompare_at_price = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$ws.general_settings.compare_at_price) {\n\t\t\t\t\t\t\tcompare_at_price = \"\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar html = '';\n\t\t\t\t\t\tif ($ws.template === 'product') {\n\t\t\t\t\t\t\thtml = $ws.product_price_html;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thtml = $ws.hcsr_qb_price_html;\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcompare_at_price = compare_at_price.replace(\"$\", \"$@\");\n\t\t\t\t\t\t\tregular_price = regular_price.replace(\"$\", \"$@\");\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtml = html\n\t\t\t\t\t\t\t.replace(new RegExp(\"%regular_price%\", \"gi\"), $ws.Lang.from + \" \" + regular_price)\n\t\t\t\t\t\t\t.replace(new RegExp(\"%compare_at_price%\", \"gi\"), compare_at_price);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\thtml = html.replace(\/@\/g, '');\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (params.item_price_selector && $ws.selected_product.id) {\n\t\t\t\t\t\t\t$(params.item_price_selector).html(html)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tisError(\"Item price selector is undefined\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$ws.saleClock($ws.product_volume_discount, $ws.selected_product, \"vd\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (typeof $ws.callback === 'function') {\n\t\t\t$ws.callback({\n\t\t\t\tproduct_volume_discount: $ws.product_volume_discount,\n\t\t\t\tquantity_breaks: $ws.product_qb,\n\t\t\t\tproduct: $ws.selected_product,\n\t\t\t\tvariant: $ws.selected_variant\n\t\t\t});\n\t\t}\n\t\t\/\/ response back\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback({\n\t\t\t\tproduct_volume_discount: $ws.product_volume_discount,\n\t\t\t\tquantity_breaks: $ws.product_qb,\n\t\t\t\tproduct: $ws.selected_product,\n\t\t\t\tvariant: $ws.selected_variant\n\t\t\t});\n\t\t}\n\t\t\/\/ end for loop\n\t};\n\n\tWSAIO.regularDiscount = function (params, callback) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (typeof params === 'function') callback = params;\n\t\tif(!params){\n\t\t\tisError(\"No params provided for regular discount\");\n\t\t\treturn false;\n\t\t}\n\t\tif(!params.item_price_selector){\n\t\t\tisError(\"Item price selector is undefined\");\n\t\t\treturn false;\n\t\t}\n\t\tif (WSAIO.isWholesaleCustomer() === false) {\n\t\t\tif (typeof callback === \"function\") {\n\t\t\t\treturn callback({\n\t\t\t\t\terror: \"Invalid customer\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn \"Invalid customer\";\n\t\t\t}\n\t\t}\n\t\t$ws.output = true;\n\t\t$ws.selected_variant = JSON.parse(JSON.stringify($ws.current_variant)); \/\/ current variant obj should not change\n\t\t$ws.selected_product = JSON.parse(JSON.stringify($ws.current_product)); \/\/ current product obj should not change\n\t\t$ws.selected_collection = JSON.parse(JSON.stringify($ws.current_collection)); \/\/ current collection obj should not change\n\t\tif (typeof params === 'object') {\n\t\t\tif (typeof params.product_id !== 'undefined' && params.product_id !== \"default\") $ws.selected_product.id = params.product_id;\n\t\t\tif (typeof params.product_handle !== 'undefined' && params.product_handle !== \"default\") $ws.selected_product.handle = params.product_handle;\n\t\t\tif (typeof params.variant_id !== 'undefined' && params.variant_id !== \"default\") $ws.selected_variant.id = params.variant_id;\n\t\t\tif (typeof params.variant_sku !== 'undefined' && params.variant_sku !== \"default\") $ws.selected_variant.sku = params.variant_sku;\n\t\t\tif (typeof params.variant_price !== 'undefined' && params.variant_id !== \"default\") $ws.selected_variant.price = params.variant_price;\n\t\t\tif (typeof params.variant_compare_at_price !== 'undefined' && params.variant_sku !== \"default\") $ws.selected_variant.compare_at_price = params.variant_compare_at_price;\n\t\t\tif (typeof params.collection_id !== 'undefined' && params.collection_id !== \"default\") $ws.selected_collection.id = params.collection_id;\n\t\t\tif (typeof params.output !== 'undefined' && params.output !== \"default\") $ws.output = params.output;\n\t\t\tif (typeof params.template !== 'undefined' && params.template !== \"default\") $ws.landingTemplate = params.template;\n\t\t}\n\t\tif ($ws.selected_variant && typeof $ws.selected_variant.price === \"string\" && $ws.selected_variant.price.indexOf(\".\") > -1) {\n\t\t\t$ws.selected_variant.price = $ws.selected_variant.price.replace('.', '');\n\t\t}\n\t\tif ($ws.selected_variant && typeof $ws.selected_variant.compare_at_price === \"string\" && $ws.selected_variant.compare_at_price.indexOf(\".\") > -1) {\n\t\t\t$ws.selected_variant.compare_at_price = $ws.selected_variant.compare_at_price.replace('.', '');\n\t\t}\n\t\t$ws.productRd = [];\n\t\t\/\/ for loop\n\t\tfor (var i = 0, len_i = $ws.regular_discounts.length; i < len_i; i++) {\n\t\t\tvar regular_discount = $ws.regular_discounts[i];\n\t\t\tif (regular_discount.state !== 'published') continue;\n\t\t\tif ($ws.checkCustomer(regular_discount.customer_group, regular_discount.tags, regular_discount.tags_excluded) === false) continue;\n\t\t\tif (regular_discount.schedule_active) {\n\t\t\t\tvar _schedule = $ws.getSchedule(regular_discount.schedule);\n\t\t\t\tlog(\"_schedule\", _schedule);\n\t\t\t\tif (_schedule.ends_in) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tNumber(_schedule.ends_in.years) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.months) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.days) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.hours) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.minutes) <= 0 &&\n\t\t\t\t\t\tNumber(_schedule.ends_in.seconds) <= 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tlog(\"This rule was expired\", _schedule);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tNumber(_schedule.started.years) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.months) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.days) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.hours) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.minutes) >= 0 &&\n\t\t\t\t\t\tNumber(_schedule.started.seconds) >= 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tlog(\"This rule was schedules and will be started in\", _schedule);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t$ws.checkAppliesTo({\n\t\t\t\t\"type\": regular_discount.applies_to,\n\t\t\t\t\"rule\": regular_discount,\n\t\t\t\t\"module\": \"regular_discount\"\n\t\t\t});\n\t\t} \/\/ end for loop\n\t\tif ($ws.productRd.length > 0) {\n\t\t\t\/\/ sort array by priority\n\t\t\t$ws.productRd.sort(function (a, b) {\n\t\t\t\treturn Number(a.priority) - Number(b.priority)\n\t\t\t});\n\t\t\t\/\/ if this array contains multiple applies to, then filter by products or by collection, to exclude extra rules.\n\t\t\tif (-1 < $ws.productRd.findIndex(function (x) {\n\t\t\t\t\treturn x.applies_to == \"products\"\n\t\t\t\t})) {\n\t\t\t\t$ws.productRd = $ws.productRd.filter(function (x) {\n\t\t\t\t\treturn x.applies_to === \"products\"\n\t\t\t\t});\n\t\t\t} else if (-1 < $ws.productRd.findIndex(function (x) {\n\t\t\t\t\treturn x.applies_to == \"collections\"\n\t\t\t\t})) {\n\t\t\t\t$ws.productRd = $ws.productRd.filter(function (y) {\n\t\t\t\t\treturn y.applies_to === \"collections\"\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\t$ws.product_rd_obj = [];\n\t\t$ws.product_regular_discount = {};\n\t\t$ws.rd_has_discount = false; \/\/ assume this has\n\t\tif ($ws.productRd.length > 0) {\n\t\t\t$ws.rd_has_discount = true;\n\t\t\t\/\/ for loop\n\t\t\tfor (var j = 0, len_j = $ws.productRd.length; j < len_j; j++) {\n\t\t\t\tvar rd_rule = $ws.productRd[j];\n\t\t\t\tif (\"products\" === rd_rule.applies_to && rd_rule.individual_product === true) {\n\t\t\t\t\tfor (var tt = 0; tt < rd_rule.products.length; tt++) {\n\t\t\t\t\t\tvar product = rd_rule.products[tt],\n\t\t\t\t\t\t\tpIndex = tt;\n\t\t\t\t\t\tif (product.handle === $ws.selected_product.handle || product.id == $ws.selected_product.id) {\n\t\t\t\t\t\t\tif ($ws.product_regular_discount.handle !== product.handle) {\n\t\t\t\t\t\t\t\t$ws.product_regular_discount = JSON.parse(JSON.stringify(rd_rule));\n\t\t\t\t\t\t\t\t$ws.product_regular_discount[\"product\"] = product;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (product.variant_level) {\n\t\t\t\t\t\t\t\tfor (var nn = 0; nn < product.variants.length; nn++) {\n\t\t\t\t\t\t\t\t\tvar variant = product.variants[nn],\n\t\t\t\t\t\t\t\t\t\tvIndex = nn;\n\t\t\t\t\t\t\t\t\tvar vIn = variant.tag_options.findIndex(function (apt) {\n\t\t\t\t\t\t\t\t\t\treturn apt.name.toString().toLowerCase() == $ws.applied_tag.toString().toLowerCase()\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tif (vIn > -1 && (variant.id == $ws.selected_variant.id || (variant.sku == $ws.selected_variant.sku && (!$ws.variant_sku_are_same)))) {\n\t\t\t\t\t\t\t\t\t\tvar v_tag_option = variant.tag_options[vIn];\n\t\t\t\t\t\t\t\t\t\t$ws.product_rd_obj.push({\n\t\t\t\t\t\t\t\t\t\t\tname: v_tag_option.name,\n\t\t\t\t\t\t\t\t\t\t\tvalue: v_tag_option.value,\n\t\t\t\t\t\t\t\t\t\t\ttype: v_tag_option.type\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar pIn = product.tag_options.findIndex(function (apt) {\n\t\t\t\t\t\t\t\t\treturn apt.name.toString().toLowerCase() == $ws.applied_tag.toString().toLowerCase()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (pIn > -1) {\n\t\t\t\t\t\t\t\t\tvar tag_option = product.tag_options[pIn];\n\t\t\t\t\t\t\t\t\t$ws.product_rd_obj.push({\n\t\t\t\t\t\t\t\t\t\tname: tag_option.name,\n\t\t\t\t\t\t\t\t\t\tvalue: tag_option.value,\n\t\t\t\t\t\t\t\t\t\ttype: tag_option.type\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tproduct_rd_obj = {\n\t\t\t\t\t\tname: rd_rule.applies_to,\n\t\t\t\t\t\ttype: rd_rule.discount_type,\n\t\t\t\t\t\tvalue: rd_rule.discount_value\n\t\t\t\t\t}\n\t\t\t\t\t$ws.product_regular_discount = JSON.parse(JSON.stringify(rd_rule));\n\t\t\t\t\tif (rd_rule.applies_to === \"collections\") {\n\t\t\t\t\t\t$ws.product_regular_discount[\"collections\"] = $ws.product_regular_discount.collections.filter(function (c) {\n\t\t\t\t\t\t\treturn c.id == $ws.selected_collection.id\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t$ws.product_regular_discount[\"volume_discount\"] = JSON.parse(JSON.stringify($ws.product_rd_obj));\n\t\t\/\/ if TRUE, app will alter prices. our app will output price and compare at price\n\t\tvar price = Number($ws.mF($ws.selected_variant.price));\n\t\tif ($ws.product_regular_discount[\"volume_discount\"].length > 0) {\n\t\t\t$ws.product_regular_discount.discount_type = $ws.product_regular_discount[\"volume_discount\"][0].type;\n\t\t\t$ws.product_regular_discount.discount_value = $ws.product_regular_discount[\"volume_discount\"][0].value;\n\t\t}\n\t\tif (typeof $ws.product_regular_discount.discount_type === 'undefined') {\n\t\t\t$ws.rd_has_discount = !1;\n\t\t}\n\t\tif (typeof $ws.product_regular_discount.discount_value === 'undefined') {\n\t\t\t$ws.rd_has_discount = !1;\n\t\t}\n\t\tvar discount = $ws.get_discount(price, $ws.product_regular_discount.discount_type, $ws.product_regular_discount.discount_value);\n\t\tif (Number(discount) == 0 || (Number(price) == 0)) {\n\t\t\t$ws.rd_has_discount = !1;\n\t\t}\n\t\tif ($ws.rd_has_discount && $ws.output) {\n\t\t\tvar regular_price = (Number(price) - Number(discount)).toFixed(2);\n\t\t\tvar compare_at_price = Number($ws.mF($ws.selected_variant.price));\n\t\t\tif ($ws.general_settings.show_compare_at_price) {\n\t\t\t\tcompare_at_price = Number($ws.mF($ws.selected_variant.compare_at_price));\n\t\t\t}\n\t\t\tif (isNaN($ws.selected_variant.compare_at_price) || (Number($ws.selected_variant.compare_at_price) <= Number($ws.selected_variant.price))) {\n\t\t\t\tcompare_at_price = 0;\n\t\t\t\tif ((Number(price) - Number(discount)) < Number(price)) {\n\t\t\t\t\tcompare_at_price = Number(price).toFixed(2);\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar html = $ws.hcsr_price_html;\n\t\t\tvar saved_price_html = $ws.saved_price_in_grid_html;\n\t\t\tif ($ws.template === 'product') {\n\t\t\t\thtml = $ws.product_price_html, saved_price_html = $ws.saved_price_html;\n\t\t\t}\n\t\t\tvar total_saved = $ws.saved_amount(compare_at_price, regular_price);\n\t\t\tsaved_price_html = saved_price_html\n\t\t\t\t.replace(new RegExp(\"%saved_amount:price%\", \"gi\"), $ws.formatMoney(total_saved.price))\n\t\t\t\t.replace(new RegExp(\"%saved_amount:percentage%\", \"gi\"), total_saved.percentage);\n\t\t\t$ws.alterHTML(saved_price_html, $ws.product_saved_amount_selector.replace(\"%id%\", $ws.selected_product.id));\n\t\t\t$ws.product_regular_discount.total_saved = total_saved;\n\t\t\t$ws.product_regular_discount.regular_price = (Number(price) - Number(discount)).toFixed(2);\n\t\t\t$ws.product_regular_discount.compare_at_price = Number(compare_at_price).toFixed(2);\n\t\t\tregular_price = $ws.formatMoney((Number(price) - Number(discount)).toFixed(2));\n\t\t\tcompare_at_price = $ws.formatMoney(Number(compare_at_price).toFixed(2));\n\t\t\tif (Number(compare_at_price) < 1) {\n\t\t\t\tcompare_at_price = \"\";\n\t\t\t}\n\t\t\tif (!$ws.general_settings.compare_at_price) {\n\t\t\t\tcompare_at_price = \"\";\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcompare_at_price = compare_at_price.replace(\"$\", \"$@\");\n\t\t\t\tregular_price = regular_price.replace(\"$\", \"$@\");\n\t\t\t} catch (e) {\n\t\t\t\tlog(e)\n\t\t\t}\n\t\t\thtml = html.replace(new RegExp(\"%regular_price%\", \"gi\"), regular_price)\n\t\t\t\t.replace(new RegExp(\"%compare_at_price%\", \"gi\"), compare_at_price);\n\t\t\tif ($ws.landingTemplate !== \"product\" && $ws.landingTemplate !== \"cart\") {\n\t\t\t\thtml = $ws.hcsr_price_html\n\t\t\t\t\t.replace(new RegExp(\"%regular_price%\", \"gi\"), regular_price)\n\t\t\t\t\t.replace(new RegExp(\"%compare_at_price%\", \"gi\"), compare_at_price);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\thtml = html.replace(\/@\/g, '');\n\t\t\t} catch (e) {\n\t\t\t\tlog(e);\n\t\t\t}\n\t\t\tif($(params.item_price_selector).hasClass(\"wsdapp\")){\n\t\t\t\tlog(\"Discount already has been applied on this item\");\n\t\t\t}\n\t\t\telse{\n\t\t\t\t$(params.item_price_selector).html(html);\n\t\t\t\t$(params.item_price_selector).addClass(\"wsdapp\");\n\t\t\t}\n\t\t\t$ws.saleClock($ws.product_regular_discount, $ws.selected_product, \"rd\");\n\t\t}\n\t\t\/\/ response back\n\t\tif (typeof callback === 'function') {\n\t\t\tcallback({\n\t\t\t\tproduct_regular_discount: $ws.product_regular_discount,\n\t\t\t\tregular_discounts: $ws.product_rd_obj,\n\t\t\t\tproduct: $ws.selected_product,\n\t\t\t\tvariant: $ws.selected_variant,\n\t\t\t\tws_discount: discount\n\t\t\t});\n\t\t}\n\t\tif (typeof $ws.callback === 'function') {\n\t\t\t$ws.callback({\n\t\t\t\tproduct_regular_discount: $ws.product_regular_discount,\n\t\t\t\tregular_discounts: $ws.product_rd_obj,\n\t\t\t\tproduct: $ws.selected_product,\n\t\t\t\tvariant: $ws.selected_variant,\n\t\t\t\tws_discount: discount\n\t\t\t});\n\t\t}\n\t};\n\n\tWSAIO.cartLevelDiscount = function () {\n\t\tvar is_cld = false;\n\t\tif (WSAIO.cart_ld_discounts && WSAIO.cart_ld_discounts.length) {\n\t\t\tfor (var cld_index = 0; cld_index < WSAIO.cart_ld_discounts.length; cld_index++) {\n\t\t\t\tvar rule_item = WSAIO.cart_ld_discounts[cld_index];\n\t\t\t\tif (rule_item.state != 'published') continue;\n\t\t\t\tif ($ws.checkCustomer(rule_item.customer_group, rule_item.tags, rule_item.tags_excluded) === false) continue;\n\t\t\t\tis_cld = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\treturn is_cld;\n\t}\n\n\tWSAIO.checkIndexRange = function (range, quantity) {\n\t\tvar findNumber = -1;\n\t\tvar gotNumber = false;\n\t\tif (range.includes(quantity)) {\n\t\t\tgotNumber = true;\n\t\t\treturn range.indexOf(quantity)\n\t\t}\n\t\ttry {\n\t\t\tif (!gotNumber) {\n\t\t\t\trange.forEach((element, index) => {\n\t\t\t\t\tif (index != range.length - 1) {\n\t\t\t\t\t\tif (element < quantity) {\n\t\t\t\t\t\t\tif (range[index + 1] == quantity) {\n\t\t\t\t\t\t\t\tgotNumber = true;\n\t\t\t\t\t\t\t\tfindNumber = index + 1;\n\t\t\t\t\t\t\t} else if (range[index + 1] > quantity) {\n\t\t\t\t\t\t\t\tgotNumber = true;\n\t\t\t\t\t\t\t\tfindNumber = index;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tgotNumber = true;\n\t\t\t\t\t\t\t\tfindNumber = index + 1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!gotNumber) {\n\t\t\t\t\t\tif (range.length == 1 && element <= quantity) {\n\t\t\t\t\t\t\tgotNumber = true;\n\t\t\t\t\t\t\tfindNumber = index;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tfindNumber = -1;\n\t\t}\n\t\treturn findNumber;\n\t}\n\n\tWSAIO.variantOriginalPrice = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\tvar regular_price = $ws.formatMoney($ws.selected_variant.price);\n\t\tvar compare_at_price = $ws.formatMoney($ws.selected_variant.compare_at_price);\n\t\tvar html = $ws.hcsr_price_original_html;\n\t\tif ($ws.template === 'product') {\n\t\t\thtml = $ws.product_price_original_html;\n\t\t}\n\t\tif (Number($ws.selected_variant.price) > Number($ws.selected_variant.compare_at_price)) {\n\t\t\tcompare_at_price = \"\";\n\t\t}\n\t\tif ($ws.selected_variant.compare_at_price == null) {\n\t\t\tcompare_at_price = \"\";\n\t\t}\n\t\tif (Number($ws.selected_variant.compare_at_price) < 1) {\n\t\t\tcompare_at_price = \"\";\n\t\t}\n\t\tif (!$ws.general_settings.compare_at_price) {\n\t\t\tcompare_at_price = \"\";\n\t\t}\n\t\tif (compare_at_price == \"\") {\n\t\t\ttry {\n\t\t\t\t$($ws.product_price_selector).addClass(\"empty\");\n\t\t\t} catch (e) {}\n\t\t} else {\n\t\t\ttry {\n\t\t\t\t$($ws.product_price_selector).removeClass(\"empty\");\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\ttry {\n\t\t\tcompare_at_price = compare_at_price.replace(\"$\", \"$@\");\n\t\t\tregular_price = regular_price.replace(\"$\", \"$@\");\n\t\t} catch (e) {\n\t\t\tlog(e)\n\t\t}\n\t\thtml = html.replace(new RegExp(\"%regular_price%\", \"gi\"), regular_price).replace(new RegExp(\"%compare_at_price%\", \"gi\"), compare_at_price);\n\t\ttry {\n\t\t\thtml = html.replace(\/@\/g, '');\n\t\t} catch (e) {\n\t\t\tlog(e);\n\t\t}\n\t\tif ($ws.product_price_selector && $ws.selected_product) {\n\t\t\t$(WSAIO.product_price_selector).html(html);\n\t\t} else {\n\t\t\tisError(\"Selected variant price was not defined. Reference: WSAIO.selected_variant.price\");\n\t\t}\n\t\t$('.wholesale-table').remove();\n\t};\n\n\tWSAIO.get_discount = function (price, type, value) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (type !== \"percentage\" && value && $ws.Currency && ($ws.Currency.rates && $ws.Currency.storeCurrency && $ws.Currency.selectedCurrency)) {\n\t\t\tif ($ws.ccr && !isNaN($ws.ccr)) {\n\t\t\t\tvalue = Number(Number(Number(value) * Number($ws.ccr)).toFixed(2));\n\t\t\t} else {\n\t\t\t\tvalue = $ws.Currency.convert(value, $ws.Currency.storeCurrency, $ws.Currency.selectedCurrency);\n\t\t\t}\n\t\t}\n\t\tvar d = 0;\n\t\tswitch (type) {\n\t\t\tcase \"percentage\":\n\t\t\t\td = Math.floor(Number(price) * Number(value)) \/ 100;\n\t\t\t\tbreak;\n\t\t\tcase \"price_discount\":\n\t\t\t\tif (Number(price) < Number(value)) {\n\t\t\t\t\td = Number(price);\n\t\t\t\t} else {\n\t\t\t\t\td = Number(value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"fixed_price\":\n\t\t\t\tif (Number(price) <= Number(value)) {\n\t\t\t\t\td = 0;\n\t\t\t\t} else {\n\t\t\t\t\td = Number(price) - Number(value);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlog(\"Invalid discount type. Valid values are percentage, price_discount and fixed_price.\");\n\t\t\t\tbreak;\n\t\t}\n\t\treturn Number(d).toFixed(2);\n\t};\n\n\tWSAIO.get_price = function (rule, vd) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ($ws.selected_variant.price) {\n\t\t\tvar price = Number($ws.mF($ws.selected_variant.price));\n\t\t\tvar discount = $ws.get_discount(price, vd.type, vd.value);\n\t\t\tvar wholesale_price = Number(price) - Number(discount);\n\t\t\ttry {\n\t\t\t\twholesale_price = Number(wholesale_price).toFixed(2);\n\t\t\t} catch (e) {\n\t\t\t\tisError(e)\n\t\t\t}\n\t\t\treturn $ws.formatMoney(wholesale_price, $ws.shopInfo.money_format);\n\t\t} else {\n\t\t\tisError(\"Selected variant price was not defined. Reference: WSAIO.selected_variant.price\");\n\t\t}\n\t};\n\n\tWSAIO.get_price_in_percent = function (rule, vd) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ($ws.selected_variant.price) {\n\t\t\tvar price = Number($ws.mF($ws.selected_variant.price));\n\t\t\tvar discount = $ws.get_discount(price, vd.type, vd.value);\n\t\t\tvar perc = Math.round(100 - ((Number(price) - Number(discount)) \/ Number(price)) * 100);\n\t\t\treturn perc.toString() + '%';\n\t\t} else {\n\t\t\tisError(\"Selected variant price was not defined. Reference: WSAIO.selected_variant.price\")\n\t\t}\n\t};\n\n\tWSAIO.saved_amount = function (original_price, discount_price) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (original_price === null || discount_price === null || isNaN(original_price) || isNaN(discount_price)) {\n\t\t\treturn {\n\t\t\t\tpercentage: \"0%\",\n\t\t\t\tprice: \"0\"\n\t\t\t};\n\t\t};\n\t\tvar price = original_price - discount_price,\n\t\t\tpercentage = 100 - (discount_price \/ original_price) * 100;\n\t\treturn {\n\t\t\tpercentage: Math.round(percentage) + \"%\",\n\t\t\tprice: Number(price).toFixed(2)\n\t\t};\n\t};\n\n\tWSAIO.volumeDiscountPriority = function () {\n\t\tif ($ws.productRd && $ws.productRd.length && $ws.productVd && $ws.productVd.length) {\n\t\t\ttry {\n\t\t\t\tif ($ws.productRd.findIndex(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'has_tag'\n\t\t\t\t\t}) > -1 && $ws.productVd.findIndex(function (x) {\n\t\t\t\t\t\treturn x.customer_group == 'has_tag'\n\t\t\t\t\t}) === -1) {\n\t\t\t\t\t$ws.productVd = [];\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tisError(e);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tif ($ws.productRd.length > 0 && $ws.productRd.findIndex(function (x) {\n\t\t\t\t\t\treturn x.customer_group === 'all'\n\t\t\t\t\t}) === -1 && $ws.productVd.findIndex(function (x) {\n\t\t\t\t\t\treturn x.customer_group == 'all'\n\t\t\t\t\t}) > -1) {\n\t\t\t\t\t$ws.productVd = [];\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tisError(e);\n\t\t\t}\n\t\t}\n\t};\n\n\t\/\/ Product page Tables grid\nWSAIO.detailed_grid_table = function (rule, params) {\n    if (WSAIO.debugger) debugger;\n    if ('undefined' !== typeof rule.volume_discount && rule.volume_discount.length > 0) {\n        var table_rows = \"\";\n        for (var ff = 0; ff < rule.volume_discount.length; ff++) {\n            var vd = rule.volume_discount[ff];\n            if (Number(vd.qty) > 0) {\n                table_rows += '<tr class=\"wholesale-grid-table custom-table\">' +\n                    '<td>' + vd.qty + '<\/td>' +\n                    '<td>' + $ws.get_price(rule, vd) + $ws.Lang.each_item + '<\/td>' +\n                    '<\/tr>';\n            }\n        }\n        var table = '<table id=\"wsaio-volume-discount--table\" class=\"wholesale-table\">' +\n            '<thead><tr>' +\n            '<th>' + $ws.Lang.buy + ' ' + $ws.Lang.quantity + '<\/th>' +\n            '<th>' + $ws.Lang.price + '<\/th>' +\n            '<\/tr><\/thead>' +\n            '<tbody>' + table_rows + '<\/tbody>' +\n            '<\/table>';\n        if (table_rows != \"\") {\n            if($('#Quick-order-form').length == 0){\n            $ws.displayTable(table, $ws.product_qb_table_selector, true);\n            }else{\n                if((rule.product != undefined && rule.product.variants[0].title == 'Default Title') || (rule.products.length && rule.product == undefined)){\n                $ws.displayTable(table, '.wsaio-qt-'+params.product_id+':same', !0)  \n                }else{\n                $ws.displayTable(table, '.wsaio-vqt-'+params.variant_id+':same', !0)\n                }\n            }\n        } else {\n            if($('#Quick-order-form').length == 0){\n            $(\".wholesale-table\").remove();\n            }\n        }\n        if($('#Quick-order-form').length == 0){\n        $('.wholesale-table:not(:first)').remove();\n        }\n    } else {\n        $(\".wholesale-table\").remove();\n        isError(\"Volume discount was not configured.\");\n    }\n};\n\n\tWSAIO.basic_grid_table = function (rule, params) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ('undefined' !== typeof rule.volume_discount && rule.volume_discount.length > 0) {\n\t\t\tvar table_rows = \"\";\n\t\t\trule.volume_discount.forEach(function (vd, i) {\n\t\t\t\tif (Number(vd.qty) > 0) {\n\t\t\t\t\ttable_rows += '<tr class=\"wholesale-grid-table custom-table\">' +\n\t\t\t\t\t\t'<td>' + vd.qty + '<\/td>' +\n\t\t\t\t\t\t'<td>' + $ws.get_price(rule, vd) + $ws.Lang.each_item + '<\/td>' +\n\t\t\t\t\t\t'<\/tr>';\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar table = '<table id=\"wsaio-volume-discount--table\" class=\"wholesale-table\">' +\n\t\t\t\t'<thead><tr>' +\n\t\t\t\t'<th>' + $ws.Lang.quantity + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.price + '<\/th>' +\n\t\t\t\t'<\/tr><\/thead>' +\n\t\t\t\t'<tbody>' + table_rows + '<\/tbody>' +\n\t\t\t\t'<\/table>';\n\t\t\tif (table_rows != \"\") {\n\t\t\t\t$ws.displayTable(table, $ws.product_qb_table_selector, true);\n\t\t\t} else {\n\t\t\t\t$(\".wholesale-table\").remove();\n\t\t\t}\n\t\t\t$('.wholesale-table:not(:first)').remove();\n\t\t} else {\n\t\t\t$(\".wholesale-table\").remove();\n\t\t\tisError(\"Volume discount was not configured.\");\n\t\t}\n\t};\n\n\tWSAIO.grid_range_table = function (rule, params) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ('undefined' !== typeof rule.volume_discount && rule.volume_discount.length > 0) {\n\t\t\tvar table_rows = \"\";\n\t\t\trule.volume_discount.forEach(function (vd, i) {\n\t\t\t\tif (Number(vd.qty) > 0) {\n\t\t\t\t\tvar next_qty = $ws.Lang.range_so_on;\n\t\t\t\t\tif (rule.volume_discount[i + 1]) {\n\t\t\t\t\t\tnext_qty = Number(rule.volume_discount[i + 1].qty) - 1;\n\t\t\t\t\t}\n\t\t\t\t\ttable_rows += '<tr class=\"wholesale-grid-table custom-table\">' +\n\t\t\t\t\t\t'<td>' + vd.qty + '<\/td>' +\n\t\t\t\t\t\t'<td>' + next_qty + '<\/td>' +\n\t\t\t\t\t\t'<td>' + $ws.get_price(rule, vd) + $ws.Lang.each_item + '<\/td>' +\n\t\t\t\t\t\t'<\/tr>';\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar table = '<table id=\"wsaio-volume-discount--table\" class=\"wholesale-table\">' +\n\t\t\t\t'<thead><tr>' +\n\t\t\t\t'<th>' + $ws.Lang.minimum_quantity + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.maximum_quantity + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.price + '<\/th>' +\n\t\t\t\t'<\/tr><\/thead>' +\n\t\t\t\t'<tbody>' + table_rows + '<\/tbody>' +\n\t\t\t\t'<\/table>';\n\t\t\tif (table_rows != \"\") {\n\t\t\t\t$ws.displayTable(table, $ws.product_qb_table_selector, true);\n\t\t\t} else {\n\t\t\t\t$(\".wholesale-table\").remove();\n\t\t\t}\n\t\t\t$('.wholesale-table:not(:first)').remove();\n\t\t} else {\n\t\t\t$(\".wholesale-table\").remove();\n\t\t\tisError(\"Volume discount was not configured.\");\n\t\t}\n\t};\n\n\tWSAIO.detailed_grid_percent_table = function (rule, params) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ('undefined' !== typeof rule.volume_discount && rule.volume_discount.length > 0) {\n\t\t\tvar table_rows = \"\";\n\t\t\trule.volume_discount.forEach(function (vd, i) {\n\t\t\t\tif (Number(vd.qty) > 0) {\n\t\t\t\t\ttable_rows += '<tr class=\"wholesale-grid-table custom-table\">' +\n\t\t\t\t\t\t'<td>' + vd.qty + '<\/td>' +\n\t\t\t\t\t\t'<td>' + $ws.get_price(rule, vd) + $ws.Lang.each_item + '<\/td>' +\n\t\t\t\t\t\t'<td>' + $ws.get_price_in_percent(rule, vd) + ' ' + $ws.Lang.off + '<\/td>' +\n\t\t\t\t\t\t'<\/tr>';\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar table = '<table id=\"wsaio-volume-discount--table\" class=\"wholesale-table\">' +\n\t\t\t\t'<thead><tr>' +\n\t\t\t\t'<th>' + $ws.Lang.quantity + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.price + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.discount + '<\/th>' +\n\t\t\t\t'<\/tr><\/thead>' +\n\t\t\t\t'<tbody>' + table_rows + '<\/tbody>' +\n\t\t\t\t'<\/table>';\n\t\t\tif (table_rows != \"\") {\n\t\t\t\t$ws.displayTable(table, $ws.product_qb_table_selector, true);\n\t\t\t} else {\n\t\t\t\t$(\".wholesale-table\").remove();\n\t\t\t}\n\t\t\t$('.wholesale-table:not(:first)').remove();\n\t\t} else {\n\t\t\t$(\".wholesale-table\").remove();\n\t\t\tisError(\"Volume discount was not configured.\");\n\t\t}\n\t};\n\n\tWSAIO.percent_grid_table = function (rule, params) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ('undefined' !== typeof rule.volume_discount && rule.volume_discount.length > 0) {\n\t\t\tvar table_rows = \"\";\n\t\t\trule.volume_discount.forEach(function (vd, i) {\n\t\t\t\tif (Number(vd.qty) > 0) {\n\t\t\t\t\ttable_rows += '<tr class=\"wholesale-grid-table custom-table\">' +\n\t\t\t\t\t\t'<td>' + $ws.Lang.buy + ' ' + vd.qty + '<\/td>' +\n\t\t\t\t\t\t'<td>' + $ws.get_price_in_percent(rule, vd) + ' ' + $ws.Lang.off + '<\/td>' +\n\t\t\t\t\t\t'<\/tr>';\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar table = '<table id=\"wsaio-volume-discount--table\" class=\"wholesale-table\">' +\n\t\t\t\t'<thead><tr>' +\n\t\t\t\t'<th>' + $ws.Lang.quantity + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.discount + '<\/th>' +\n\t\t\t\t'<\/tr><\/thead>' +\n\t\t\t\t'<tbody>' + table_rows + '<\/tbody>' +\n\t\t\t\t'<\/table>';\n\t\t\tif (table_rows != \"\") {\n\t\t\t\t$ws.displayTable(table, $ws.product_qb_table_selector, true);\n\t\t\t} else {\n\t\t\t\t$(\".wholesale-table\").remove();\n\t\t\t}\n\t\t\t$('.wholesale-table:not(:first)').remove();\n\t\t} else {\n\t\t\t$(\".wholesale-table\").remove();\n\t\t\tisError(\"Volume discount was not configured.\");\n\t\t}\n\t};\n\n\tWSAIO.grid_range_alternate_table = function (rule, params) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif ('undefined' !== typeof rule.volume_discount && rule.volume_discount.length > 0) {\n\t\t\tvar table_rows = \"\";\n\t\t\trule.volume_discount.forEach(function (vd, i) {\n\t\t\t\tif (Number(vd.qty) > 0) {\n\t\t\t\t\tvar next_qty = $ws.Lang.range_so_on;\n\t\t\t\t\tif (rule.volume_discount[i + 1]) {\n\t\t\t\t\t\tnext_qty = Number(rule.volume_discount[i + 1].qty) - 1;\n\t\t\t\t\t}\n\t\t\t\t\ttable_rows += '<tr class=\"wholesale-grid-table custom-table\">' +\n\t\t\t\t\t\t'<td>' + vd.qty + $ws.Lang.range_seperator + next_qty + '<\/td>' +\n\t\t\t\t\t\t'<td>' + $ws.get_price(rule, vd) + $ws.Lang.each_item + '<\/td>' +\n\t\t\t\t\t\t'<\/tr>';\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar table = '<table id=\"wsaio-volume-discount--table\" class=\"wholesale-table\">' +\n\t\t\t\t'<thead><tr>' +\n\t\t\t\t'<th>' + $ws.Lang.quantity + '<\/th>' +\n\t\t\t\t'<th>' + $ws.Lang.price + '<\/th>' +\n\t\t\t\t'<\/tr><\/thead>' +\n\t\t\t\t'<tbody>' + table_rows + '<\/tbody>' +\n\t\t\t\t'<\/table>';\n\t\t\tif (table_rows != \"\") {\n\t\t\t\t$ws.displayTable(table, $ws.product_qb_table_selector, true);\n\t\t\t} else {\n\t\t\t\t$(\".wholesale-table\").remove();\n\t\t\t}\n\t\t\t$('.wholesale-table:not(:first)').remove();\n\t\t} else {\n\t\t\t$(\".wholesale-table\").remove();\n\t\t\tisError(\"Volume discount was not configured.\");\n\t\t}\n\t};\n\n\tWSAIO.fetchCart = function (callback) {\n\t\t$ws.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: '\/cart.js',\n\t\t\tcache: false,\n\t\t\tdataType: 'json',\n\t\t\tsuccess: function (cart_obj) {\n\t\t\t\tvar ws_cart_items = [];\n\t\t\t\tif (cart_obj && cart_obj.items && cart_obj.items.length > 0) {\n\t\t\t\t\tcart_obj.items.forEach(function (item, i) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdelete item.product_description;\n\t\t\t\t\t\t\tdelete item.featured_image;\n\t\t\t\t\t\t\tdelete item.url;\n\t\t\t\t\t\t\tdelete item.options_with_values;\n\t\t\t\t\t\t\tdelete item.variant_options;\n\t\t\t\t\t\t\tdelete item.product_description;\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tlog(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tws_cart_items.push(item);\n\t\t\t\t\t});\n\t\t\t\t\tcart_obj.items = ws_cart_items;\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\t\"undefined\" === typeof window.waioMOC && (window.waioMOC = {});\n\t\t\t\t\t\"undefined\" === typeof waioMOC.cart && (waioMOC.cart = {});\n\t\t\t\t\ttry {\n\t\t\t\t\t\twaioMOC.cart[\"item_count\"] = cart_obj.item_count;\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t} catch (e) {}\n\t\t\t\tif (\"function\" === typeof callback) {\n\t\t\t\t\tcallback(null, cart_obj);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function (err) {\n\t\t\t\tif (\"function\" === typeof callback) {\n\t\t\t\t\tcallback(err, null);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.checkout = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif(WSAIO.isWholesaleCustomer() === false || window.ZapietCheckoutEnabled === false){\n\t\t\tif (typeof callback === \"function\") {\n\t\t\t\treturn callback({\n\t\t\t\t\terror: \"Invalid customer\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn \"Invalid customer\";\n\t\t\t}\n\t\t}\n\t\t$ws.fetchCart(function (error, cart) {\n\t\t\tif (error) return isError(error);\n\t\t\telse {\n                var note_attr = [];\n                for(var [d,b] of Object.entries(cart.attributes)){\n                    note_attr.push({\n                        \"name\": d,\n                        \"value\": b\n                    });\n                }\n\t\t\t\tvar reqdata = {\n\t\t\t\t\t\/\/ custom_tax_lines: [],\n\t\t\t\t\t\/\/ custom_shipping_line: {},\n\t\t\t\t\tnote_attributes:note_attr,\n\t\t\t\t\tcustom_line_items: [],\n\t\t\t\t\tcart: cart,\n\t\t\t\t\tnote: $(\"[name=note]\").val(),\n\t\t\t\t\tshopInfo: $ws.shopInfo,\n\t\t\t\t\tcustomer: $ws.customer,\n\t\t\t\t\tuser_mode: $ws.user_mode,\n\t\t\t\t\tcurrency: $ws.shopInfo.currency,\n\t\t\t\t\tshopifyCurrencies: $ws.getCurrencies(),\n\t\t\t\t\tdiscount_code_application: WSAIO.DiscountCode.application,\n\t\t\t\t\tproducts_with_collections: ($ws.products_with_collections || []),\n\t\t\t\t};\n\t\t\t\tif (WSAIO.all_discount_tags && WSAIO.all_discount_tags.length > 0) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tWSAIO.all_discount_tags.push(\"wsaio-app\");\n\t\t\t\t\t\treqdata[\"tags\"] = WSAIO.all_discount_tags.toString();\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlog(e)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treqdata[\"tags\"] = \"wsaio-app\";\n\t\t\t\t}\n\t\t\t\tif ($ws.variant_sku_are_same) {\n\t\t\t\t\treqdata[\"variant_sku_are_same\"] = $ws.variant_sku_are_same;\n\t\t\t\t}\n\t\t\t\tif ($ws.coupon_expires_after_hours) {\n\t\t\t\t\treqdata[\"coupon_expires_after_hours\"] = $ws.coupon_expires_after_hours;\n\t\t\t\t}\n\t\t\t\tif ($ws.auto_delete_api) {\n\t\t\t\t\tif (localStorage.getItem(\"draft_order_info\") != null) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treqdata[\"prev_draft_order_info\"] = JSON.parse(localStorage.getItem(\"draft_order_info\"));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (localStorage.getItem(\"price_rule_info\") != null) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\treqdata[\"prev_price_rule_info\"] = JSON.parse(localStorage.getItem(\"price_rule_info\"));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ($ws.customer && $ws.customer.addresses && $ws.customer.addresses[0]) {\n\t\t\t\t\treqdata[\"shipping_address\"] = $ws.customer.addresses[0];\n\t\t\t\t}\n\t\t\t\t\/\/ if($ws.customer && $ws.customer.addresses && $ws.customer.addresses[0]){\n\t\t\t\t\/\/     reqdata[\"billing_address\"] = $ws.customer.addresses[0];\n\t\t\t\t\/\/ }\n\t\t\t\tif ($ws.ccr) {\n\t\t\t\t\treqdata[\"ccr\"] = $ws.ccr;\n\t\t\t\t}\n\t\t\t\t$ws.checkoutRequest(reqdata, function (error, response) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tlog(error);\n\t\t\t\t\t\treturn $ws.redirectToURL('\/checkout?wholesale=error');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof $ws.callback === 'function') {\n\t\t\t\t\t\t\t$ws.callback(response);\n\t\t\t\t\t\t}\n                        if($ws.customer.id == null && window.ZapietCheckoutEnabled){\n                            var checkout_params = Zapiet.Widget.getCheckoutParams();\n                            c.checkout_url = c.checkout_url+'\/?'+new URLSearchParams(checkout_params);\n                        }\n\t\t\t\t\t\tif (response && response.checkout_url) {\n\t\t\t\t\t\t\treturn $ws.redirectToURL(response.checkout_url);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn $ws.redirectToURL('\/checkout?wholesale=error');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\tWSAIO.getDiscountCode = function (callback) {\n\t\tif (WSAIO[\"debugger\"]) {\n\t\t\tdebugger;\n\t\t}\n\t\tWSAIO.fetchCart(function (error, cart) {\n\t\t\tif (error) {\n\t\t\t\treturn log(error);\n\t\t\t}\n\t\t\tvar note_attr = [];\n\t\t\tvar dcreqdata = {\n\t\t\t\tnote_attributes: note_attr,\n\t\t\t\tcart: cart,\n\t\t\t\ttags: \"wsaio-app\",\n\t\t\t\tnote: $(\"[name=note]\").val(),\n\t\t\t\tshopInfo: WSAIO.shopInfo,\n\t\t\t\tcustomer: WSAIO.customer,\n\t\t\t\tuser_mode: WSAIO.user_mode,\n\t\t\t\tcurrency: WSAIO.shopInfo.currency,\n\t\t\t\tcustom_line_items: [],\n\t\t\t\tshopifyCurrencies: WSAIO.getCurrencies(),\n\t\t\t\tdiscount_code_application: WSAIO.DiscountCode.application,\n\t\t\t\tproducts_with_collections: (WSAIO.products_with_collections || [])\n\t\t\t};\n\t\t\tif ($ws.variant_sku_are_same) {\n\t\t\t\tdcreqdata[\"variant_sku_are_same\"] = $ws.variant_sku_are_same;\n\t\t\t}\n\t\t\tif ($ws.coupon_expires_after_hours) {\n\t\t\t\tdcreqdata[\"coupon_expires_after_hours\"] = $ws.coupon_expires_after_hours;\n\t\t\t}\n\t\t\tif ($ws.auto_delete_api) {\n\t\t\t\tif (localStorage.getItem(\"draft_order_info\") != null) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdcreqdata[\"prev_draft_order_info\"] = JSON.parse(localStorage.getItem(\"draft_order_info\"));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlog(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (localStorage.getItem(\"price_rule_info\") != null) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdcreqdata[\"prev_price_rule_info\"] = JSON.parse(localStorage.getItem(\"price_rule_info\"));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlog(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($ws.ccr) {\n\t\t\t\tdcreqdata[\"ccr\"] = $ws.ccr;\n\t\t\t}\n\t\t\tWSAIO.checkoutRequest(dcreqdata, callback);\n\t\t});\n\t};\n\n\tWSAIO.preCheckout = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (WSAIO.isWholesaleCustomer() === false) {\n\t\t\tif (typeof callback === \"function\") {\n\t\t\t\treturn callback({\n\t\t\t\t\terror: \"Invalid customer\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn \"Invalid customer\";\n\t\t\t}\n\t\t}\n\t\t$ws.fetchCart(function (error, cart) {\n\t\t\tif (error) return isError(error);\n\t\t\telse {\n\t\t\t\tvar preqdata = {\n\t\t\t\t\tcart: cart,\n\t\t\t\t\tshopInfo: $ws.shopInfo,\n\t\t\t\t\tcustomer: $ws.customer,\n\t\t\t\t\tuser_mode: $ws.user_mode,\n\t\t\t\t\tshopifyCurrencies: $ws.getCurrencies(),\n\t\t\t\t\tdiscount_code_application: WSAIO.DiscountCode.application,\n\t\t\t\t\tproducts_with_collections: ($ws.products_with_collections || [])\n\t\t\t\t};\n\t\t\t\tif ($ws.variant_sku_are_same) {\n\t\t\t\t\tpreqdata[\"variant_sku_are_same\"] = $ws.variant_sku_are_same;\n\t\t\t\t}\n\t\t\t\tif ($ws.auto_delete_api) {\n\t\t\t\t\tif (localStorage.getItem(\"draft_order_info\") != null) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tpreqdata[\"prev_draft_order_info\"] = JSON.parse(localStorage.getItem(\"draft_order_info\"));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (localStorage.getItem(\"price_rule_info\") != null) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tpreqdata[\"prev_price_rule_info\"] = JSON.parse(localStorage.getItem(\"price_rule_info\"));\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$ws.preCheckoutRequest(preqdata, function (error, response) {\n\t\t\t\t\tif (error) {\n\t\t\t\t\t\tlog(error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof $ws.callback === 'function') {\n\t\t\t\t\t\t\t$ws.callback(response);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$ws.preCheckoutResponse(response);\n\t\t\t\t\t\tserverLogging(response);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.preCheckoutResponse = function (response) {\n\n            setTimeout(function(){\n            $('.waio-orderControl-message').remove()\n            },100)\n\n\n            setTimeout(function(){\n            WSAIO.order_control()\n            },500)\n\n\n\n            $('.redeemcop').remove()\n            setTimeout(function(){\n            $('.ajax-cart__subtotal').before('<a class=\"redeemcop\" href=\"\/cart\" style=\"display:none;color: black;text-decoration:underline;font-weight:600;margin-bottom:5px;\">Do you have a discount code?<\/a>')\n            },100)\n\n            setTimeout(function(){\n            if($('.mysubb').length >0 && WSAIO.general_settings.enable_additional_coupon_code == true ){\n            $('.redeemcop').css(\"display\",\"block\");\n\n            }else{\n            $('.redeemcop').css(\"display\", \"none\");\n            }\n            },500);\n            setTimeout(function(){\n            $.getJSON('\/cart',function(x){console.log()})\n            },500);\n        \n\n\t\tif (WSAIO.debugger) debugger;\n\t\tvar i = 0;\n\t\tif (response && response.final_discounted_products) {\n\t\t\ttry {\n\t\t\t\tfor (i = 0; i < response.final_discounted_products.length; i++) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tWSAIO.all_discount_tags.push(response.final_discounted_products[i].appRule.applied_included_tag);\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t}\n\t\tif (response && response.shipping) {\n\t\t\t$ws.applied_shipping = response.shipping;\n\t\t\tif ($ws.applied_shipping.apply_shipping_charges) { \/\/check if shipping applied\n\t\t\t\t$ws.alterHTML($ws.shipping_message_html.replace('%message%', $ws.applied_shipping.final_ship_rule.message), $ws.shipping_message_selector);\n\t\t\t}\n\t\t}\n\t\tif (response && Number(response.wholesale_total_discount) > 0) {\n\t\t\t$ws.setCartSubtotal(response.original_total_price, response.checkout_price_from_total_price);\n\t\t\tif (response.line_items) {\n\t\t\t\t$ws.setCartItemsPrice(response.line_items);\n\t\t\t}\n\t\t\tif (Number(response.wholesale_total_discount) > 0) {\n\t\t\t\tvar total_saving = $ws.cart_bulk_saving_html\n\t\t\t\t\t.replace(\"%saved_amount%\", $ws.formatMoney(response.wholesale_total_discount));\n\t\t\t\t$ws.alterHTML(total_saving, $ws.cart_bulk_saving_selector);\n\t\t\t}\n\t\t}\n\t\tif (response.original_total_price) {\n\t\t\t$ws.cart_total = response.original_total_price;\n\t\t\t$ws.cart_discounted_total = response.checkout_price_from_total_price;\n\t\t}\n\t\tif (response && response.cart_level_discount) {\n\t\t\tif (Number(response.cart_level_discount.cart_discount_amount) > 0) {\n\t\t\t\tvar cld_msg = $ws.cart_ld_html\n\t\t\t\t\t.replace(new RegExp(\"%discount%\", \"gi\"), ($ws.formatMoney(response.cart_level_discount.cart_discount_amount) || \"\"))\n\t\t\t\t\t.replace(new RegExp(\"%discount%\", \"gi\"), \"\");\n\t\t\t\t$ws.alterHTML(cld_msg, $ws.cart_ld_selector);\n\t\t\t}\n\t\t}\n\t};\n\n\tWSAIO.redirectToURL = function (url) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (url) {\n\t\t\twindow.location.href = url;\n\t\t} else {\n\t\t\tisError(\"Redirect URL was not found!\");\n\t\t}\n\t};\n\n\tWSAIO.checkoutRequest = function (data, callback) {\n\t\t$ws.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: $ws.App.checkoutURL + $ws.checkout_version,\n\t\t\tcache: false,\n\t\t\tdata: data,\n\t\t\tsuccess: function (result) {\n\t\t\t\tlog(result);\n\t\t\t\t$($ws.checkout_selector).prop('disabled', false);\n\t\t\t\ttry {\n\t\t\t\t\tif (result && result.price_rule_info) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlocalStorage.setItem(\"price_rule_info\", JSON.stringify(result.price_rule_info))\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (result && result.draft_order_info) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tlocalStorage.setItem(\"draft_order_info\", JSON.stringify(result.draft_order_info))\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlog(e)\n\t\t\t\t}\n\t\t\t\tif (\"function\" === typeof callback) {\n\t\t\t\t\tcallback(null, result);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function (err) {\n\t\t\t\tif (\"function\" === typeof callback) {\n\t\t\t\t\tcallback(err, null);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.preCheckoutRequest = function (data, callback) {\n\t\t$ws.ajax({\n\t\t\ttype: 'POST',\n\t\t\turl: $ws.App.checkoutURL + $ws.checkout_version + '\/pre',\n\t\t\tcache: false,\n\t\t\tdata: data,\n\t\t\tsuccess: function (result) {\n\t\t\t\tlog(result);\n\t\t\t\tif (\"function\" === typeof callback) {\n\t\t\t\t\tcallback(null, result);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function (err) {\n\t\t\t\tif (\"function\" === typeof callback) {\n\t\t\t\t\tcallback(err, null);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.checkoutEventListner = function (params) {\n\t\tif(WSAIO.isWholesaleCustomer() === false || window.ZapietCheckoutEnabled === false){\n\t\t\treturn \"Invalid customer\";\n\t\t}\n\t\t$($ws.checkout_selector).removeAttr(\"disabled\");\n\t\t$(document).on('click', $ws.checkout_selector, function (e) {\n\t\t\te.preventDefault();\n\t\t\te.stopImmediatePropagation();\n\t\t\te.stopPropagation();\n\t\t\t$(this).attr(\"disabled\");\n\t\t\t$(this).find('[name=\"discount\"], [name=\"clear_discount\"]').remove();\n\t\t\t$(this).parents('form').find('[name=\"clear_discount\"]').remove();\n\t\t\tlog(\"Wholesale All In One checkout is working.\");\n\t\t\t$ws.checkout();\n\t\t});\n\t};\n\n\tWSAIO.setCartSubtotal = function (items_subtotal_price, checkout_subtotal) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (typeof items_subtotal_price === 'undefined' || typeof checkout_subtotal === 'undefined') {\n\t\t\treturn;\n\t\t}\n\t\tif (Number(items_subtotal_price) < 0 || Number(checkout_subtotal) < 0) {\n\t\t\treturn;\n\t\t}\n\t\tvar regular_price = $ws.formatMoney(checkout_subtotal, $ws.shopInfo.money_format);\n\t\tvar compare_at_price = \"\";\n\t\tif (Number(items_subtotal_price) > Number(checkout_subtotal)) {\n\t\t\tcompare_at_price = $ws.formatMoney(items_subtotal_price, $ws.shopInfo.money_format);\n\t\t}\n\t\ttry {\n\t\t\tcompare_at_price = compare_at_price.replace(\"$\", \"$@\");\n\t\t\tregular_price = regular_price.replace(\"$\", \"$@\");\n\t\t} catch (e) {\n\t\t\tlog(e)\n\t\t}\n\n        try{\n            if(typeof WSAIO.enable_netTerm != 'undefined' && WSAIO.enable_netTerm){\n              try {\n                var net_regular = regular_price;\n                net_regular = net_regular.replace(\/@\/g, \"\");\n              } catch (c) {\n                k(c);\n              }\n              $('.net_prices.net--subtotal').text(net_regular)\n            }\n          }catch(w){}\n\n\t\tvar html = $ws.cart_subtotal_price_html\n\t\t\t.replace(\"%regular_price%\", regular_price)\n\t\t\t.replace(\"%compare_at_price%\", compare_at_price);\n\t\ttry {\n\t\t\thtml = html.replace(\/@\/g, '');\n\t\t} catch (e) {\n\t\t\tlog(e);\n\t\t}\n\t\t$ws.alterHTML(html, $ws.subtotal_selector);\n\t};\n\n\tWSAIO.setCartItemsPrice = function (line_items) {\n\t\tif (WSAIO.debugger) debugger;\n\t\t$($ws.cart_items_each_selector).each(function(index, item){\n\n\n         var vidd = $(this).attr('data-cart-item')\n\n\n         console.log(vidd)\n\t\t\tlog(\"loop over cart items:\",index, item);\n\t\t\tif(line_items && line_items.length > 0){\n\t\t\t\tvar lineItemIndex = -1;\n\t\t\t\ttry {\n\t\t\t\t\tlineItemIndex = line_items.findIndex(x => x.key == vidd);\n\t\t\t\t} catch (e) {}\n\t\t\t\tlog(\"lineItemIndex\",lineItemIndex);\n\t\t\t\tif(item){\n\t\t\t\t\tif(lineItemIndex > -1){\n\t\t\t\t\t\t\/\/ wholesale line item, price and discount info\n\t\t\t\t\t\tvar wsLineItem = line_items[lineItemIndex];\n\t\t\t\t\t\t\/\/cart line item whoes price gonna changed\n\t\t\t\t\t\tvar cart_item_total_selector = $(item).find($ws.cart_item_total_selector);\n\t\t\t\t\t\tvar cart_item_price_selector = $(item).find($ws.cart_item_price_selector);\n\t\t\t\t\t\tvar cart_item_saved_price_selector = $(item).find($ws.cart_item_saved_price_selector);\n\t\n\t\t\t\t\t\tlog(\"cart_item_total_selector\",cart_item_total_selector);\n\t\t\t\t\t\tlog(\"cart_item_price_selector\",cart_item_price_selector);\n\t\t\t\t\t\tif (typeof wsLineItem.wholesale !== 'undefined') {\n\t\t\t\t\t\t\tvar wholesale = wsLineItem.wholesale;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\twholesale.item_subtotal_price = wholesale.item_subtotal_price.replace(\"$\", \"$@\");\n\t\t\t\t\t\t\t\twholesale.item_subtotal_compare_at_price = wholesale.item_subtotal_compare_at_price.replace(\"$\", \"$@\");\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t\t}\n\n                            try{\n                                if(typeof WSAIO.enable_netTerm != 'undefined' && WSAIO.enable_netTerm){\n                                  try {\n                                    var net_regular = wholesale.item_subtotal_price;\n                                    var net_compare = wholesale.item_subtotal_compare_at_price;\n                                    var net_selector = '.net-item-total-price-'+wsLineItem.key.replace(\":\", \"_\");\n                                    net_regular = net_regular.replace(\/@\/g, \"\");\n                                    net_compare = net_compare.replace(\/@\/g, \"\");\n                                  } catch (c) {\n                                    k(c);\n                                  }\n                                  $(net_selector).html('<s>'+$ws.formatMoney(net_compare*100)+'<\/s> <span class=\"order-discount\">'+$ws.formatMoney(net_regular*100)+'<\/span>')\n                                }\n                              }catch(w){}\n\n\t\t\t\t\t\t\tvar total_html = $ws.cart_item_total_price_html\n\t\t\t\t\t\t\t\t.replace(\"%regular_price%\", $ws.formatMoney(wholesale.item_subtotal_price))\n\t\t\t\t\t\t\t\t.replace(\"%compare_at_price%\", $ws.formatMoney(wholesale.item_subtotal_compare_at_price));\n\t\t\t\t\t\t\tif (Number(wholesale.item_subtotal_price) < Number(wholesale.item_subtotal_compare_at_price)) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\ttotal_html = total_html.replace(\/@\/g, '');\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tlog(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tcart_item_total_selector.html(total_html);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tisError(e)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\twholesale.regular_price = wholesale.regular_price.replace(\"$\", \"$@\");\n\t\t\t\t\t\t\t\twholesale.original_price = wholesale.original_price.replace(\"$\", \"$@\");\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar single_price_html = $ws.cart_item_price_html\n\t\t\t\t\t\t\t\t.replace(\"%regular_price%\", $ws.formatMoney(wholesale.regular_price))\n\t\t\t\t\t\t\t\t.replace(\"%compare_at_price%\", $ws.formatMoney(wholesale.original_price));\n\t\t\t\t\t\t\tif (Number(wholesale.regular_price) < Number(wholesale.original_price)) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tsingle_price_html = single_price_html.replace(\/@\/g, '');\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tlog(e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tcart_item_price_selector.html(single_price_html);\n\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\tisError(e)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar html = $ws.cart_item_saved_price_html.toString();\n\t\t\t\t\t\t\tvar total_saved = {\n\t\t\t\t\t\t\t\tprice: \"\",\n\t\t\t\t\t\t\t\tpercentage: \"\"\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif (wholesale && wholesale.saved_amount && wholesale.saved_amount.percentage) {\n\t\t\t\t\t\t\t\ttotal_saved.percentage = wholesale.saved_amount.percentage;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (wholesale && wholesale.saved_amount && wholesale.saved_amount.price) {\n\t\t\t\t\t\t\t\ttotal_saved.price = wholesale.saved_amount.price;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml = html.replace(new RegExp(\"%saved_amount:price%\", \"gi\"), $ws.formatMoney(total_saved.price))\n\t\t\t\t\t\t\t\t.replace(new RegExp(\"%saved_amount:percentage%\", \"gi\"), total_saved.percentage);\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcart_item_saved_price_selector.html(html);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tisError(e)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tlog(\"Line item index not found. cart line number\",index, \"and cart item\",item);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tisError(\"Item not found\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse{\n\t\t\t\tisError(\"Critical Error. Precheckout line items are empty\");\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.productDiscount = function (params, callback) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (WSAIO.isWholesaleCustomer() === false) {\n\t\t\tif (typeof callback === \"function\") {\n\t\t\t\treturn callback({\n\t\t\t\t\terror: \"Invalid customer\"\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn \"Invalid customer\";\n\t\t\t}\n\t\t}\n\t\tif (typeof params === 'undefined') {\n\t\t\treturn isError(\"This action required some parameters.\");\n\t\t}\n\t\tif (typeof params.product_id === 'undefined') {\n\t\t\tparams.product_id = \"default\";\n\t\t}\n\t\tif (typeof params.product_handle === 'undefined') {\n\t\t\tparams.product_handle = \"default\";\n\t\t}\n\t\tif (typeof params.variant_id === 'undefined') {\n\t\t\tparams.variant_id = \"default\";\n\t\t}\n\t\tif (typeof params.variant_sku === 'undefined') {\n\t\t\tparams.variant_sku = \"default\";\n\t\t}\n\t\tif (typeof params.variant_price === 'undefined') {\n\t\t\tparams.variant_price = \"default\";\n\t\t}\n\t\tif (typeof params.variant_compare_at_price === 'undefined') {\n\t\t\tparams.variant_compare_at_price = \"default\";\n\t\t}\n\t\tif (typeof params.collection_id === 'undefined') {\n\t\t\tparams.collection_id = \"default\";\n\t\t}\n\t\tif (typeof params.qb_table_selector === 'undefined') {\n\t\t\tparams.qb_table_selector = \"default\";\n\t\t}\n\t\tif (typeof params.remove_duplicate_table === 'undefined') {\n\t\t\tparams.remove_duplicate_table = \"default\";\n\t\t}\n\t\tif (typeof params.template === 'undefined') {\n\t\t\tparams.template = \"default\";\n\t\t}\n\t\tWSAIO.regularDiscount(params, function (regular_discount_response) {\n\t\t\tif (params.template === \"product\" || $ws.landingTemplate === \"product\" || (window.location.href.indexOf('\/pages\/') > -1 && $ws.landingTemplate === \"collection\") || params.apply_volume_discount === true) {\n\t\t\t\tWSAIO.volumeDiscount(params, function (volume_discount_response) {\n\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\tcallback({\n\t\t\t\t\t\t\tregular_discount: regular_discount_response,\n\t\t\t\t\t\t\tvolume_discount: volume_discount_response\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if ($ws.volume_discount_on_hcsr) {\n\t\t\t\tWSAIO.volumeDiscount(params, function (volume_discount_response) {\n\t\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\t\tcallback({\n\t\t\t\t\t\t\tregular_discount: regular_discount_response,\n\t\t\t\t\t\t\tvolume_discount: volume_discount_response\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (typeof callback === \"function\") {\n\t\t\t\t\tcallback({\n\t\t\t\t\t\tregular_discount: regular_discount_response,\n\t\t\t\t\t\tvolume_discount: \"Not executed\"\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.variantChange = function (product, variant) {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (WSAIO.isWholesaleCustomer() === false) {\n\t\t\treturn \"Invalid customer\";\n\t\t}\n\t\t$ws.productDiscount({\n\t\t\titem_price_selector: $ws.product_price_selector,\n\t\t\ttemplate: 'product',\n\t\t\tproduct_id: product.id,\n\t\t\tproduct_handle: product.handle,\n\t\t\tvariant_id: variant.id,\n\t\t\tvariant_sku: variant.sku,\n\t\t\tvariant_price: variant.price,\n\t\t\tvariant_compare_at_price: variant.compare_at_price\n\t\t}, function (response) {\n\t\t\t\/\/ console.log(\"vc response\",response);\n\t\t\tif(response && response.regular_discount && Number(response.regular_discount.ws_discount) > 0){\n\t\t\t\tlog(\"ws discount applied on this item\");\n\t\t\t}\n\t\t\telse{\n\t\t\t\tlog(\"Set original price\");\n\t\t\t\t$ws.variantOriginalPrice();\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.selectedCurrency = function (el) {\n\t\treturn $(el || $ws.currency_selector).val();\n\t};\n\n\tWSAIO.getCurrencies = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (\"undefined\" !== typeof window.Currency) {\n\t\t\tWSAIO.Currency.rates = window.Currency.rates;\n\t\t} else {\n\t\t\tisError(\"Multi currencies was not configured.\")\n\t\t}\n\t\t$ws.Currency.selectedCurrency = $ws.selectedCurrency();\n\t\t$ws.Currency.storeCurrency = $ws.shopInfo.currency;\n\t\treturn $ws.Currency;\n\t};\n\n\tWSAIO.Currency.convert = function (amount, from, to) {\n\t\tvar rates = $ws.Currency.rates;\n\t\ttry {\n\t\t\treturn (amount * rates[from]) \/ rates[to];\n\t\t} catch (e) {\n\t\t\treturn e;\n\t\t}\n\t};\n\n\tWSAIO.getProduct = function (handle, callback) {\n\t\t$.getJSON('\/products\/' + handle + '.js', function (product) {\n\t\t\tif (typeof callback === \"function\") {\n\t\t\t\tcallback(product);\n\t\t\t}\n\t\t});\n\t\treturn \"Use callback function to get product\";\n\t};\n\n\tWSAIO.buy_it_now = function () {\n\t\t$(document).on(\"click\", $ws.buy_now_button_selector, function (event) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopImmediatePropagation();\n\t\t\t$(this).prop(\"disabled\", !0);\n\t\t\tvar c = $(this).parents(\"form\");\n\t\t\tvar product_handle = c.find('[name=\"id\"]').attr(\"data-handle\"),\n\t\t\t\tvariant_id = c.find('[name=\"id\"]').val(),\n\t\t\t\tproduct_quantity = c.find('[name=\"quantity\"]').val();\n\t\t\tvoid 0 === product_quantity && (product_quantity = 1);\n\t\t\tif ($ws.buy_now_product) {\n\t\t\t\tproccedToBuyItNow();\n\t\t\t} else {\n\t\t\t\t$ws.getProduct(product_handle, function (pr) {\n\t\t\t\t\t$ws.buy_now_product = pr;\n\t\t\t\t\tproccedToBuyItNow();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfunction proccedToBuyItNow() {\n\t\t\t\tif (typeof $ws.buy_now_product !== 'undefined' && $ws.buy_now_product !== null) {\n\t\t\t\t\tvar product = $ws.buy_now_product;\n\t\t\t\t\tif (product) {\n\t\t\t\t\t\tvar selected_variant_index = product.variants.findIndex(function (a) {\n\t\t\t\t\t\t\t\treturn a.id == variant_id\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tvariant = {};\n\t\t\t\t\t\tif (-1 < selected_variant_index) {\n\t\t\t\t\t\t\tvariant = product.variants[selected_variant_index];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (variant.available) {\n\t\t\t\t\t\t\tvar line_price = Number(variant.price) * Number(product_quantity),\n\t\t\t\t\t\t\t\tcart = {\n\t\t\t\t\t\t\t\t\tattributes: {},\n\t\t\t\t\t\t\t\t\tcart_level_discount_applications: [],\n\t\t\t\t\t\t\t\t\tcurrency: $ws.Currency.selectedCurrency || $ws.shopInfo.currency,\n\t\t\t\t\t\t\t\t\titem_count: product_quantity,\n\t\t\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\t\t\tdiscounted_price: variant.price,\n\t\t\t\t\t\t\t\t\t\tdiscounts: [],\n\t\t\t\t\t\t\t\t\t\tfeatured_image: product.featured_image,\n\t\t\t\t\t\t\t\t\t\tfinal_line_price: line_price,\n\t\t\t\t\t\t\t\t\t\tfinal_price: variant.price,\n\t\t\t\t\t\t\t\t\t\tgift_card: !1,\n\t\t\t\t\t\t\t\t\t\tgrams: variant.weight,\n\t\t\t\t\t\t\t\t\t\thandle: product.handle,\n\t\t\t\t\t\t\t\t\t\tid: variant.id,\n\t\t\t\t\t\t\t\t\t\timage: product.featured_image,\n\t\t\t\t\t\t\t\t\t\tkey: \"11309472350255:a5c7b76a76a9b8da2aa5dceab2c6b7ab\",\n\t\t\t\t\t\t\t\t\t\tline_level_discount_allocations: [],\n\t\t\t\t\t\t\t\t\t\tline_price: line_price,\n\t\t\t\t\t\t\t\t\t\toptions_with_values: [],\n\t\t\t\t\t\t\t\t\t\toriginal_line_price: line_price,\n\t\t\t\t\t\t\t\t\t\toriginal_price: variant.price,\n\t\t\t\t\t\t\t\t\t\tprice: variant.price,\n\t\t\t\t\t\t\t\t\t\tproduct_description: \"\",\n\t\t\t\t\t\t\t\t\t\tproduct_has_only_default_variant: !1,\n\t\t\t\t\t\t\t\t\t\tproduct_id: product.id,\n\t\t\t\t\t\t\t\t\t\tproduct_title: product.title,\n\t\t\t\t\t\t\t\t\t\tproduct_type: product.type,\n\t\t\t\t\t\t\t\t\t\tproperties: null,\n\t\t\t\t\t\t\t\t\t\tquantity: product_quantity,\n\t\t\t\t\t\t\t\t\t\trequires_shipping: variant.requires_shipping,\n\t\t\t\t\t\t\t\t\t\tsku: variant.sku,\n\t\t\t\t\t\t\t\t\t\ttaxable: variant.taxable,\n\t\t\t\t\t\t\t\t\t\ttitle: product.title + \" - \" + variant.title,\n\t\t\t\t\t\t\t\t\t\ttotal_discount: 0,\n\t\t\t\t\t\t\t\t\t\turl: \"\/products\/\" + product_handle + \"?variant=\" + variant.id,\n\t\t\t\t\t\t\t\t\t\tvariant_id: variant.id,\n\t\t\t\t\t\t\t\t\t\tvariant_options: variant.options,\n\t\t\t\t\t\t\t\t\t\tvariant_title: variant.title,\n\t\t\t\t\t\t\t\t\t\tvendor: product.vendor\n\t\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\t\titems_subtotal_price: line_price,\n\t\t\t\t\t\t\t\t\tnote: null,\n\t\t\t\t\t\t\t\t\toriginal_total_price: line_price,\n\t\t\t\t\t\t\t\t\trequires_shipping: variant.requires_shipping,\n\t\t\t\t\t\t\t\t\ttoken: \"3cbccfbccb5ed48c66e4ced34048082d\",\n\t\t\t\t\t\t\t\t\ttotal_discount: 0,\n\t\t\t\t\t\t\t\t\ttotal_price: line_price,\n\t\t\t\t\t\t\t\t\ttotal_weight: Number(variant.weight) * Number(product_quantity)\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvar bnreqdata = {\n\t\t\t\t\t\t\t\tcart: cart,\n\t\t\t\t\t\t\t\tnote: \"\",\n\t\t\t\t\t\t\t\ttags: \"wsaio-app,checkout-via-buy-now-button\",\n\t\t\t\t\t\t\t\tnote_attributes: [],\n\t\t\t\t\t\t\t\tbilling_address: {},\n\t\t\t\t\t\t\t\tshipping_address: {},\n\t\t\t\t\t\t\t\tshopInfo: $ws.shopInfo,\n\t\t\t\t\t\t\t\tcustomer: $ws.customer,\n\t\t\t\t\t\t\t\tuser_mode: $ws.user_mode,\n\t\t\t\t\t\t\t\tcurrency: $ws.shopInfo.currency,\n\t\t\t\t\t\t\t\tcustom_line_items: [],\n\t\t\t\t\t\t\t\tshopifyCurrencies: $ws.getCurrencies(),\n\t\t\t\t\t\t\t\tdiscount_code_application: WSAIO.DiscountCode.application,\n\t\t\t\t\t\t\t\tproducts_with_collections: ($ws.products_with_collections || [])\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tif ($ws.variant_sku_are_same) {\n\t\t\t\t\t\t\t\tbnreqdata[\"variant_sku_are_same\"] = $ws.variant_sku_are_same;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($ws.coupon_expires_after_hours) {\n\t\t\t\t\t\t\t\tbnreqdata[\"coupon_expires_after_hours\"] = $ws.coupon_expires_after_hours;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($ws.auto_delete_api) {\n\t\t\t\t\t\t\t\tif (localStorage.getItem(\"draft_order_info\") != null) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tbnreqdata[\"prev_draft_order_info\"] = JSON.parse(localStorage.getItem(\"draft_order_info\"));\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (localStorage.getItem(\"price_rule_info\") != null) {\n\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\tbnreqdata[\"prev_price_rule_info\"] = JSON.parse(localStorage.getItem(\"price_rule_info\"));\n\t\t\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar isInvalid = WSAIO.orderControl(line_price, $ws.buy_now_button_selector);\n\t\t\t\t\t\t\tif (isInvalid) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif ($ws.ccr) {\n\t\t\t\t\t\t\t\tbnreqdata[\"ccr\"] = $ws.ccr;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$ws.checkoutRequest(bnreqdata, function (error, response) {\n\t\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\t\tlog(error);\n\t\t\t\t\t\t\t\t\treturn $ws.redirectToURL('\/cart\/' + variant_id + ':' + product_quantity);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tif (response && response.checkout_url && (response.checkout_url.indexOf(\"invoices\") > -1)) {\n\t\t\t\t\t\t\t\t\t\treturn $ws.redirectToURL(response.checkout_url);\n\t\t\t\t\t\t\t\t\t} else if (response && $ws.general_settings && ($ws.general_settings.discount_method == \"coupon_code\" && response.discount_code)) {\n\t\t\t\t\t\t\t\t\t\treturn $ws.redirectToURL('\/cart\/' + variant_id + ':' + product_quantity + '?discount=' + response.discount_code);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn $ws.redirectToURL('\/cart\/' + variant_id + ':' + product_quantity);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tisError(\"Variant is not available or missing variant\");\n\t\t\t\t\t\t\t$ws.redirectToURL('\/cart\/' + variant_id + ':' + product_quantity);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tisError(\"Product object is missing\");\n\t\t\t\t\t\t$ws.redirectToURL('\/cart\/' + variant_id + ':' + product_quantity);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t$ws.redirectToURL('\/cart\/' + variant_id + ':' + product_quantity);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.orderControl = function (min_price, el, message, disable_checkout_btn) {\n\t\t\"undefined\" === typeof window.waioMOC && (window.waioMOC = {});\n\t\t\"undefined\" === typeof waioMOC.cart && (waioMOC.cart = {});\n\t\tif (typeof min_price !== \"undefined\" && min_price != null && !isNaN(min_price)) {\n\t\t\ttry {\n\t\t\t\twaioMOC.cart[\"original_total_price\"] = min_price;\n\t\t\t} catch (e) {\n\t\t\t\tisError(e);\n\t\t\t}\n\t\t} else {\n\t\t\tisError(\"min price was not provided for buy now product\");\n\t\t}\n\t\tif (\"undefined\" !== typeof min_price && null != min_price && !isNaN(min_price)) {\n\t\t\ttry {\n\t\t\t\twaioMOC.cart.original_total_price = min_price;\n\t\t\t} catch (e) {\n\t\t\t\tisError(e);\n\t\t\t}\n\t\t};\n\t\tif(typeof WSAIO.disableCheckout === \"function\"){\n\t\t\tWSAIO.disableCheckout(disable_checkout_btn, message, el);\n\t\t}\n\t\tif(typeof WSAIO.order_control === \"function\"){\n\t\t\tWSAIO.order_control();\n\t\t}\n\n\t\treturn WSAIO.disable_checkout;\n\t};\n\n\tWSAIO.DiscountCode.subscribe = function () {\n\t\tvar $this = this;\n\t\tfunction handle_discount_code_button(e){\n\t\t\t$(this).closest(\"form\").submit();\n\t\t}\n\t\tfunction handle_discount_code_field(e) {\n\t\t\t$this.code = $(this).val();\n\t\t\tif ($this.code && $this.code.trim() != \"\") {\n\t\t\t\t$(this).closest(\"form\").find(\"button\").removeClass(\"ws-disabled\");\n\t\t\t}\n\t\t\telse{\n\t\t\t\t$(this).closest(\"form\").find(\"button\").addClass(\"ws-disabled\");\n\t\t\t}\n\t\t}\n\t\tfunction handle_discount_code_form(e){\n\t\t\te.preventDefault(); e.stopImmediatePropagation(); e.stopPropagation();\n\t\t\t$this.input = $(this).find(\"input#ws--discount_code--field\");\n\t\t\t$this.code = $($this.input).val();\n\t\t\tif ($this.code && $this.code.trim() != \"\") {\n\t\t\t\t$($this.input).removeClass(\"ws-error\");\n\t\t\t\t$this.apply();\n\t\t\t}\n\t\t\telse{\n\t\t\t\t$($this.input).addClass(\"ws-error\");\n\t\t\t\t$($this.input).focus();\n\t\t\t}\n\t\t}\n\t\t\/\/ remove events\n\t\t$('#ws--discount_code--button').off('click', handle_discount_code_button);\n\t\t$('.wsaio--coupon-code-form').closest(\"form\").off('submit', handle_discount_code_form);\n\t\t$('input#ws--discount_code--field').off('keyup', handle_discount_code_field);\n\t\t\/\/ attach events\n\t\t$('#ws--discount_code--button').on('click', handle_discount_code_button);\n\t\t$('.wsaio--coupon-code-form').closest(\"form\").on('submit', handle_discount_code_form);\n\t\t$('input#ws--discount_code--field').on('keyup', handle_discount_code_field);\n\t};\n\n\tWSAIO.DiscountCode.apply = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\t$discount = this;\n\t\t$ws.fetchCart(function (error, cart) {\n\t\t\ttry {\n\t\t\t\tWSAIO.cart_object = cart;\n\t\t\t} catch (e) {}\n\t\t\tif (error) {\n\t\t\t\treturn isError(error);\n\t\t\t} else {\n\t\t\t\tvar post_data = {\n\t\t\t\t\tcart: cart,\n\t\t\t\t\tshopInfo: $ws.shopInfo,\n\t\t\t\t\tcustomer: $ws.customer,\n\t\t\t\t\tcoupon_code: $discount.code,\n\t\t\t\t\tproducts_with_collections: ($ws.products_with_collections || [])\n\t\t\t\t};\n\t\t\t\t$ws.ajax({\n\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\turl: $ws.App.checkoutURL + '\/discount-code',\n\t\t\t\t\tdata: post_data,\n\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\tsuccess: function (result) {\n\t\t\t\t\t\tlog(result);\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdelete result.log;\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tlog(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (typeof $ws.callback === 'function') {\n\t\t\t\t\t\t\t$ws.callback(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (result && result.status === 1) {\n\t\t\t\t\t\t\tif (typeof result.wholesale_key !== 'undefined') {\n\t\t\t\t\t\t\t\t$discount.application = result;\n                                try{\n                                    $('[href=\"\/pages\/net-term-order\"]').attr('href','\/pages\/net-term-order?coupon='+$discount.code)\n                                    } catch (e) { log(e) }\n\t\t\t\t\t\t\t\tvar wsac = {\n\t\t\t\t\t\t\t\t\tcode: $discount.code,\n\t\t\t\t\t\t\t\t\tshop: $ws.shopInfo.shop,\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tif ($ws.customer.id) {\n\t\t\t\t\t\t\t\t\twsac[\"customer_id\"] = $ws.customer.id;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"ws-applied-coupon\", JSON.stringify(wsac));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$discount.application = undefined;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar html = '<span>' + $ws.discount_code_success_message + '<\/span>';\n\t\t\t\t\t\t\tif (result.type === 'percentage' && $ws.discount_code_success_message.indexOf('%percent%') > -1) {\n\t\t\t\t\t\t\t\thtml = html.replace('%percent%', result.value + \"%\");\n\t\t\t\t\t\t\t\t$ws.alterHTML(html, $ws.discount_code_alerts_selector);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\thtml = html.replace('%percent%', '').replace('%price_discount%', '');\n\t\t\t\t\t\t\t\t$ws.alterHTML(html, $ws.discount_code_alerts_selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlocalStorage.removeItem(\"ws-applied-coupon\");\n\t\t\t\t\t\t\tif (result.once_per_customer && WSAIO.customer.id === null) {\n\t\t\t\t\t\t\t\treturn $ws.alterHTML('<span>' + $ws.discount_code_customer_login_message + '<\/span>', $ws.discount_code_alerts_selector);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t$ws.alterHTML('<span>' + $ws.discount_code_error_message + '<\/span>', $ws.discount_code_alerts_selector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\tWSAIO.collection = function () {\n\t\tif (typeof $ws.products_in_collection === 'object' && $ws.products_in_collection.length > 0) {\n\t\t\t$(WSAIO.collection_items_each_selector).each(function(itemIndex,item){\n\t\t\t\t\/\/ var handle = $(item).find(\"a\").attr(\"href\");\n\t\t\t\tvar handle = item.querySelector(\"a[href]\").getAttribute(\"href\");\n\t\t\t\t\/\/ var itemSelector = $(item).find($ws.collection_item_price_selector);\n\t\t\t\tvar itemSelector =  item.querySelector($ws.collection_item_price_selector);\n\t\t\t\tif (handle) {\n\t\t\t\t\tvar product_handle = null,\n\t\t\t\t\tproductIndex = -1;\n\t\t\t\t\ttry {\n\t\t\t\t\t\tproduct_handle = handle.split(\"?\")[0].split(\"\/\")[handle.split(\"\/\").length - 1];\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\ttry {\n\t\t\t\t\t\tproductIndex = WSAIO.products_in_collection.findIndex(function (x) {\n\t\t\t\t\t\t\treturn x.handle == product_handle;\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\tif (productIndex > -1) {\n\t\t\t\t\t\tvar product = WSAIO.products_in_collection[productIndex];\n\t\t\t\t\t\tif (product.available || $ws.display_discount_on_soldout) {\n\t\t\t\t\t\t\tif ($ws.volume_discount_on_hcsr) {\n\t\t\t\t\t\t\t\t$ws.productDiscount({\n\t\t\t\t\t\t\t\t\titem_price_selector: itemSelector,\n\t\t\t\t\t\t\t\t\ttemplate: 'collection',\n\t\t\t\t\t\t\t\t\tproduct_id: product.id,\n\t\t\t\t\t\t\t\t\tproduct_handle: product.handle,\n\t\t\t\t\t\t\t\t\tvariant_id: product.first_available_variant.id,\n\t\t\t\t\t\t\t\t\tvariant_sku: product.first_available_variant.sku,\n\t\t\t\t\t\t\t\t\tvariant_price: product.first_available_variant.price,\n\t\t\t\t\t\t\t\t\tvariant_compare_at_price: product.first_available_variant.compare_at_price\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t$ws.regularDiscount({\n\t\t\t\t\t\t\t\t\titem_price_selector: itemSelector,\n\t\t\t\t\t\t\t\t\ttemplate: 'collection',\n\t\t\t\t\t\t\t\t\tproduct_id: product.id,\n\t\t\t\t\t\t\t\t\tproduct_handle: product.handle,\n\t\t\t\t\t\t\t\t\tvariant_id: product.first_available_variant.id,\n\t\t\t\t\t\t\t\t\tvariant_sku: product.first_available_variant.sku,\n\t\t\t\t\t\t\t\t\tvariant_price: product.first_available_variant.price,\n\t\t\t\t\t\t\t\t\tvariant_compare_at_price: product.first_available_variant.compare_at_price\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\tlog(\"Item sold out\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tlog(\"Error 404! Product not found in WSAIO.products_in_collection\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tlog(\"Error 404! Product handle not found\");\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tWSAIO.relatedProducts = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (typeof $ws.product_recommendations === 'object') {\n\t\t\tfor (var ii = 0; ii < $ws.product_recommendations.length; ii++) {\n\t\t\t\tvar product = $ws.product_recommendations[ii];\n\t\t\t\t$ws.productDiscount({\n\t\t\t\t\titem_price_selector: $ws.collection_item_price_selector,\n\t\t\t\t\ttemplate: 'collection',\n\t\t\t\t\tproduct_id: product.id,\n\t\t\t\t\tproduct_handle: product.handle,\n\t\t\t\t\tvariant_id: product.first_available_variant.id,\n\t\t\t\t\tvariant_sku: product.first_available_variant.sku,\n\t\t\t\t\tvariant_price: product.first_available_variant.price,\n\t\t\t\t\tvariant_compare_at_price: product.first_available_variant.compare_at_price\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tWSAIO.signUpForm = function () {\n\t\tif (WSAIO.debugger) debugger;\n\t\tif (typeof $ws.signup_form !== 'undefined') {\n\t\t\ttry {\n\t\t\t\t0 < $($ws.signup_form_selector).length ? ($($ws.signup_form_selector).html($ws.signup_form.form_html)) : log(\"Sign Up form selector not found\");\n\t\t\t} catch (e) {\n\t\t\t\tisError(e)\n\t\t\t}\n\t\t} else {\n\t\t\tlog(\"We could not found Signup Form. Save signup form in the wholesale applicatipn dashboard and then refresh this page\")\n\t\t}\n\t};\n\n\tWSAIO.removeAllEvents = function (el) {\n\t\ttry {\n\t\t\tfor (var i = 0; i < document.querySelectorAll(el).length; i++) {\n\t\t\t\tvar a = document.querySelectorAll(el)[i];\n\t\t\t\ta.parentNode.replaceChild(a.cloneNode(true), a);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlog(e)\n\t\t}\n\t};\n\n\tWSAIO.registerEvent = function (el, type, callback) {\n\t\ttry {\n\t\t\tfor (var i = 0; i < document.querySelectorAll(el).length; i++) {\n\t\t\t\tvar a = document.querySelectorAll(el)[i];\n\t\t\t\ta.addEventListener(type, callback);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlog(e)\n\t\t}\n\t};\n\n\tWSAIO.buyNowEventListener = function () {\n\t\tif (WSAIO.isWholesaleCustomer() === false) {\n\t\t\treturn \"Invalid customer\";\n\t\t}\n\t\t$ws.buyNowRecursion(1);\n\t};\n\n\tWSAIO.addBuyNowBtnHTML = function () {\n\t\t$($ws.shopify_payment_button_wrapper).html($ws.buy_now_button_html);\n\t\t$ws.buy_it_now();\n\t\tWSAIO.buy_now_btn_interval *= 1.5;\n\t\tsetTimeout(() => {\n\t\t\tWSAIO.buyNowEventListener();\n\t\t}, WSAIO.buy_now_btn_interval);\n\t};\n\n\tWSAIO.buyNowRecursion = function (limit) {\n\t\tif (limit <= 0) return;\n\t\tif ($($ws.buy_now_button_selector).length > 0) {\n\t\t\t$ws.addBuyNowBtnHTML();\n\t\t} else {\n\t\t\tsetTimeout(function () {\n\t\t\t\t$ws.buyNowRecursion(--limit);\n\t\t\t}, 500);\n\t\t}\n\t};\n\n\tWSAIO.DiscountCode.add = function () {\n\t\tif (true === WSAIO.general_settings.enable_additional_coupon_code) {\n\t\t\t$ws.DiscountCode.addForm();\n\t\t\t$ws.DiscountCode.subscribe(); \/\/ subscribe on click event\n\t\t}\n\t};\n\n\tWSAIO.cartDrawer = function () {\n\t\t$ws.checkoutEventListner(); \/\/ Subscribe checkout button on click event\n\t\t$ws.preCheckout(); \/\/ Get wholesale price from server on window load\n\t};\n\n\t$(document).on('change', $ws.cart_qty_change_selector, function () {\n\t\t\/\/ $(\"button[name*=update],input[name*=update]\").click();\n\t\t\/\/ $($ws.checkout_selector).attr(\"disabled\",\"disabled\");\n\t\tsetTimeout(function () {\n\t\t\t\/\/ $ws.preCheckout();\n\t\t}, 1500);\n\t});\n\n\tif ('undefined' === typeof WSAIO.Currency.rates) {\n\t\tWSAIO.Currency.rates = {};\n\t}\n\tif ('undefined' === typeof WSAIO.Currency.selectedCurrency) {\n\t\tWSAIO.Currency.selectedCurrency = $ws.selectedCurrency();\n\t}\n\tWSAIO.Currency.storeCurrency = $ws.shopInfo.currency;\n\tif (\"undefined\" !== typeof window.Currency) {\n\t\tWSAIO.Currency.rates = window.Currency.rates;\n\t}\n\n\tWSAIO.estTime = function () {\n\t\tvar tN = new Date();\n\t\ttN.setTime(tN.getTime() + tN.getTimezoneOffset() * 60 * 1000);\n\t\tvar offset = -300,\n\t\t\testDate = new Date(tN.getTime() + offset * 60 * 1000);\n\t\treturn estDate.getTime();\n\t};\n\n\tWSAIO.getSchedule = function (schedule) {\n\t\tfunction est_time_now() {\n\t\t\tvar tN = new Date();\n\t\t\ttN.setTime(tN.getTime() + tN.getTimezoneOffset() * 60 * 1000);\n\t\t\tvar offset = -300,\n\t\t\t\testDate = new Date(tN.getTime() + offset * 60 * 1000);\n\t\t\treturn estDate.getTime();\n\t\t}\n\n\t\tfunction getTimezoneOffset() {\n\t\t\tfunction z(n) {\n\t\t\t\treturn (n < 10 ? '0' : '') + n\n\t\t\t}\n\t\t\tvar offset = new Date().getTimezoneOffset();\n\t\t\tvar sign = offset < 0 ? '+' : '-';\n\t\t\toffset = Math.abs(offset);\n\t\t\treturn sign + z(offset \/ 60 | 0) + z(offset % 60);\n\t\t}\n\n\t\tfunction date_time_value(date, time) {\n\t\t\tvar dateTimeValue = new Date(date);\n\t\t\tif (typeof dateTimeValue === 'object') {\n\t\t\t\ttry {\n\t\t\t\t\tdateTimeValue = dateTimeValue.toString();\n\t\t\t\t\tif (typeof dateTimeValue === 'string') {\n\t\t\t\t\t\tdateTimeValue = dateTimeValue.replace(getTimezoneOffset(), '+0000');\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlog(e);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdateTimeValue = new Date(dateTimeValue).toISOString();\n\t\t\t} catch (e) {\n\t\t\t\tlog(e);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tdateTimeValue = dateTimeValue.split('T')[0] + \" \" + time;\n\t\t\t} catch (e) {\n\t\t\t\tlog(e);\n\t\t\t}\n\t\t\treturn dateTimeValue;\n\t\t}\n\n\t\tfunction diff_in_schedule(date1, date2) {\n\t\t\tdate1 = new Date(date1);\n\t\t\tdate2 = new Date(date2);\n\t\t\tif (date1 === 'Invalid Date' || date2 === 'Invalid Date') {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (!date1 || !date2) return 0;\n\t\t\tif (typeof date1 !== 'object' || typeof date2 !== 'object') {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif (date1 > date2) {\n\t\t\t\tvar result = diff_in_schedule(date2, date1);\n\t\t\t\tresult.years = -result.years;\n\t\t\t\tresult.months = -result.months;\n\t\t\t\tresult.days = -result.days;\n\t\t\t\tresult.hours = -result.hours;\n\t\t\t\tresult.minutes = -result.minutes;\n\t\t\t\tresult.seconds = -result.seconds;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tresult = {\n\t\t\t\tyears: date2.getYear() - date1.getYear(),\n\t\t\t\tmonths: date2.getMonth() - date1.getMonth(),\n\t\t\t\tdays: date2.getDate() - date1.getDate(),\n\t\t\t\thours: date2.getHours() - date1.getHours(),\n\t\t\t\tminutes: date2.getMinutes() - date1.getMinutes(),\n\t\t\t\tseconds: date2.getSeconds() - date1.getSeconds()\n\t\t\t};\n\t\t\tif (result.seconds < 0) {\n\t\t\t\tresult.minutes--;\n\t\t\t\tresult.seconds += 60;\n\t\t\t}\n\t\t\tif (result.minutes < 0) {\n\t\t\t\tresult.hours--;\n\t\t\t\tresult.minutes += 60;\n\t\t\t}\n\t\t\tif (result.hours < 0) {\n\t\t\t\tresult.days--;\n\t\t\t\tresult.hours += 24;\n\t\t\t}\n\t\t\tif (result.days < 0) {\n\t\t\t\tresult.months--;\n\t\t\t\tvar copy1 = new Date(date1.getTime());\n\t\t\t\tcopy1.setDate(32);\n\t\t\t\tresult.days = 32 - date1.getDate() - copy1.getDate() + date2.getDate();\n\t\t\t}\n\t\t\tif (result.months < 0) {\n\t\t\t\tresult.years--;\n\t\t\t\tresult.months += 12;\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\tvar end_schedule_difference = {\n\t\t\t\t\"years\": 1,\n\t\t\t\t\"months\": 1,\n\t\t\t\t\"days\": 1,\n\t\t\t\t\"hours\": 1,\n\t\t\t\t\"minutes\": 1,\n\t\t\t\t\"seconds\": 1\n\t\t\t},\n\t\t\tstart_schedule_difference = {\n\t\t\t\t\"years\": -1,\n\t\t\t\t\"months\": -1,\n\t\t\t\t\"days\": -1,\n\t\t\t\t\"hours\": -1,\n\t\t\t\t\"minutes\": -1,\n\t\t\t\t\"seconds\": -1\n\t\t\t},\n\t\t\t_est = est_time_now();\n\t\tif (schedule) {\n\t\t\tif (schedule.start_date && schedule.start_time_est) {\n\t\t\t\tvar schedule_started = date_time_value(schedule.start_date, schedule.start_time_est);\n\t\t\t\tstart_schedule_difference = diff_in_schedule(_est, schedule_started);\n\t\t\t\tlog(\"start_schedule_difference\", start_schedule_difference);\n\t\t\t}\n\t\t\tif (schedule.end_date && schedule.end_time_est) {\n\t\t\t\tvar schedule_started = date_time_value(schedule.end_date, schedule.end_time_est);\n\t\t\t\tend_schedule_difference = diff_in_schedule(_est, schedule_started);\n\t\t\t\tlog(\"end_schedule_difference\", end_schedule_difference);\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tends_in: end_schedule_difference,\n\t\t\tstarted: start_schedule_difference,\n\t\t\test_time_now: _est\n\t\t}\n\t};\n\n\tWSAIO.saleClock = function (rule, product, mod) { \/\/module -> rd OR vd\n\t\tif (rule && rule.schedule_active && rule.schedule) {\n\t\t\tvar _sch = $ws.getSchedule(rule.schedule),\n\t\t\t\t_show_clock = false;\n\t\t\tif (_sch.ends_in) {\n\t\t\t\tif (\n\t\t\t\t\tNumber(_sch.ends_in.years) > 0 ||\n\t\t\t\t\tNumber(_sch.ends_in.months) > 0 ||\n\t\t\t\t\tNumber(_sch.ends_in.days) > 0 ||\n\t\t\t\t\tNumber(_sch.ends_in.hours) > 0 ||\n\t\t\t\t\tNumber(_sch.ends_in.minutes) > 0 ||\n\t\t\t\t\tNumber(_sch.ends_in.seconds) > 0\n\t\t\t\t) {\n\t\t\t\t\t_show_clock = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (_show_clock && _sch.ends_in) {\n\t\t\t\ttry {\n\t\t\t\t\t_show_clock = $ws.general_settings.sale_clock.show_sale_clock || false;\n\t\t\t\t} catch (e) {}\n\t\t\t\tif (_show_clock) {\n\t\t\t\t\t$ws.runClock(rule.schedule, product.id, mod);\n\t\t\t\t} else {\n\t\t\t\t\t$ws.removeClock(product.id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$ws.removeClock(product.id);\n\t\t\t\tlog(\"Sale clock was disabled\");\n\t\t\t}\n\t\t} else {\n\t\t\tlog(\"No schedule found\");\n\t\t}\n\t};\n\n\tWSAIO.removeClock = function (id) {\n\t\t$($ws.rd_sale_clock_selector.replace(\"%id%\", id)).remove();\n\t};\n\n\tWSAIO.runClock = function (schedule, id, mod) {\n\t\tvar _type = 1;\n\t\ttry {\n\t\t\t_type = $ws.general_settings.sale_clock.sale_clock_type;\n\t\t} catch (e) {\n\t\t\tlog(e);\n\t\t}\n\n\t\tfunction _runClock() {\n\t\t\tvar _ends = $ws.getSchedule(schedule);\n\t\t\tif (_ends.ends_in) {\n\t\t\t\tif (\n\t\t\t\t\tNumber(_ends.ends_in.years) > 0 ||\n\t\t\t\t\tNumber(_ends.ends_in.months) > 0 ||\n\t\t\t\t\tNumber(_ends.ends_in.days) > 0 ||\n\t\t\t\t\tNumber(_ends.ends_in.hours) > 0 ||\n\t\t\t\t\tNumber(_ends.ends_in.minutes) > 0 ||\n\t\t\t\t\tNumber(_ends.ends_in.seconds) > 0\n\t\t\t\t) {\n\t\t\t\t\tfunction getStyledClock(msg) {\n\t\t\t\t\t\tvar sty = $ws.general_settings.sale_clock.style,\n\t\t\t\t\t\t\t__css = '';\n\t\t\t\t\t\tif (sty.font_size) {\n\t\t\t\t\t\t\t__css += 'font-size:' + sty.font_size + 'px;';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (sty.border_radius) {\n\t\t\t\t\t\t\t__css += 'border-radius:' + sty.border_radius + 'px;';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (sty.hex_bg_color) {\n\t\t\t\t\t\t\t__css += 'background-color:' + sty.hex_bg_color + ';';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (sty.hex_fg_color) {\n\t\t\t\t\t\t\t__css += 'color:' + sty.hex_fg_color + ';';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (sty.padding) {\n\t\t\t\t\t\t\t__css += 'padding:' + sty.padding + ';';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (sty.text_align) {\n\t\t\t\t\t\t\t__css += 'text-align:' + sty.text_align + ';';\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn '<div style=\"' + __css + '\">' + msg + '<\/div>'\n\t\t\t\t\t}\n\t\t\t\t\tvar _msg = $ws.getClockTextByType(_ends.ends_in, schedule, _type),\n\t\t\t\t\t\tshow_time = \"\";\n\t\t\t\t\ttry {\n\t\t\t\t\t\tshow_time = $ws.general_settings.sale_clock.sale_clock_text1 + \" \" + _msg + \" \" + $ws.general_settings.sale_clock.sale_clock_text2;\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlog(e);\n\t\t\t\t\t}\n\t\t\t\t\tif (show_time == \"\") {\n\t\t\t\t\t\tshow_time = _msg;\n\t\t\t\t\t}\n\t\t\t\t\t$($ws.rd_sale_clock_selector.replace(\"%id%\", id)).html(getStyledClock(show_time));\n\t\t\t\t} else {\n\t\t\t\t\t$ws.removeClock(id);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$ws.removeClock(id);\n\t\t\t}\n\t\t}\n\t\tif (_type == 1 || _type == 8 || _type == 9) {\n\t\t\tsetInterval(() => {\n\t\t\t\t_runClock();\n\t\t\t}, 1000);\n\t\t} else {\n\t\t\t_runClock();\n\t\t}\n\t};\n\n\tWSAIO.getClockTextByType = function (ends_in, schedule, type) {\n\t\tfunction get_date_time_value(date, time) {\n\t\t\tvar d = new Date(date),\n\t\t\t\tyear = d.getFullYear(),\n\t\t\t\tmonth = d.getMonth() + 1,\n\t\t\t\tdat = d.getDate();\n\t\t\treturn year + \"-\" + month + \"-\" + dat + \" \" + time;\n\t\t}\n\t\tvar ends_message = '';\n\t\ttry {\n\t\t\tswitch (type) {\n\t\t\t\tcase \"1\":\n\t\t\t\t\tif (ends_in.days > 0) {\n\t\t\t\t\t\tends_message += ends_in.days + (ends_in.days == 1 ? 'day, ' : 'days, ');\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.hours > 0) {\n\t\t\t\t\t\tends_message += ends_in.hours + (ends_in.hours == 1 ? 'hour, ' : 'hours, ');\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.minutes > 0) {\n\t\t\t\t\t\tvar minutes = ends_in.minutes;\n\t\t\t\t\t\tif (minutes < 10) {\n\t\t\t\t\t\t\tminutes = '0' + minutes;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tends_message += minutes + (ends_in.minutes == 1 ? 'minute, ' : 'minutes, ');\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.seconds >= 0) {\n\t\t\t\t\t\tvar seconds = ends_in.seconds;\n\t\t\t\t\t\tif (seconds < 10) {\n\t\t\t\t\t\t\tseconds = '0' + seconds;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tends_message += '<span class=\"wsaio--seconds\">' + seconds + '<\/span>' + (ends_in.seconds <= 1 ? 'second' : 'seconds');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase '2':\n\t\t\t\t\tif (ends_in.days > 0) {\n\t\t\t\t\t\tends_message += ends_in.days + (ends_in.days == 1 ? ' day' : ' days');\n\t\t\t\t\t} else if (ends_in.days == 0) {\n\t\t\t\t\t\tif (ends_in.hours > 0) {\n\t\t\t\t\t\t\tends_message += ends_in.hours + (ends_in.hours == 1 ? 'hour' : 'hours');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tends_message += \"\";\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase '3':\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\ttimeZone: 'America\/New_York',\n\t\t\t\t\t\tweekday: 'long',\n\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\thour: 'numeric',\n\t\t\t\t\t\tminute: 'numeric',\n\t\t\t\t\t\tsecond: 'numeric'\n\t\t\t\t\t};\n\t\t\t\t\tends_message += new Date(get_date_time_value(schedule.end_date, schedule.end_time_est)).toLocaleDateString('en-UK', options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase '4':\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\ttimeZone: 'America\/New_York',\n\t\t\t\t\t\tweekday: 'long',\n\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\tday: 'numeric'\n\t\t\t\t\t};\n\t\t\t\t\tends_message += new Date(get_date_time_value(schedule.end_date, schedule.end_time_est)).toLocaleDateString('en-UK', options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase '5':\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\ttimeZone: 'America\/New_York',\n\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\tmonth: 'long',\n\t\t\t\t\t\tday: 'numeric'\n\t\t\t\t\t};\n\t\t\t\t\tends_message += new Date(get_date_time_value(schedule.end_date, schedule.end_time_est)).toLocaleDateString('en-UK', options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase '6':\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\ttimeZone: 'America\/New_York',\n\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\tmonth: 'short',\n\t\t\t\t\t\tday: 'numeric',\n\t\t\t\t\t\thour: 'numeric',\n\t\t\t\t\t\tminute: 'numeric',\n\t\t\t\t\t\tsecond: 'numeric'\n\t\t\t\t\t};\n\t\t\t\t\tends_message += new Date(get_date_time_value(schedule.end_date, schedule.end_time_est)).toLocaleDateString('en-UK', options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase '7':\n\t\t\t\t\tvar options = {\n\t\t\t\t\t\ttimeZone: 'America\/New_York',\n\t\t\t\t\t\tyear: 'numeric',\n\t\t\t\t\t\tmonth: 'short',\n\t\t\t\t\t\tday: 'numeric'\n\t\t\t\t\t};\n\t\t\t\t\tends_message += new Date(get_date_time_value(schedule.end_date, schedule.end_time_est)).toLocaleDateString('en-UK', options);\n\t\t\t\t\tbreak;\n\t\t\t\tcase '8':\n\t\t\t\t\tif (ends_in.days > 0) {\n\t\t\t\t\t\tends_message += ends_in.days + 'd:';\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.hours > 0) {\n\t\t\t\t\t\tends_message += ends_in.hours + 'h:';\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.minutes > 0) {\n\t\t\t\t\t\tvar minutes = ends_in.minutes;\n\t\t\t\t\t\tif (minutes < 10) {\n\t\t\t\t\t\t\tminutes = '0' + minutes;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tends_message += minutes + 'm:';\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.seconds >= 0) {\n\t\t\t\t\t\tvar seconds = ends_in.seconds;\n\t\t\t\t\t\tif (seconds < 10) {\n\t\t\t\t\t\t\tseconds = '0' + seconds;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tends_message += '<span class=\"wsaio-seconds\">' + seconds + '<\/span>' + 's';\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase '9':\n\t\t\t\t\tif (ends_in.days > 0) {\n\t\t\t\t\t\tends_message += ends_in.days + (ends_in.days == 1 ? 'day ' : 'days ');\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.hours > 0) {\n\t\t\t\t\t\tends_message += ends_in.hours + (ends_in.hours == 1 ? 'hour ' : 'hours ');\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.minutes > 0) {\n\t\t\t\t\t\tvar minutes = ends_in.minutes;\n\t\t\t\t\t\tif (minutes < 10) {\n\t\t\t\t\t\t\tminutes = '0' + minutes;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tends_message += minutes + (ends_in.minutes == 1 ? 'minute ' : 'minutes ');\n\t\t\t\t\t}\n\t\t\t\t\tif (ends_in.seconds >= 0) {\n\t\t\t\t\t\tvar seconds = ends_in.seconds;\n\t\t\t\t\t\tif (seconds < 10) {\n\t\t\t\t\t\t\tseconds = '0' + seconds;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tends_message += '<span class=\"wsaio-seconds\">' + seconds + '<\/span>' + (ends_in.seconds <= 1 ? 'second' : 'seconds');\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tlog(e);\n\t\t}\n\t\treturn ends_message;\n\t};\n\n\tWSAIO.isCustomerLoggedIn = function () {\n\t\tvar is_logged = false;\n\t\tif (WSAIO.customer && WSAIO.customer.id) {\n\t\t\tis_logged = true;\n\t\t}\n\t\treturn is_logged;\n\t};\n\n\tWSAIO.isWholesaleCustomer = function () {\n\t\tvar is_vd_applied = false;\n\t\tvar is_rd_applied = false;\n\t\tvar is_cart_ld_applied = $ws.cartLevelDiscount() ? true : false;\n\t\tvar is_ships_applied = WSAIO.ships_exists ? false : true;\n\t\tif (WSAIO.regular_discounts && WSAIO.regular_discounts.length > 0) {\n\t\t\t\/\/ for loop\n\t\t\tfor (var i = 0, len_i = $ws.regular_discounts.length; i < len_i; i++) {\n\t\t\t\tvar regular_discount = $ws.regular_discounts[i];\n\t\t\t\tif (regular_discount.state !== 'published') continue;\n\t\t\t\tif ($ws.checkCustomer(regular_discount.customer_group, regular_discount.tags, regular_discount.tags_excluded) === false) continue;\n\t\t\t\tif (regular_discount.schedule_active) {\n\t\t\t\t\tvar _schedule = $ws.getSchedule(regular_discount.schedule);\n\t\t\t\t\tlog(\"_schedule\", _schedule);\n\t\t\t\t\tif (_schedule.ends_in) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.years) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.months) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.days) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.hours) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.minutes) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.seconds) <= 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlog(\"This rule was expired\", _schedule);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tNumber(_schedule.started.years) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.months) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.days) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.hours) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.minutes) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.seconds) >= 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlog(\"This rule was schedules and will be started in\", _schedule);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tis_rd_applied = true;\n\t\t\t} \/\/ end for loop\n\t\t}\n\t\tif (!is_rd_applied && WSAIO.volume_discounts && WSAIO.volume_discounts.length > 0) {\n\t\t\t\/\/ for loop\n\t\t\tfor (var i = 0, len_i = $ws.volume_discounts.length; i < len_i; i++) {\n\t\t\t\tvar volume_discount = $ws.volume_discounts[i];\n\t\t\t\tif (volume_discount.state !== 'published') continue;\n\t\t\t\tif ($ws.checkCustomer(volume_discount.customer_group, volume_discount.tags, volume_discount.tags_excluded) === false) continue;\n\t\t\t\tif (volume_discount.schedule_active) {\n\t\t\t\t\tvar _schedule = $ws.getSchedule(volume_discount.schedule);\n\t\t\t\t\tlog(\"_schedule\", _schedule);\n\t\t\t\t\tif (_schedule.ends_in) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.years) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.months) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.days) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.hours) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.minutes) <= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.ends_in.seconds) <= 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlog(\"This rule was expired\", _schedule);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tNumber(_schedule.started.years) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.months) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.days) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.hours) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.minutes) >= 0 &&\n\t\t\t\t\t\t\tNumber(_schedule.started.seconds) >= 0\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlog(\"This rule was schedules and will be started in\", _schedule);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tis_vd_applied = true;\n\t\t\t} \/\/ end for loop\n\t\t}\n\t\tif (!is_rd_applied && !is_vd_applied && WSAIO.app_shipping && WSAIO.app_shipping.length > 0) {\n\t\t\tfor (var kktt = 0; kktt < WSAIO.app_shipping.length; kktt++) {\n\t\t\t\tvar temp_app_shipping = WSAIO.app_shipping[kktt];\n\t\t\t\tif (temp_app_shipping.status === \"active\") {\n\t\t\t\t\tswitch (temp_app_shipping.customer_group) {\n\t\t\t\t\t\tcase \"all\":\n\t\t\t\t\t\t\tif (temp_app_shipping.except_logged_in) {\n\t\t\t\t\t\t\t\tif (WSAIO.isCustomerLoggedIn() === false) {\n\t\t\t\t\t\t\t\t\tis_ships_applied = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tis_ships_applied = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"logged_in\":\n\t\t\t\t\t\t\tis_ships_applied = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase \"tag_based\":\n\t\t\t\t\t\t\tif (WSAIO.isCustomerLoggedIn()) {\n\t\t\t\t\t\t\t\tif (WSAIO.customer.tags && WSAIO.customer.tags.length > 0) {\n\t\t\t\t\t\t\t\t\tfor (var ctk = 0; ctk < WSAIO.customer.tags.length; ctk++) {\n\t\t\t\t\t\t\t\t\t\tvar dfes = WSAIO.customer.tags[ctk];\n\t\t\t\t\t\t\t\t\t\tif (temp_app_shipping.customer_tags.findIndex(function (t) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn t.toLowerCase() == dfes.toLowerCase()\n\t\t\t\t\t\t\t\t\t\t\t}) > -1) {\n\t\t\t\t\t\t\t\t\t\t\tis_ships_applied = true;\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!is_vd_applied) {\n\t\t\tlog(\"WSAIO: volume discount not found\");\n\t\t}\n\t\tif (!is_rd_applied) {\n\t\t\tlog(\"WSAIO: regular discount not found\");\n\t\t}\n\t\tif (!is_ships_applied) {\n\t\t\tlog(\"WSAIO: shipping not found\");\n\t\t}\n\t\tif (!is_cart_ld_applied) {\n\t\t\tlog(\"WSAIO: cart level discount not found\");\n\t\t}\n\t\tif (is_vd_applied || is_rd_applied || is_ships_applied || is_cart_ld_applied) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t};\n\n\tWSAIO.ajax = function (params) {\n\t\tif (params) {\n\t\t\tvar type = params.type,\n\t\t\t\turl = params.url,\n\t\t\t\tdata = params.data,\n\t\t\t\tsuccess = params.success,\n\t\t\t\terror = params.error;\n\t\t\t$ws.httpRequest.onreadystatechange = function () {\n\t\t\t\tif (this.readyState == 4) {\n\t\t\t\t\tif (this.status == 200) {\n\t\t\t\t\t\tif (typeof success === \"function\") {\n\t\t\t\t\t\t\tvar responseTxt = this.responseText;\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tresponseTxt = JSON.parse(this.responseText);\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t\treturn params.success(responseTxt);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof error === \"function\") {\n\t\t\t\t\t\t\treturn params.error(this.responseText);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t$ws.httpRequest.open(type, url, true);\n\t\t\t$ws.httpRequest.setRequestHeader('Content-Type', 'application\/json;charset=UTF-8');\n\t\t\tif (type == \"POST\") {\n\t\t\t\t$ws.httpRequest.send(JSON.stringify(data));\n\t\t\t} else {\n\t\t\t\t$ws.httpRequest.send();\n\t\t\t}\n\t\t} else {\n\t\t\tthrow Error(\"Ajax parameters can't be null. required parameters are type and url. Optional parameters are success and error functions\");\n\t\t}\n\t}\n\n\tif (isNaN(WSAIO.buy_now_btn_interval)) {\n\t\tWSAIO.buy_now_btn_interval = 1000;\n\t}\n\n\tfunction serverLogging(pre_checkout) {\n\t\tvar logging_data = {\n\t\t\tis_wholesale: WSAIO.isWholesaleCustomer(),\n\t\t\tcustomer: {\n\t\t\t\tid: WSAIO.customer.id,\n\t\t\t\temail: WSAIO.customer.email,\n\t\t\t\ttags: WSAIO.customer.tags\n\t\t\t},\n\t\t\ttemplate: WSAIO.landingTemplate,\n\t\t\tshop: {\n\t\t\t\turl: WSAIO.shopInfo.url,\n\t\t\t\tshop: WSAIO.shopInfo.shop\n\t\t\t},\n\t\t\tcart: WSAIO.cart_object,\n\t\t\tdate: new Date(),\n\t\t\tpre_checkout: pre_checkout || {}\n\t\t};\n\t\tlocalStorage.setItem(\"wsaio_logging\", JSON.stringify(logging_data));\n\t}\n\tserverLogging();\n\n\tWSAIO.run_app = function () {\n\t\tif (window.Currency && window.Currency.rates) {\n\t\t\tWSAIO.Currency.rates = window.Currency.rates;\n\t\t}\n\t\tif ($ws.landingTemplate === \"product\") {\n\t\t\t$ws.productDiscount({\n\t\t\t\titem_price_selector: $ws.product_price_selector,\n\t\t\t\ttemplate: 'product',\n\t\t\t\tproduct_id: $ws.selected_product.id,\n\t\t\t\tproduct_handle: $ws.selected_product.handle,\n\t\t\t\tvariant_id: $ws.selected_variant.id,\n\t\t\t\tvariant_sku: $ws.selected_variant.sku,\n\t\t\t\tvariant_price: $ws.selected_variant.price,\n\t\t\t\tvariant_compare_at_price: $ws.selected_variant.compare_at_price\n\t\t\t});\n\t\t}\n\t\tif ($ws.general_settings.discount_method === 'line_items' && true === WSAIO.general_settings.enable_additional_coupon_code) {\n\t\t\t$ws.DiscountCode.addForm();\n\t\t\t$ws.DiscountCode.subscribe(); \/\/ subscribe on click event\n\t\t}\n\t\tif ($ws.landingTemplate === \"cart\") {\n\t\t\t$ws.checkoutEventListner(); \/\/ Subscribe checkout button on click event\n\t\t\t$ws.preCheckout(); \/\/ Get wholesale price from server on window load\n\t\t}\n\t\tif ($ws.landingTemplate === \"collection\" || $ws.landingTemplate === \"search\") {\n\t\t\t$ws.collection();\n\t\t}\n\t\tif ($ws.landingTemplate === \"product\" || $ws.landingTemplate === \"index\") {\n\t\t\tsetTimeout(function () {\n\t\t\t\t$ws.relatedProducts();\n\t\t\t}, 3000);\n\t\t}\n\t\t$ws.signUpForm();\n\t\t\/\/ Buy now button event listener, must be called after few seconds, so it may remove other events\n\t\tsetTimeout(function () {\n\t\t\t$ws.buyNowEventListener();\n\t\t}, WSAIO.buy_now_btn_interval || 2000);\n\t\tsetTimeout(function () {\n\t\t\ttry {\n\t\t\t\tif (typeof window.wsaio_execute_custom_code === 'function') {\n\t\t\t\t\twindow.wsaio_execute_custom_code($)\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tlog(e);\n\t\t\t}\n\t\t}, 250);\n\t};\n\twindow.wsaioClosePreview = function () {\n\t\tWSAIO.removeQueryString(\"test-mode\", WSAIO.getParameterByName(\"test-mode\")[0]);\n\t\tlocalStorage.removeItem(\"wsaio-app-mode\");\n\t\tWSAIO.user_mode = \"live\";\n\t\tsetTimeout(function () {\n\t\t\twindow.location.replace('https:\/\/' + Shopify.shop);\n\t\t}, 500);\n\t}\n\n\twindow.wsaioHidePreview = function () {\n\t\t$(\".wholesaleAllInOnePreview\").remove();\n\t\t$(\"html\").css(\"padding-bottom\", \"\");\n\t}\n\n\tWSAIO.addPreviewBar = function () {\n\t\tvar previewBar = '<div class=\"wholesaleAllInOnePreview\" style=\"background-color: white;display:flex;height: 60px;align-items: center;width: 100%;padding: 13px 0px;box-shadow: rgba(0, 0, 0, 0.2) 0px -1px 3px;overflow: hidden;position: fixed;bottom: 0;left: 0;right: 0;z-index: 3147483648;opacity: 0.97;\">'+\n\t\t'<div style=\"flex-grow:1;padding-left:20px\"><p style=\"margin: 0px;color:black\"><span>'+\n\t\t'<b>Wholesale All In One Preview: <\/b><\/span>'+\n\t\t'Wholesale pricing are only visible to you. <a href=\"https:\/\/support.digitalcoo.com\/hc\/en-us\/articles\/360042800512\"><u>Learn More<\/u><\/a><\/p><\/div>'+'<div style=\"padding-right: 23px;\">'+\n\t\t'<button class=\"ws--preview-bar-btn\" onclick=\"wsaioClosePreview();\">Close Preview<\/button>'+\n\t\t'<button style=\"border:none;margin-left:.3rem;background:0 0;box-shadow:none;color:#007ace;font-size:14px;opacity:1\" onclick=\"wsaioHidePreview();\">Hide bar<\/button>'+\n\t\t'<\/div>'+\n\t\t'<\/div>';\n\t\t0 == $(\".wholesaleAllInOnePreview\").length && $(\"body\").append(previewBar);\n\t\t$(\"html\").css(\"padding-bottom\", \"60px\");\n\t}\n\n\tWSAIO.store = {\n\t\tget: function (key) {\n\t\t\treturn sessionStorage.getItem(key);\n\t\t},\n\t\tset: function (key, value) {\n\t\t\treturn sessionStorage.setItem(key, value);\n\t\t},\n\t\tdel: function (key) {\n\t\t\treturn sessionStorage.removeItem(key);\n\t\t}\n\t}\n\n\tWSAIO.handleBrowserURL = function () {\n\t\tfunction $track_overriding(product, variant, selector, trackClass) {\n\t\t\tvar counter = 1;\n\t\t\tfunction $check(counter) {\n\t\t\t\tlog(\"$tracking variant change...\");\n\t\t\t\tcounter++;\n\t\t\t\tif($(selector).hasClass(trackClass)){\n\t\t\t\t\t\/\/ log(\"$tracking variant changed! Discount did not override\");\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tlog(\"$tracking Discount has been overrided by another function. Let's change it according to WSAIO\");\n\t\t\t\t\tWSAIO.variantChange(product, variant);\n\t\t\t\t\tcounter = 3000;\n\t\t\t\t}\n\t\t\t\tif(counter < 3000){\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$check(counter);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t$check(counter);\n\t\t}\n\t\tfunction $handle_variant_change(variant_id) {\n\t\t\tvar pt_index = -1;\n\t\t\ttry {\n\t\t\t\tpt_index = WSAIO.product_details.variants.findIndex(function (x) {\n\t\t\t\t\treturn x.id == variant_id\n\t\t\t\t});\n\t\t\t} catch (e) {}\n\t\t\tif($(WSAIO.product_price_selector).hasClass(\"wsdapp\")){\n\t\t\t\t$(WSAIO.product_price_selector).removeClass(\"wsdapp\")\n\t\t\t}\n\t\t\tif (pt_index > -1) {\n\t\t\t\t$ws.selected_variant = WSAIO.product_details.variants[pt_index];\n\t\t\t\tvar variant = WSAIO.product_details.variants[pt_index];\n\t\t\t\tWSAIO.variantChange(WSAIO.product_details, variant);\n\t\t\t\t$track_overriding(WSAIO.product_details, variant, WSAIO.product_price_selector, \"wsdapp\");\n\t\t\t}\n\t\t}\n\t\tvar selected_variant_id = WSAIO.getParameterByName(\"variant\")[0];\n\t\tif(selected_variant_id){\n\t\t\tlog(\"Got variant id from browser url\");\n\t\t\t$handle_variant_change(selected_variant_id);\n\t\t}\n\t\telse{\n\t\t\tsetTimeout(function () {\n\t\t\t\tselected_variant_id = $('[name=\"id\"]').val();\n\t\t\t\tif(selected_variant_id){\n\t\t\t\t\tlog(\"Got variant id from name=id attribute\");\n\t\t\t\t\t$handle_variant_change(selected_variant_id);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tisError(\"Error 404! Variant ID not found\");\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\t\t\n\t};\n\n\tWSAIO.listenLocationChange = (function () {\n\t\tvar pushState = history.pushState;\n\t\tvar replaceState = history.replaceState;\n\t\thistory.pushState = function() {\n\t\t\tpushState.apply(history, arguments);\n\t\t\twindow.dispatchEvent(new Event('pushstate'));\n\t\t\twindow.dispatchEvent(new Event('locationchange'));\n\t\t};\n\t\thistory.replaceState = function() {\n\t\t\treplaceState.apply(history, arguments);\n\t\t\twindow.dispatchEvent(new Event('replacestate'));\n\t\t\twindow.dispatchEvent(new Event('locationchange'));\n\t\t};\n\t\twindow.addEventListener('popstate', function() {\n\t\t\twindow.dispatchEvent(new Event('locationchange'))\n\t\t});\n\t\t\/\/ window.addEventListener('locationchange', WSAIO.handleBrowserURL);\n\t})();\n\n\tif ($ws.app_auto_start) {\n\t\t$ws.run_app();\n\t}\n}; \/\/end WSAIO.init\n\nfunction ws_load_app(jQuery) {\n\tif (WSAIO.db_config == 'database') {\n\t\tjQuery.ajax({\n\t\t\ttype: 'GET',\n\t\t\turl: WSAIO.App.url + '\/api\/2021-03\/get-rules?shop=' + WSAIO.shopInfo.shop,\n\t\t\tcache: false,\n\t\t\tsuccess: function (rules) {\n\t\t\t\tif (rules) {\n\t\t\t\t\tif (rules.volume_discounts) {\n\t\t\t\t\t\tWSAIO.volume_discounts = rules.volume_discounts;\n\t\t\t\t\t}\n\t\t\t\t\tif (rules.regular_discounts) {\n\t\t\t\t\t\tWSAIO.regular_discounts = rules.regular_discounts;\n\t\t\t\t\t}\n\t\t\t\t\tif (rules.cart_discounts) {\n\t\t\t\t\t\tWSAIO.cart_ld_discounts = WSAIO.cart_discounts;\n\t\t\t\t\t}\n\t\t\t\t\tWSAIO.init(jQuery);\n\t\t\t\t}\n\t\t\t},\n\t\t\terror: function (error) {\n\t\t\t\tif(!WSAIO.no_logs){\n\t\t\t\t\t\/\/ console.error('WSAIO could not be initialized.', error);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t} else {\n\t\tWSAIO.init(jQuery);\n\t}\n}\n\nWSAIO.removeQueryString = function (a, d) {\n\tvar b = document.location.href,\n\t\tc = location.search;\n\t\"\" != a ? (d = encodeURIComponent(d), a = a + \"=\" + d, \"-1\" != c.indexOf(\"?\" + a + \"&\") ? b = b.replace(\"?\" + a + \"&\", \"?\") : \"-1\" != c.indexOf(\"&\" + a + \"&\") ? b = b.replace(\"&\" + a + \"&\", \"&\") : \"-1\" != c.indexOf(\"?\" + a) ? b = b.replace(\"?\" + a, \"\") : \"-1\" != c.indexOf(\"&\" + a) && (b = b.replace(\"&\" + a, \"\"))) : (c = location.search, b = b.replace(c, \"\"));\n\thistory.pushState({\n\t\tstate: 1,\n\t\trand: Math.random()\n\t}, \"\", b)\n};\n\nWSAIO.getParameterByName = function (e) {\n\tfor (var b = [], c = window.location.search.substring(1).split(\"&\"), a = 0; a < c.length; a++) {\n\t\tvar d = c[a].split(\"=\");\n\t\td[0] == e && b.push(decodeURIComponent(d[1]))\n\t}\n\treturn b\n};\n\nvar waioLoadScript = function (c, b) {\n\tvar a = document.createElement(\"script\");\n\ta.type = \"text\/javascript\";\n\ta.readyState ? a.onreadystatechange = function () {\n\t\tif (\"loaded\" == a.readyState || \"complete\" == a.readyState) a.onreadystatechange = null, b()\n\t} : a.onload = function () {\n\t\tb()\n\t};\n\ta.src = c;\n\tdocument.getElementsByTagName(\"head\")[0].appendChild(a)\n};\n\nif (\"yes\" === WSAIO.getParameterByName(\"test-mode\")[0]) {\n\tWSAIO.user_mode = \"test\";\n\tlocalStorage.setItem(\"wsaio-app-mode\", \"test\");\n\tWSAIO.show_preview_bar = true;\n}\n\nif (localStorage.getItem(\"wsaio-app-mode\") === \"yes\") {\n\tWSAIO.show_preview_bar = true;\n}\n\nif (WSAIO.app_mode === 'live' && WSAIO.disable_logs_when_live === true) {\n\tWSAIO.log = '';\n\tWSAIO.errorLog = '';\n}\n\n\n\nif (WSAIO.app_mode === \"live\" || (WSAIO.app_mode === WSAIO.user_mode)) {\n\t\"undefined\" === typeof jQuery || 1.7 > parseFloat(jQuery.fn.jquery) ? waioLoadScript(\"\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/3.3.1\/jquery.min.js\", function () {\n\t\tws_load_app(jQuery.noConflict(!0))\n\t}) : ws_load_app(jQuery);\n}\nelse {\n\tif(!WSAIO.no_logs){\n\t\t\/\/  console.warn(\"%c'Wholesale All In One' is disabled\", \"font-size: 20px\");\n\t}\n\tWSAIO = undefined;\n\tWSAIO_is_disabled = true;\n}",
          "wsaio_main_liquid_file": "{% comment %}\nLAST EDITED: 21 Sept, 2021\n{% endcomment %}\n{% liquid\n    assign products_per_page = 16\n    assign products_per_search = 16\n    assign ws_db_config = 'metafields'\n%}\n\n{% liquid\n    assign ws_selected_variant = product.selected_or_first_available_variant.id\n    assign ws_selected_variant_price = product.selected_or_first_available_variant.price\n    assign products_with_collections = '['\n    assign product_in_collects = '['\n    assign products_in_collection = '['\n    for item in cart.items\n        for collection in item.product.collections\n            assign products_with_collections = products_with_collections | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: item.product.id | append: '\"' | append: ',product_handle:\"' | append: item.product.handle | append: '\"},'\n        endfor\n    endfor\n    if template.name == 'product'\n        for collection in product.collections\n            assign product_in_collects = product_in_collects | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: product.id | append: '\"' | append: ',product_handle:\"' | append: product.handle | append: '\"},'\n        endfor\n        for collection in product.collections\n            assign products_with_collections = products_with_collections | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: product.id | append: '\"' | append: ',product_handle:\"' | append: product.handle | append: '\"},'\n        endfor\n    else\n        if template.name == 'search'\n            paginate search.results by products_per_search\n                for product in search.results\n                    assign first_available_variant = product.first_available_variant | json\n                    if product.available == false\n                    assign first_available_variant = \"{}\"\n                    endif\n                    assign title = product.title | json\n                    assign products_in_collection = products_in_collection | append: '{id:\"' | append: product.id | append: '\",handle:\"' | append: product.handle | append: '\"' | append: ',title:' | append: title | append: ',available:\"' | append: product.available | append: '\"' | append: ',first_available_variant:' | append: first_available_variant | append: '},'\n                    for collection in product.collections\n                        assign product_in_collects = product_in_collects | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: product.id | append: '\"' | append: ',product_handle:\"' | append: product.handle | append: '\"},'\n                    endfor\n                    for collection in product.collections\n                        assign products_with_collections = products_with_collections | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: product.id | append: '\"' | append: ',product_handle:\"' | append: product.handle | append: '\"},'\n                    endfor\n                endfor\n            endpaginate\n        else\n            if template.name == 'collection'\n                paginate collection.products by products_per_page\n                    for product in collection.products\n                        assign first_available_variant = product.first_available_variant | json\n                        if product.available == false\n                        assign first_available_variant = \"{}\"\n                        endif\n                        assign title = product.title | json\n                        assign products_in_collection = products_in_collection | append: '{id:\"' | append: product.id | append: '\",handle:\"' | append: product.handle | append: '\"' | append: ',title:' | append: title | append: ',available:\"' | append: product.available | append: '\"' | append: ',first_available_variant:' | append: first_available_variant | append: '},'\n                        for collection in product.collections\n                            assign product_in_collects = product_in_collects | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: product.id | append: '\"' | append: ',product_handle:\"' | append: product.handle | append: '\"},'\n                        endfor\n                        for collection in product.collections\n                            assign products_with_collections = products_with_collections | append: '{collection_id:\"' | append: collection.id | append: '\",product_id:\"' | append: product.id | append: '\"' | append: ',product_handle:\"' | append: product.handle | append: '\"},'\n                        endfor\n                    endfor\n                endpaginate\n            endif\n        endif\n    endif\n    assign products_with_collections = products_with_collections | append: ']'\n    assign product_in_collects = product_in_collects | append: ']'\n    assign products_in_collection = products_in_collection | append: ']'\n%}\n\n\n{% comment %} Cart page total saved amount message design {% endcomment %}\n{%- capture cart_bulk_saving_html -%}\n<div class=\"cart--bulk-savings\">\n    You saved %saved_amount% by buying bulk\n<\/div>\n{%- endcapture -%}\n\n{% comment %} Cart subtotal price design {% endcomment %}\n{%- capture cart_subtotal_price_html -%}\n<span class=\"money mysubb\"> %regular_price% CAD<\/span>\n{%- endcapture -%}\n\n{% comment %} Cart item line price design {% endcomment %}\n{%- capture cart_item_total_price_html -%}\n<span class=\"money\">%regular_price% CAD<\/span>\n{%- endcapture -%}\n\n{% comment %} Cart item single price design {% endcomment %}\n{%- capture cart_item_price_html -%}\n<span class=\"money\">%regular_price% CAD<\/span>\n{%- endcapture -%}\n\n{%- capture cart_item_saved_price_html -%}\n<div class=\"ws-saved-badge\">\n    <div>You saved %saved_amount:percentage%<\/div>\n    <div>Or %saved_amount:price%<\/div> \n<\/div>\n{%- endcapture -%}\n\n{% comment %} Product page price design {% endcomment %}\n{%- capture product_price_html -%}\n<span class=\"prod_d price-ui modal_price subtitle\" data-price-ui=\"\"><span class=\"price price--sale\" data-price=\"\"><span class=\"money\" data-price=\"\"> %regular_price% CAD<\/span><\/span><span class=\"compare-at-price\" data-compare-at-price=\"\"><span class=\"money\" data-price=\"\">%compare_at_price% CAD<\/span><\/span><span class=\"prod_save\"><\/span><\/span>\n{%- endcapture -%}\n\n{% comment %} Home, Search, Related Products and Collection page price design {% endcomment %}\n{%- capture hcsr_price_html -%}\n<span class=\"product__price--on-sale money\"> %regular_price% CAD<\/span> <s>%compare_at_price% CAD<\/s>\n{%- endcapture -%}\n\n{% comment %} Volume discount price design for collection page {% endcomment %}\n{%- capture hcsr_qb_price_html -%}\n<span class=\"product__price--on-sale\"> %regular_price% <\/span> <s>%compare_at_price%<\/s>\n{%- endcapture -%}\n\n{% comment %} Discount code form html {% endcomment %}\n{%- capture discount_code_form_html -%}\n<div>\n    <form action=\"#\" method=\"POST\">\n        <div class=\"wsaio--coupon-code-form\">\n            <div>\n                <input type=\"text\" name=\"discount\" id=\"ws--discount_code--field\" placeholder=\"Discount code\" autocomplete=\"OFF\" \/>\n            <\/div>\n            <div>\n                <button type=\"submit\" id=\"ws--discount_code--button\">\n                    <span class=\"ws--btn_label\">Apply<\/span>\n                <\/button>\n            <\/div>\n        <\/div>\n\n    <\/form>\n<\/div>\n\n{%- endcapture -%}\n\n{% comment %} For shipping message from app, use %message% variable to show message on specific location {% endcomment %}\n{%- capture shipping_message_html -%}\n<div class=\"ws--shipping-message\">%message%<\/div>\n{%- endcapture -%}\n\n{% comment %} Product's saved price design {% endcomment %}\n{%- capture saved_price_html -%}\n<div class=\"ws-saved-badge\">\n    You Saved %saved_amount:percentage% OR %saved_amount:price%\n<\/div>\n{%- endcapture -%}\n\n{% comment %} collection grid saved price design {% endcomment %}\n{%- capture saved_price_in_grid_html -%}\n<div class=\"ws-saved-badge\">\n    You Saved  %saved_amount:percentage% OR %saved_amount:price%\n<\/div>\n{%- endcapture -%}\n\n{% comment %} Buy it now button html - required to attach an event on buy it now button {% endcomment %}\n{%- capture buy_now_button_html -%}\n<button type=\"button\" class=\"shopify-payment-button__button shopify-payment-button__button--unbranded _2ogcW-Q9I-rgsSkNbRiJzA _2EiMjnumZ6FVtlC7RViKtj _2-dUletcCZ2ZL1aaH0GXxT\" data-testid=\"Checkout-button\">Buy it now<\/button>\n{%- endcapture -%}\n\n{% comment %} Product page original product price design {% endcomment %}\n{%- capture product_price_original_html -%}\n<span class=\"prod_d  origg price-ui modal_price subtitle\" data-price-ui=\"\"><span class=\"price price--sale\" data-price=\"\"><span class=\"money\" data-price=\"\"> %regular_price% CAD<\/span><\/span><span class=\"compare-at-price\" data-compare-at-price=\"\"><span class=\"money\" data-price=\"\">%compare_at_price% CAD<\/span><\/span><span class=\"prod_save\"><\/span><\/span>\n{%- endcapture -%}\n\n{% comment %} Collection page original product price design {% endcomment %}\n{%- capture hcsr_price_original_html -%}\n<span class=\"product__price--on-sale money\"> %regular_price% CAD<\/span>\n{%- endcapture -%}\n\n\n{%- capture cart_level_discount_message_html -%}\n<span class=\"wsaio--Cart_ld__Message\">Additional %discount% discount will be applied at checkout<\/span>\n{%- endcapture -%}\n\n<script>\n    \/**\n        If import, export is enabled on discunt rule page, change variant_sku_are_same value to FALSE, e.g\n    WSAIO.variant_sku_are_same = false;\n        App applies discount on variant (variant based discount) if variant SKU OR variant id is same.\n        Note: SKU is required if user imports discount rule.\n    **\/\n    WSAIO.variant_sku_are_same = true;\n\n    \/**\n        Coupon code expiry date configuration. Use +5, For example if you want to set 3 days expiry time since coupon code has been created, You should calculate 72+5 = 77;\n        To enable custom coupon code expiry date, uncomment below line\n    **\/\n    \/\/ #WSAIO.coupon_expires_after_hours = 77;\n\n    \/**\n        Define whether you want to get discounts rules data from metafields or from Database. default is metafields. Option [ 'metafields', 'database' ].\n        Please note that cart page calculations always comes from database.\n    **\/\n    WSAIO.db_config = {{ ws_db_config | json}};\n\n    \/**\n        Here you can control checkout requests. By changing checkout version, you can easily upgrade\/downgrade the app version\n    **\/\n    WSAIO.checkout_version = '\/checkout\/v6';\n    \n    \/**\n        Buy it now button interval. It will find and attach wsaio checkout events on buyitnow button after this interval. \n    **\/\n    WSAIO.buy_now_btn_interval = 1000;\n\n    \/**\n        Display discount on soldout products. If price is replaced by soldout label, then it must be false.\n    **\/\n    WSAIO.display_discount_on_soldout = false;\n\n    \/\/ ###Wholesale Selectors\n\n    \/**\n        ... Template Selector\n    **\/\n    WSAIO.product_saved_amount_selector = '.saved_price-%id%:same';\n    WSAIO.product_qb_table_selector = 'form[action=\"\/cart\/add\"]:after';\n    WSAIO.rd_sale_clock_selector = '.wsaio-rd-clock-%id%';\n    WSAIO.vd_sale_clock_selector = '.wsaio-vd-clock-%id%';\n\n    \/**\n        Product Template Selector\n    **\/\n    WSAIO.product_price_selector = '.product-block.product-block--price .modal_price.subtitle';\/\/dawn theme\n\n    \/**\n        Collection Template Selector\n    **\/\n    WSAIO.collection_items_each_selector = '.product-wrap';\/\/dawn theme\n    WSAIO.collection_item_price_selector = '.product-thumbnail__price.price';\/\/dawn theme\n\n    \/**\n        Cart Template Selectors\n    **\/\n    WSAIO.checkout_selector = '[name*=checkout]';\n    WSAIO.subtotal_selector = '.h3.cart__subtotal ,.mini_subtotal:same';\n    WSAIO.cart_bulk_saving_selector = '.ws--total-saving:same';\n    WSAIO.cart_ld_selector = '.cart__checkout-container ,.ajax-cart__taxes-shipping-message.has-padding-top:before';\n    WSAIO.cart_qty_change_selector = '[name=\"updates[]\"]';\n    WSAIO.shipping_message_selector = '.wsaio--shiping-msg:same';\n\n    WSAIO.cart_items_each_selector = \".cartloop\"; \/\/ loop over this selector to target its line item\n    WSAIO.cart_item_total_selector = '.total_priceee';\/\/ do not add after,same,before with :\n    WSAIO.cart_item_price_selector = '.priceee';\/\/ do not add after,same,before with :\n    \n    WSAIO.cart_item_saved_price_selector = '.ws-item-saved-price';\n        \n    \/**\n        Buy it now button Selectors\n    **\/\n    WSAIO.buy_now_button_selector = '.shopify-payment-button__button';\n    WSAIO.shopify_payment_button_wrapper = '.shopify-payment-button';\n\n    \/**\n        Currency Selectors\n    **\/\n    WSAIO.currency_selector = '[name*=\"currencies\"],[id*=\"currencies\"]';\n    WSAIO.currency_app_globvar = \"Currency\";\n    \n    \/**\n        Discount code Selectors\n    **\/\n    WSAIO.discount_code_field_selector = '.cart__subtotal-container.cart__row:before';\n    WSAIO.discount_code_alerts_selector = '.wsaio--coupon-code-alerts:same';\n    WSAIO.discount_code_error_message = '<span style=\"color:red;\">Discount code is invalid<\/span>';\n    WSAIO.discount_code_success_message = '<span style=\"color:#008000;\">Accepted! Discounts calculated at checkout<\/span>';\n    WSAIO.discount_code_customer_login_message = '<span style=\"color:orange;\">Login to get discount<\/span>';\n    \n    \/**\n        Signup form\/Wholesale form Selectors\n    **\/\n    WSAIO.signup_form_selector = '.wholesale-all-in-one-registration-form';\n\n    \/**\n        Translations\n    **\/\n    WSAIO.Lang = {\n        \"discount\": \"Discount\",\n        \"buy\": \"Buy\",\n        \"price\": \"Price per item\",\n        \"quantity\": \"Quantity\",\n        \"off\": \" Off\",\n        \"from\": \"From \",\n        \"minimum_quantity\": \"Minimum Qty\",\n        \"maximum_quantity\": \"Maximum Qty\",\n        \"range_seperator\": \" to \",\n        \"each_item\" : \" each\",\n        \"range_so_on\": \" + \"\n    };\n\n    \/**\n        Extras - Debugging & Settings\n    **\/\n\n    WSAIO.log = \"\";\n    WSAIO.errorLog = \"\";\n    WSAIO.disable_logs_when_live = true;\n    WSAIO.ccr = null;\n    WSAIO.ships_exists = true;\n    WSAIO.auto_delete_api = false; \n    WSAIO.app_auto_start = true;\n    WSAIO.volume_discount_on_hcsr = false;\n    WSAIO.debugger = false;\n    WSAIO.display_discount_on_soldout = false;\n    WSAIO.product_in_collects = {{product_in_collects}};\n    WSAIO.products_in_collection = {{products_in_collection}};\/\/ Only for collection template\n    WSAIO.products_with_collections = {{products_with_collections}};\n\n    \/**\n        Price Design HTML\n    **\/\n    WSAIO.cart_subtotal_price_html = {{ cart_subtotal_price_html | strip_newlines | json }};\n    WSAIO.cart_item_total_price_html = {{ cart_item_total_price_html | strip_newlines | json }};\n    WSAIO.cart_item_price_html = {{ cart_item_price_html |strip_newlines | json }};\n    WSAIO.cart_item_saved_price_html = {{ cart_item_saved_price_html | strip_newlines | json }};\n    WSAIO.product_price_html = {{ product_price_html | strip_newlines | json }};\n    WSAIO.hcsr_price_html = {{ hcsr_price_html | strip_newlines | json }};\n    WSAIO.cart_bulk_saving_html = {{ cart_bulk_saving_html | strip_newlines | json }};\n    WSAIO.hcsr_qb_price_html = {{ hcsr_qb_price_html | strip_newlines | json }};\n    WSAIO.shipping_message_html = {{ shipping_message_html | strip_newlines | json }};\n    WSAIO.discount_code_form_html = {{ discount_code_form_html | strip_newlines | json }};\n    WSAIO.saved_price_html = {{ saved_price_html | strip_newlines | json }};\n    WSAIO.saved_price_in_grid_html = {{ saved_price_in_grid_html | strip_newlines | json }};\n    WSAIO.buy_now_button_html = {{ buy_now_button_html | strip_newlines | json }};\n    WSAIO.product_price_original_html = {{ product_price_original_html | strip_newlines | json }};\n    WSAIO.hcsr_price_original_html = {{ hcsr_price_original_html | strip_newlines | json }};\n    WSAIO.cart_ld_html = {{ cart_level_discount_message_html | strip_newlines | json }};\n    WSAIO.cart_total = \"\";\n    WSAIO.cart_discounted_total = \"\";\n    WSAIO.override_compare_at_price = false;\n    if(WSAIO.general_settings.show_compare_at_price){\n        WSAIO.override_compare_at_price = true;\n    }\n    WSAIO.main_liquid_file_included = true;\n    WSAIO.shop_money_format = '${{amount}}';\n\n    WSAIO.callback = function(response){\n        try {\n            WSAIO.pre_checkout_data = JSON.parse(JSON.stringify(response));\n        } catch (e) {}\n        \/\/Discount code form will be added if any discount or shipping applied\n        \/**\n            Function that depends upon response\n        **\/\n        if(response){\n            if(response.shipping){\n                WSAIO.applied_shipping = response.shipping;\n                if(WSAIO.applied_shipping.apply_shipping_charges){\/\/check if shipping applied\n                    if(true===WSAIO.general_settings.enable_additional_coupon_code){\n                        WSAIO.DiscountCode.addForm();\n                        WSAIO.DiscountCode.subscribe(\"click\");\/\/ subscribe on click event\n                    }\n                }\n            }\n            if(Number(response.wholesale_total_discount) > 0){\n                if(true===WSAIO.general_settings.enable_additional_coupon_code){\n                    WSAIO.DiscountCode.addForm();\n                    WSAIO.DiscountCode.subscribe(\"click\");\/\/ subscribe on click event\n                }\n            }\n            \/\/ Minimum Order controls function will run if active from the App\n            if(response.checkout_price_from_total_price){\n                var subtotal = response.checkout_price_from_total_price;\n                if(typeof subtotal === \"string\"){\n                  subtotal = subtotal.replace(\".\",\"\");\n                }\n                if(\"function\"===typeof WSAIO.orderControl){\n                    WSAIO.orderControl(subtotal, WSAIO.checkout_selector);\n                }\n            }\n            if(response && response.hasOwnProperty(\"wholesale_total_discount\")){\n                typeof WSAIO.check_shipping != 'undefined' ? WSAIO.check_shipping() : console.log('')\n              }\n          typeof WSAIO.enable_netTerm != 'undefined' && WSAIO.enable_netTerm && WSAIO.net_disable_default_checkout ? console.log('default checkout disabled') :$(WSAIO.checkout_selector).show();\n        }\n\n    };\n\n    typeof WSAIO.enable_netTerm != 'undefined' && WSAIO.enable_netTerm && WSAIO.net_disable_default_checkout ? console.log('default checkout disabled') : typeof WSAIO != 'undefined' ? WSAIO.app_mode === WSAIO.user_mode || WSAIO.app_mode == 'live' ?  $(WSAIO.checkout_selector).hide() : $(WSAIO.checkout_selector).show() :  $(WSAIO.checkout_selector).show();\n    setTimeout(function(){ if( typeof WSAIO.enable_netTerm != 'undefined' && WSAIO.enable_netTerm && WSAIO.net_disable_default_checkout ? console.log('default checkout disabled') : $(WSAIO.checkout_selector).css('display') == 'none'){ $(WSAIO.checkout_selector).show()} },7000)\n\n    window.wsaio_execute_custom_code = function(jQuery){\n\n\n\/\/ ============================ collections discount =====================================================\n\nfunction coll_discount(){\n            \n            $('.product-wrap').each(function(index,item){\n            var _this= $(this);\n            var handle = _this.find('.product-thumbnail__title').attr('href');\n            if(handle != undefined && handle != '#' && handle.indexOf(\"\/products\/\") > -1){\n            handle=handle.split('\/products\/')[1];\n            handle=handle.split('?')[0];\n\n            jQuery.getJSON('\/products\/'+handle+'.js', function(product) {\n            WSAIO.productDiscount({\n            template:'collection',\n            item_price_selector: item.querySelector('.product-thumbnail__price.price'),\n            product_id: product.id,\n            product_handle: product.handle,\n            variant_id: product.variants[0].id,\n            variant_sku: product.variants[0].sku,\n            variant_price: product.variants[0].price,\n            variant_compare_at_price: product.variants[0].compare_at_price\n            });\n            });\n            };\n            });\n            \n         }\n\n            setTimeout(function(){\n            coll_discount()\n            },1000);\n\n\/\/ ==================================== product variant discount =============================================\n\n\n\nfunction productss(){\n\tvar Vid=$('[name=\"id\"]').val();\n\tvar handle = WSAIO.product_details.handle;\n\n\t\/\/ console.log(handle,Vid)\n\tjQuery.getJSON('\/products\/'+handle+'.js', function(product) {\n\tvar current_product2=product;\n\t$('.product__information').find('.product-block--price .modal_price.subtitle').removeClass('wsdapp')\n\t$('.product__information').find('.product-block--price .modal_price.subtitle').removeClass('empty')\n\tvar _indx = current_product2.variants.findIndex(function(x){return x.id == Vid}) \n\tWSAIO.variantChange(product,current_product2.variants[_indx]);\n\tWSAIO.productDiscount({\n\titem_price_selector: $('.product__information').find('.product-block--price .modal_price.subtitle'),\n\ttemplate: 'product',\n\tproduct_id: current_product2.id,\n\tproduct_handle: current_product2.handle,\n\tvariant_id: Vid,\n\tvariant_sku: current_product2.variants[_indx].sku,\n\tvariant_price: current_product2.variants[_indx].price,\n\tvariant_compare_at_price: current_product2.variants[_indx].compare_at_price\n\t},function(response){\n\nconsole.log(response.regular_discount.product_regular_discount.total_saved.percentage)\n\t\t if(response && response.regular_discount && Number(response.regular_discount.ws_discount) > 0){\n\t\t console.log(\"ws discount applied on this item\");\n\t\t\t var save_price =  WSAIO.formatMoney(response.regular_discount.product_regular_discount.total_saved.price);\n\t\t\t var save_percent  = response.regular_discount.product_regular_discount.total_saved.percentage\n\n\t\t\t $('.product__information').find('.product-block--price .prod_save').html('<span class=\"sale savings\">You save: '+save_percent+' (<span class=\"money\">'+save_price+'<\/span>)<\/span>')\n\t\t }\n\t\t else{\n\t\t   console.log(\"Set original price\");\n\t\t\n\t\t }\n\t\t\n\t});\n\t})\n}\n\n\n\tsetTimeout(function(){\n\t\tproductss()\n\t},1000)\n\n               $(document).on('change','.swatch__option',function(){\n               \/\/ console.log(\"product variant\")\n               setTimeout(function(){\n\t\t\t\tproductss()\n\t\t\t},500)\n               })\n\n\n\n\n\/\/ ==================================== related product  discount =============================================\n\n\n                  var recc=false;\n                  var _intv = setInterval(function(){\n                  if($('.product-recommendations .product-wrap').length > 0 && recc==false){\n                  recc=true;    \n                  console.log(\"onn\")\n                  setTimeout(function(){\n                  coll_discount()\n                  },1000);\n                  }\n                  else if(!$('.product-recommendations .product-wrap').length > 0  && recc==true){\n                  recc=false;\n                  console.log(\"off\")\n                  }\n                  },200);\n\n\n\n\n\/\/ ==================================== cart page  discount =============================================\n\n\n\n               $(document).on('click','.cart__quantity .quantity-plus ,.cart__quantity .quantity-minus',function(){\n                  $('.wsaio--Cart_ld__Message').remove()\n               console.log('cart_quantity')\n               setTimeout(function(){\n               WSAIO.preCheckout();\n               WSAIO.checkoutEventListner();\n            },1000)\n\n               })\n\n\n\n\n               $(document).on('change','.cart__quantity .quantity-input',function(){\n                  $('.wsaio--Cart_ld__Message').remove()\n               console.log('quantity_change')\n               setTimeout(function(){\n               WSAIO.preCheckout();\n               WSAIO.checkoutEventListner();\n            },1000)\n               })\n\n\n\n\n\n\n               if (WSAIO.template != \"cart\"){\n               setTimeout(function(){\n               WSAIO.preCheckout();\n               WSAIO.checkoutEventListner();\n            },1000)\n\n               }\n\n\n\n               $(document).on('click','.cart__remove ,.ajax-cart__delete',function(){\n                  $('.wsaio--Cart_ld__Message').remove()\n               console.log('removeeee')\n               setTimeout(function(){\n               WSAIO.preCheckout();\n               WSAIO.checkoutEventListner();\n               },1000)\n\n               })\n\n\n               \n\n               $(document).on('click','.button.ajax-submit.action_button.button--add-to-cart.action_button--secondary',function(){\n                  $('.wsaio--Cart_ld__Message').remove()\n               console.log('add')\n               setTimeout(function(){\n               WSAIO.preCheckout();\n               WSAIO.checkoutEventListner();\n               },1000)\n\n               })\n\n\n\n\/\/ ==================================== search discount =============================================\n\n         \n            setTimeout(function(){\n            $('.search__item').each(function(index,item){\n            var _this= $(this);\n            var handle = _this.find('.search-result__title a').attr('href');\n            if(handle != undefined && handle != '#' && handle.indexOf(\"\/products\/\") > -1){\n            handle=handle.split('\/products\/')[1];\n            handle=handle.split('?')[0];\n\n            jQuery.getJSON('\/products\/'+handle+'.js', function(product) {\n            WSAIO.productDiscount({\n            template:'collection',\n            item_price_selector: item.querySelector('.price'),\n            product_id: product.id,\n            product_handle: product.handle,\n            variant_id: product.variants[0].id,\n            variant_sku: product.variants[0].sku,\n            variant_price: product.variants[0].price,\n            variant_compare_at_price: product.variants[0].compare_at_price\n            });\n            });\n            };\n            });\n            },1000);   \n\n\n \n            \n\n            $(document).bind('DOMNodeInserted', function(e) {\n            var element = e.target;\n            var elm = $(element).attr(\"class\")\n            \/\/     warn(elm)\n            if(typeof elm != 'undefined'){\n            if(elm.indexOf('collection-matrix__wrapper')>-1){\n            \n                setTimeout(function(){\n            coll_discount()\n            },1000);\n\n            }\n            }\n            });\n            \n\n\n\n\n\n\n\n\n\n\n\n        var valid_chk = false;\n        setInterval(function(){\n        if(window.ZapietCheckoutEnabled && valid_chk == false){ WSAIO.checkoutEventListner(); valid_chk =true;\n        }else if(!window.ZapietCheckoutEnabled && valid_chk == true){ valid_chk =false; }\n        },100)\n\n        if(\"function\"===typeof WSAIO.initAddons){\n            WSAIO.initAddons(jQuery || $);\n        }\n    };\n\n    WSAIO.product_details = {\n        id: {{ product.id | json }},\n        handle: {{ product.handle | json }},\n        available: {{ product.available | json }},\n        variants: {{ product.variants | json }}\n    }; \/\/ for product template\n\n    try{\n        WSAIO.product_details.variants = JSON.parse(JSON.stringify(WSAIO.product_details.variants)).map(function(x){\n            return {\n                id: x.id,\n                name: x.name,\n                title: x.title,\n                available: x.available,\n                sku: x.sku,\n                price: x.price,\n                compare_at_price: x.compare_at_price\n            };\n        });\n    }catch(e){}\n    \n<\/script>",
          "wsaio_modules_liquid_file": "{% comment %}\nLAST EDITED: 11 June 2021\n{% endcomment %}\n\n<script>if(typeof window.WSAIO==='undefined'){window.WSAIO={};}if(typeof WSAIO.App==='undefined'){WSAIO.App={};}<\/script>\n{% assign ws_general_settings = shop.metafields.waioSettings.general_settings %}\n{% assign rules_operator = 'and' %}{%- for OC in shop.metafields.waioOC -%}{% assign key = OC | first %}{% assign item = OC | last %}{% if item.status == 'active' %}{%assign rules_operator = item.rules_operator %}{%assign rules_message = item.message %}{% capture rules_checked %}{% for rule in item.rules %}{% case rule.column %}{%when 'cart_original_total_price'%}{%assign rule_price = rule.condition |times: 100 %}{%case rule.relation %}{%when 'equal'%}{%if cart.original_total_price == rule_price %}true{%else%}false{%endif%}{%when 'not_equal'%}{%if cart.original_total_price != rule_price %}true{%else%}false{%endif%}{%when 'greater_than'%}{%if rule_price < cart.original_total_price  %}true{%else%}false{%endif%}{%when 'less_than'%}{%if rule_price > cart.original_total_price %}true{%else%}false{%endif%}{%else%}{%endcase%}{%when 'customer_has_an_account' %}{%case rule.relation %}{%when 'equal'%}{%if rule.condition == 'true' %}{%if customer %}true{%else%}false{% endif %}{%endif%}{%when 'not_equal'%}{%if rule.condition == 'true' %}{%if customer %}false{%else%}true{% endif %}{%endif%}{%else%}{%endcase%}{%when 'customer_tag' %}{%case rule.relation %}{%when 'equal'%}{%if customer %}{%for tag in customer.tags %}{% if tag == rule.condition%}true{%break%}{% endif %}{% if forloop.last == true %}false{% endif %}{%endfor%}{%else%}false{%endif%}{%when 'not_equal'%}{%if customer %}{%for tag in customer.tags %}{% if tag != rule.condition%}true{%break%}{% endif %}{% if forloop.last == true %}false{% endif %}{%endfor%}{%else%}false{%endif%}{%else%}{%endcase%}{% else %}{%endcase%}{% if forloop.last == true %}{%else%},{% endif %}{% endfor %}{%endcapture%}{% endif %}{%- endfor -%}\n<script>\n    if(typeof WSAIO != \"undefined\"){\n        window.wholesale_signup_link_on_login_page= 'append';  \/\/ replace,append,none\n        \/\/ Control Create account and Create wholesale account link on login page.\n        window.create_wholesale_account_link = \"\/pages\/register\";\n        \/\/ Use to redirect to 'create wholesale account' only when default Create account is disabled\n        \"undefined\"===typeof waioMOC&&(window.waioMOC={});\n        window.collection_id = {{ collection.id | json }};\n        WSAIO.default_limit = false;\n        window.current_product = window.current_product || {{product|json}};\n        window.selected_variant_id = window.selected_variant_id || {{product.selected_or_first_available_variant.id|json}};\n        WSAIO.initModules = function($){\n            WSAIO.checkout_selector = '[name*=checkout]';\n            var tem_moc = {{shop.metafields.waioMOC | json }};\n            var w_original_total_price = {{cart.items_subtotal_price | json}};\n            var w_total_weight = {{cart.total_weight | json}};\n            var w_item_count = {{cart.item_count | json}};\n            var w_weight_with_unit = {{ cart.total_weight | weight_with_unit | json}};\n            var is_loggedIn = {% if customer %}true{%else%}false{% endif %};\n            var shop = {{shop.domain | json }};\n            var customerTags = {{ customer.tags | json }} || [];\n            var customer_tags = {{ customer.tags | json }} || [];\n            try{\n                customerTags = JSON.parse(customerTags);\n            }catch(e){}\n            try{\n                customer_tags = JSON.parse(customer_tags);\n            }catch(e){}\n            var cart = {{ cart | json }};\n            var collection_handle = '{{ collection.handle }}';\n            var tempWaioQC = {{shop.metafields.waioQC | json }};\n            var waioQCTemp = [];\n            waioQCTemp = waioQCTemp.concat(Object.keys(tempWaioQC).map(function(a){return tempWaioQC[a]}));\n            WSAIO.quantity_controls = [];\n            if(typeof waioQCTemp !== \"undefined\" && waioQCTemp.length > 0){\n                var sortOrder = [\"tag_based\", \"logged_in\", \"all\"];\n                var sortOrder2 =  [\"variants\", \"products\",\"collections\",\"entire_store\"];\n                var temp = [];\n                for(var iter = 0; iter < sortOrder2.length; iter++){\n                    var _d = sortOrder2[iter];\n                    var temp1 = waioQCTemp.filter(function(x){return x.applies_to === _d});\n                    temp1.sort(function(a,b){\n                        var compA = $.inArray(a.customer_group, sortOrder);\n                        var compB = $.inArray(b.customer_group, sortOrder);\n                        return (compA < compB) ? -1 : (compA > compB) ? 1 : 0;\n                    });\n                    temp1.forEach(function(_f,_j){\n                        temp.push(_f);\n                    });\n                }\n                WSAIO.quantity_controls = temp; \n            }\n            waioMOC.rules=[];waioMOC.rules=waioMOC.rules.concat(Object.keys(tem_moc).map(function(a){return tem_moc[a]}));waioMOC.cart={original_total_price:w_original_total_price,total_weight:w_total_weight,item_count:w_item_count,weight_with_unit:w_weight_with_unit};waioMOC.oc={};\n            WSAIO.disable_checkout=!1;\n            function log(a,b,c){if(WSAIO.debug)if(\"undefined\"!==typeof c)switch(c){case \"warning\":console.warn(a,b);break;case \"error\":console.error(a,b);break;case \"info\":console.info(a,b);break;default:console.log(a,b)}else console.log(a,b)};\n    \t\t    function mF(a){if(isNaN(a)||null==a)return 0;a=a.toString();if(\"string\"==typeof a&&-1<a.indexOf(\".\"))return 2>a.split(\".\")[1].length?Number(a).toFixed(2).toString():a.toString();a=(Number(a)\/100).toFixed(2);return a.toString()};\n            \/\/ START MINIMUM ORDER CONTROL\n            var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b=\"undefined\"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};\n            function disable_checkout(a, b, d) {\n                b = b || waioMOC.oc.message;\n                d = d || WSAIO.checkout_selector;\n                if(a || WSAIO.disable_checkout){ \n                  a = '<div class=\"waio-orderControl-message\">' + b + \"<\/div>\";\n                  if(0 < $(\".waio-orderControl-message\").length){ \n                    $(\".waio-orderControl-message\").text(b);\n                  } else{\n                    $(a).insertAfter(d);\n                    $(d).off();\n                    $(d).attr(\"disabled\", \"disabled\");\n                    $(d).addClass(\"checkout-disabled\")\n                    WSAIO.default_limit = true;\n                  }\n                }else{\n                  $(\".waio-orderControl-message\").html(\"\");\n                  $(d).removeClass(\"checkout-disabled\");\n                  $(d).removeAttr(\"disabled\");\n                  $(d).attr(\"name\", \"checkout\");\n                  WSAIO.default_limit = false;\n                }\n              }\n            function minOrderControl(){for(var a=[],b=0;b<waioMOC.rules.length;b++){var d=waioMOC.rules[b];\"active\"===d.status&&mocIsValidCustomer(d)&&a.push(d)}if(0<a.length){b={};if(1===a.length)b=a[0];else{d=a.findIndex(function(a){return\"tag_based\"===a.customer_group});var c=a.findIndex(function(a){return\"logged_in\"===a.customer_group}),e=a.findIndex(function(a){return\"all\"===a.customer_group});-1<d?b=a[d]:-1<c?b=a[c]:-1<e&&(b=a[e])}log(b);if(\"undefined\"!==typeof b.rules){a=[];d=$jscomp.makeIterator(b.rules);for(c=d.next();!c.done;c=d.next())switch(c=c.value,c.column){case \"cart_original_total_price\":switch(c.relation){case \"equal\":Number(c.condition)==mF(Number(waioMOC.cart.original_total_price))?a.push(\"yes\"):a.push(\"no\");break;case \"not_equal\":Number(c.condition)!=mF(Number(waioMOC.cart.original_total_price))?a.push(\"yes\"):a.push(\"no\");break;case \"greater_than\":Number(c.condition)<mF(Number(waioMOC.cart.original_total_price))?a.push(\"yes\"):a.push(\"no\");break;case \"less_than\":Number(c.condition)>mF(Number(waioMOC.cart.original_total_price))?a.push(\"yes\"):a.push(\"no\");break;default:cosnole.log(\"invalid relation value in MOC's nested switch\")}break;case \"cart_item_count\":switch(c.relation){case \"equal\":Number(c.condition)==Number(waioMOC.cart.item_count)?a.push(\"yes\"):a.push(\"no\");break;case \"not_equal\":Number(c.condition)!=Number(waioMOC.cart.item_count)?a.push(\"yes\"):a.push(\"no\");break;case \"greater_than\":Number(c.condition)<Number(waioMOC.cart.item_count)?a.push(\"yes\"):a.push(\"no\");break;case \"less_than\":Number(c.condition)>Number(waioMOC.cart.item_count)?a.push(\"yes\"):a.push(\"no\");break;default:cosnole.log(\"invalid relation value in MOC's nested switch\")}break;case \"cart_total_weight\":switch(c.relation){case \"equal\":Number(c.condition)==Number(waioMOC.cart.total_weight)?a.push(\"yes\"):a.push(\"no\");break;case \"not_equal\":Number(c.condition)!=Number(waioMOC.cart.total_weight)?a.push(\"yes\"):a.push(\"no\");break;case \"greater_than\":Number(c.condition)<Number(waioMOC.cart.total_weight)?a.push(\"yes\"):a.push(\"no\");break;case \"less_than\":Number(c.condition)>Number(waioMOC.cart.total_weight)?a.push(\"yes\"):a.push(\"no\");break;default:cosnole.log(\"invalid relation value in MOC's nested switch\")}break;default:cosnole.log(\"invalid column value in MOC's parent switch\")}log(a);waioMOC.oc=b;\"and\"===b.rules_operator?-1<a.indexOf(\"no\")?(WSAIO.disable_checkout=!0,WSAIO.checkout_message=b.message,WSAIO.disableCheckout(!0,b.message)):(WSAIO.disable_checkout=!1,WSAIO.checkout_message=b.message,WSAIO.disableCheckout(!1,b.message)):-1===a.indexOf(\"yes\")?(WSAIO.disable_checkout=!0,WSAIO.checkout_message=b.message,WSAIO.disableCheckout(!0,b.message)):(WSAIO.disable_checkout=!1,WSAIO.checkout_message=b.message,WSAIO.disableCheckout(!1,b.message))}else log(\"Something missing in MOC\")}else log(\"Minimum Order Control is not valid for this customer\"),log(\"Minimum Order Control is not valid for this customer\")}\n            function mocIsValidCustomer(a){var b=!0;\"all\"!==a.customer_group?(is_loggedIn||(b=!1),\"tag_based\"===a.customer_group?isTagged(a.customer_tags)||(b=!1):a.except_tags&&isTagged(a.excepted_tags)&&(b=!1)):(a.except_tags&&isTagged(a.excepted_tags)&&(b=!1),a.except_logged_in&&is_loggedIn&&(b=!1));return b}\n            function isTagged(a){if(\"undefined\"===typeof a||!is_loggedIn)return!1;var b=!1,d=customer_tags.map(function(a){return a.toLowerCase()});a=a.map(function(a){return a.toLowerCase()});a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(-1<d.indexOf(c.value)){b=!0;break}return b};\n            \/\/ END MINIMUM ORDER CONTROL\n            WSAIO.order_control = function(){minOrderControl();};\n            WSAIO.disableCheckout = function(c,m,el){disable_checkout(c,m,el);};\n            \/\/ Quantity Controls functions\n            function quantity_controller(config, callback){\n                if(\"undefined\"===typeof config)var config={};\n                null===config&&(config={});\n                var productId = config.productId || current_product.id;\n                var variantId = config.variantId || selected_variant_id;\n                var collectionId = config.collectionId || collection_id;\n                var custom_message = config.message || null;\n                var qc_variants = [];\n                var qc_products = [];\n                var qc_collections = [];\n                var qc_entireStore = [];\n                for(var iter = 0; iter < WSAIO.quantity_controls.length; iter++){\n                    var rule = WSAIO.quantity_controls[iter];\n                    if(rule.status !== \"enabled\") continue;\n                    if(rule.customer_group === \"logged_in\" && !is_loggedIn) continue;\n                    else if(rule.customer_group === \"tag_based\"){\n                        if(!is_loggedIn) continue;\n                        var cus_tags = customerTags.map(function (e) {\n                            return e.toLowerCase()\n                        });\n                        var tagFound = false;\n                        for(var iter1 = 0; iter1 < rule.customer_tags.length; iter1++){\n                            var tag = rule.customer_tags[iter1];\n                            if(cus_tags.indexOf(tag.toLowerCase())>-1){\n                                tagFound = true; break;\n                            }\n                        }\n                        if(!tagFound) continue;\n                    }\n\n\n\n                  getAllRelevantQC({\n                    rule: rule,\n                    variantId: variantId,\n                    productId: productId,\n                    collectionId: collectionId,\n                    qc_variants: qc_variants,\n                    qc_products: qc_products,\n                    qc_collections: qc_collections,\n                    qc_entireStore: qc_entireStore\n                  }, function(results){\n                    log(\"results\",results);\n                    var pushData = {\n                      variantId: variantId,\n                      productId: productId,\n                      collectionId: collectionId,\n                      customer_group: rule.customer_group,\n                      internal_name: rule.internal_name,\n                      default_quantity: rule.default_quantity,\n                      maximum_quantity: rule.maximum_quantity,\n                      minimum_quantity: rule.minimum_quantity,\n                      quantity_increment: rule.quantity_increment,\n                      applies_to: rule.applies_to,\n                      message: custom_message || rule.message,\n                      selector_for_individual_variant: rule.selector_for_individual_variant,\n                      minimum_quantity_method: rule.minimum_quantity_method\n                    };\n                    if(results.type === \"variants\" && results.status === \"approved\"){\n                      pushData.variants = rule.variants;\n                      qc_variants.push(pushData);\n                    }\n                    if(results.type === \"products\" && results.status === \"approved\"){\n                      pushData.products = rule.products;\n                      qc_products.push(pushData);\n                    }\n                    if(results.type === \"collections\" && results.status === \"approved\"){\n                      pushData.collections = rule.collections;\n                      qc_collections.push(pushData);\n                    }\n                    if(results.type === \"entire_store\" && results.status === \"approved\"){\n                      pushData.entire_store = true;\n                      qc_entireStore.push(pushData);\n                    }\n                  });\n                }\/\/end forloop\n                log(\"qc_variants\", qc_variants);\n                log(\"qc_products\", qc_products);\n                log(\"qc_collections\", qc_collections);\n                log(\"qc_entireStore\", qc_entireStore);\n                var variants_final = [];\n                var products_final = {};\n                var collections_final = {};\n                var entireStore_final = {};\n                for(var iter = 0; iter < qc_variants.length; iter++){\n                  var v = qc_variants[iter];\n                  var vcg = variants_final.find(function(x){return x.customer_group});\n                  if( \"undefined\" !== typeof vcg ){\n\n                    switch(vcg){\n                        case \"tag_based\":\n                          if(vcg != \"tag_based\"){\n                            variants_final.push(v);\n                          }\n                          break;\n                        case \"logged_in\":\n                          if(vcg != \"tag_based\"){\n                            variants_final.push(v);\n                          }\n                          break;\n                        case \"all\":\n                          if(vcg != \"tag_based\" && variants_final.customer_group != \"logged_in\"){\n                            variants_final.push(v);\n                          }\n                          break;\n                      default:\n                          break;\n                      }\n\n\n\n                  }\n\n                  else{\n                    variants_final.push(v);\n                  }\n                }\n                for(var iter = 0; iter < qc_products.length; iter++){\n                  var v = qc_products[iter];\n                  if( \"undefined\" !== typeof products_final.customer_group ){\n                    switch(v.customer_group){\n                      case \"tag_based\":\n                          if(products_final.customer_group != \"tag_based\"){\n                            products_final = v;\n                          }\n                          break;\n                      case \"logged_in\":\n                          if(products_final.customer_group != \"tag_based\"){\n                            products_final = v;\n                          }\n                          break;\n                      case \"all\":\n                          if(products_final.customer_group != \"tag_based\" && products_final.customer_group != \"logged_in\"){\n                            products_final = v;\n                          }\n                          break;\n                      default:\n                          break;\n                      }\n                  }\n                  else{\n                    products_final = v;\n                  }\n                }\n                for(var iter = 0; iter < qc_collections.length; iter++){\n                  var v = qc_collections[iter];\n                  if( \"undefined\" !== typeof collections_final.customer_group ){\n                    switch(v.customer_group){\n                      case \"tag_based\":\n                          if(collections_final.customer_group != \"tag_based\"){\n                            collections_final = v;\n                          }\n                          break;\n                      case \"logged_in\":\n                          if(collections_final.customer_group != \"tag_based\"){\n                            collections_final = v;\n                          }\n                          break;\n                      case \"all\":\n                          if(collections_final.customer_group != \"tag_based\" && collections_final.customer_group != \"logged_in\"){\n                            collections_final = v;\n                          }\n                          break;\n                      default:\n                          break;\n                      }\n                  }\n                  else{\n                    collections_final = v;\n                  }\n                }\n                  for(var iter = 0; iter < qc_entireStore.length; iter++){\n                  var v = qc_entireStore[iter];\n                  if( \"undefined\" !== typeof entireStore_final.customer_group ){\n                    switch(v.customer_group){\n                      case \"tag_based\":\n                          if(entireStore_final.customer_group != \"tag_based\"){\n                            entireStore_final = v;\n                          }\n                          break;\n                      case \"logged_in\":\n                          if(entireStore_final.customer_group != \"tag_based\"){\n                            entireStore_final = v;\n                          }\n                          break;\n                      case \"all\":\n                          if(entireStore_final.customer_group != \"tag_based\" && entireStore_final.customer_group != \"logged_in\"){\n                            entireStore_final = v;\n                          }\n                          break;\n                      default:\n                          break;\n                      }\n                  }\n                  else{\n                    entireStore_final = v;\n                  }\n                }\n                log(\"variants_final\", variants_final);\n                log(\"products_final\", products_final);\n                log(\"collections_final\", collections_final);\n                log(\"entireStore_final\", entireStore_final);\n                var quantity_controls = [];\n                if(\"undefined\" !== typeof variants_final.find(function(x){return x.applies_to})){\n                    variants_final.forEach(function(_d,i){quantity_controls.push(_d);});\n                    if(\"undefined\" !== typeof products_final.applies_to){\n                        quantity_controls.push(products_final);\n                    }\n                }\n                else if(\"undefined\" !== typeof products_final.applies_to){\n                  quantity_controls.push(products_final);\n                }\n                else if(\"undefined\" !== typeof collections_final.applies_to){\n                  quantity_controls.push(collections_final); \n                }\n                else if(\"undefined\" !== typeof entireStore_final.applies_to){\n                  quantity_controls.push(entireStore_final);\n                }\n                callback(null,{quantity_controls:quantity_controls})\n              }\n            function getAllRelevantQC(data, callback){\n                var $jscomp$destructuring$var0 = data, rule = $jscomp$destructuring$var0.rule, qc_variants = $jscomp$destructuring$var0.qc_variants, qc_products = $jscomp$destructuring$var0.qc_products, qc_collections = $jscomp$destructuring$var0.qc_collections, qc_entireStore = $jscomp$destructuring$var0.qc_entireStore, variantId = $jscomp$destructuring$var0.variantId, productId = $jscomp$destructuring$var0.productId, collectionId = $jscomp$destructuring$var0.collectionId;\n                var status = \"rejected\";\n                switch (rule.applies_to) {\n                    case \"variants\":\n                        if(variantId){\n                            var find = rule.variants.findIndex(function(x){ return x.id == variantId });\n                            if(find > -1){\n                                status = \"approved\";\n                            }\n                        }\n                        else{\n                            log(\"WAIO Warning!\",\"Variant id not found for Quantity controller applies to variants\",\"warning\");\n                        }\n                        if(productId){\n                            var find = rule.variants.findIndex(function(x){ return x.product_id == productId });\n                            if(find > -1){\n                                status = \"approved\";\n                            }\n                        }\n                    break;\n                    case \"products\":\n                        if(productId){\n                            var find = rule.products.findIndex(function(x){ return x.id == productId });\n                            if(find > -1){\n                                status = \"approved\";\n                            }\n                        }\n                        else{\n                            log(\"WAIO Warning!\",\"Product id not found for Quantity controller applies to products\",\"warning\");\n                        }\n                        if(variantId){\n                            try{\n                                for(var iter = 0; iter < rule.products.length; iter++){\n                                    var product =  rule.products[iter];\n                                    var find = product.variants.findIndex(function(x){ return x.id == variantId });\n                                    if(find > -1){\n                                        status = \"approved\"; break;\n                                    }\n                                }\n                            }catch(e){log(e);}\n                        }\n                        break;\n                    case \"collections\":\n                        if(collectionId){\n                            if(rule.collections.findIndex(function(x){return x.id == collectionId }) > -1){\n                                status = \"approved\";\n                            }\n                        }\n                        else if(productId){\n                            WSAIO.collectionsOfProduct(productId, function(collectionIds){\n                                log(\"collectionIds\",collectionIds);\n                                for(var iter = 0; iter < collectionIds.length; iter++){\n                                    var collId = collectionIds[iter];\n                                    if(rule.collections.findIndex(function(x){return x.id == collId }) > -1){\n                                        status = \"approved\"; break;\n                                    }\n                                }\n                            });\n                        }\n                        else if(collection_handle == \"all\"){\n                            if(qc_collections.length == 0){\n                                status = \"approved\";\n                            }\n                            log(\"WAIO message: All collections rendered!\")\n                        }\n                        else{\n                            log(\"WAIO message: Current collection's id not found!\",\"warning\")\n                        }\n                        break;\n                    case \"entire_store\":\n                        if(WSAIO.template !== \"product\"){\n                            if(qc_collections.length === 0 && qc_products.length === 0 && qc_variants.length === 0){\n                                status = \"approved\";\n                            }\n                        }\n                        else{\n                            if(qc_variants.length === 0){\n                                status = \"approved\";\n                            }\n                            {%if template.name == 'index' or template.name == 'search'%}\n                            status = \"approved\";\n                            {%endif%}\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                callback({type:rule.applies_to,status:status});\n            }\n            WSAIO.collectionsOfProduct = function (product_id, callback) {\n                if (WSAIO.products_with_collections && WSAIO.products_with_collections.length) {\n                    var arr = WSAIO.products_with_collections.filter(function (x) {\n                        return x.product_id == product_id\n                    });\n                    if (typeof callback === \"function\") {\n                        callback(arr);\n                    }\n                } else {\n                    if (typeof callback === \"function\") {\n                        callback([]);\n                    }\n                }\n            }\n            function quantityControls__cart(config, callback){\n                if(\"undefined\"===typeof config)var config={};\n                null===config&&(config={});\n                var elementSelector = config.elementSelector || \"[data-variant-id]\";\n                var variantIdAttribute = config.variantIdAttribute || \"data-variant-id\";\n                var productIdAttribute = config.productIdAttribute || \"data-product-id\";\n                if($(elementSelector).length > 0){\n                    $(elementSelector).each(function(e,a){\n                        var $variantId = $(this).attr(variantIdAttribute);\n                        var $productId = $(this).attr(productIdAttribute);\n                        config.variantId = $variantId;\n                        if($productId){\n                            config.productId = $productId;\n                        }\n                        WSAIO.quantityController(config, function(e,quantity_controls){\n                            if(e){\n                                log(e);\n                                callback(e, null);\n                            }\n                            else{\n                                callback(null, {\n                                    quantity_controls: quantity_controls,\n                                    elementSelector: \"[\"+variantIdAttribute+\"='\"+$variantId+\"']\"\n                                });\n                            };\n                        });\n                    });\n                }\n                else{\n                    \/\/ callback(\"elementSelector could not found any nodeElement. Config elementSelector for Quantity controller to work on cart template.\", null);\n                }\n            }\n            \/\/ End Quantity Controls functions\n            if(!WSAIO.fetchCart){\n                WSAIO.fetchCart = function(b) {\n                $.ajax({type:\"GET\", url:\"\/cart.js\", cache:!1, dataType:\"json\", success:function(f) {\n                  var d = [];\n                  f && f.items && 0 < f.items.length && (f.items.forEach(function(e, c) {\n                    try {\n                      delete e.product_description, delete e.featured_image, delete e.url, delete e.options_with_values, delete e.variant_options, delete e.product_description;\n                    } catch (h) {\n                      k(h);\n                    }\n                    d.push(e);\n                  }), f.items = d);\n                  try {\n                    \"undefined\" === typeof window.waioMOC && (window.waioMOC = {});\n                    \"undefined\" === typeof waioMOC.cart && (waioMOC.cart = {});\n                    try {\n                      waioMOC.cart.item_count = f.item_count;\n                    } catch (e) {\n                    }\n                  } catch (e) {\n                  }\n                  \"function\" === typeof b && b(null, f);\n                }, error:function(f) {\n                  \"function\" === typeof b && b(f, null);\n                }});\n              };\n            }\n            WSAIO.quantityController = function(config, callback){\n                if(\"undefined\"===typeof config)var config={};\n                null===config&&(config={});\n                if(config.productHandle){\n                    WSAIO.getProductByHandle(config.productHandle, function(e,product){\n                        if(product){\n                            config.productId = product.id;\n                            if(!config.variantId){\n                                try{\n                                    config.variantId = product.variants[0].id;\n                                }catch(e){log(e)}\n                            }\n                        }\n                        quantity_controller(config, callback);\n                    });\n                }\n                else{\n                    quantity_controller(config, callback);\n                }\n            }\n            WSAIO.cartQuantityController = function(config,callback){\n                quantityControls__cart(config,callback)\n            }\n            WSAIO.loginLink = function() {\n              if(window.wholesale_signup_link_on_login_page == 'replace'){\n                $('a[href=\"\/account\/register\"]').hide();\n                if($('.wsaio_form').length == 0){ $('main a[href=\"\/account\/register\"]').after('<a href=\"\/pages\/register\" class=\"wsaio_form\">Create wholesale account<\/a>');}\n                var NewSignupPageLink = window.create_wholesale_account_link;\n                if(document.querySelector('a[href*=\"\/account\/register\"]') != null){\n                  try {\n                    document.querySelectorAll('a[href*=\"\/account\/register\"]').forEach(function(element,i){\n                      element.addEventListener(\"click\", function(e){\n                        e.preventDefault();\n                        window.location.href = NewSignupPageLink;\n                      });\n                    });\n                  } catch (e) {}\n                }\n                if(window.location.pathname == \"\/account\/register\"){\n                  window.location.href = NewSignupPageLink;\n                }\n              }\n              else if(  window.wholesale_signup_link_on_login_page == 'append'){\n                if($('.wsaio_form').length == 0){ $('main a[href=\"\/account\/register\"]').after('<br><a href=\"\/pages\/register\" class=\"wsaio_form\">Create wholesale account<\/a>');}\n              }\n            }\n            WSAIO.disableCheckout();\n            WSAIO.order_control();\n            WSAIO.loginLink();\n        };\n    }\n    else{\n      console.error(\"WSAIO is not defined. Either app is in test mode or disabled\");\n    }\n<\/script>\n<script>\n    if(!WSAIO.removeQueryString){\n    WSAIO.removeQueryString = function(m, k) {\n      var r = document.location.href, u = location.search;\n      \"\" != m ? (k = encodeURIComponent(k), m = m + \"=\" + k, \"-1\" != u.indexOf(\"?\" + m + \"&\") ? r = r.replace(\"?\" + m + \"&\", \"?\") : \"-1\" != u.indexOf(\"&\" + m + \"&\") ? r = r.replace(\"&\" + m + \"&\", \"&\") : \"-1\" != u.indexOf(\"?\" + m) ? r = r.replace(\"?\" + m, \"\") : \"-1\" != u.indexOf(\"&\" + m) && (r = r.replace(\"&\" + m, \"\"))) : (u = location.search, r = r.replace(u, \"\"));\n      history.pushState({state:1, rand:Math.random()}, \"\", r);\n    };\n  }\n  if(!WSAIO.getParameterByName){\n    WSAIO.getParameterByName = function(m) {\n      for (var k = [], r = window.location.search.substring(1).split(\"&\"), u = 0; u < r.length; u++) {\n        var a = r[u].split(\"=\");\n        a[0] == m && k.push(decodeURIComponent(a[1]));\n      }\n      return k;\n    };\n  }\n  if(!window.wsaioClosePreview){\n    window.wsaioClosePreview = function() {\n      WSAIO.removeQueryString(\"test-mode\", WSAIO.getParameterByName(\"test-mode\")[0]);\n      localStorage.removeItem(\"wsaio-app-mode\");\n      WSAIO.user_mode = \"live\";\n      setTimeout(function() {\n        window.location.href = \"https:\/\/\" + Shopify.shop;\n      }, 500);\n    };\n  }\n  if(!window.wsaioHidePreview){\n    window.wsaioHidePreview = function() {\n      $(\".wholesaleAllInOnePreview\").remove();\n      $(\"html\").css(\"padding-bottom\", \"\");\n    };\n  }\n  if(!WSAIO.addPreviewBar){\n    WSAIO.addPreviewBar = function() {\n      0 == $(\".wholesaleAllInOnePreview\").length && $(\"body\").append('<div class=\"wholesaleAllInOnePreview\" style=\"background-color: white;display:flex;height: 60px;align-items: center;width: 100%;padding: 13px 0px;box-shadow: rgba(0, 0, 0, 0.2) 0px -1px 3px;overflow: hidden;position: fixed;bottom: 0;left: 0;right: 0;z-index: 3147483648;opacity: 0.97;\"><div style=\"flex-grow:1;padding-left:20px\"><p style=\"margin: 0px;color:black\"><span><b>Wholesale All In One Preview: <\/b><\/span> Wholesale pricing are only visible to you. <a href=\"https:\/\/support.digitalcoo.com\/hc\/en-us\/articles\/360042800512\"><u>Learn More<\/u><\/a><\/p><\/div><div style=\"padding-right: 23px;\"><button class=\"ws--preview-bar-btn\" onclick=\"wsaioClosePreview();\">Close Preview<\/button><button style=\"border:none;margin-left:.3rem;background:0 0;box-shadow:none;color:#007ace;font-size:14px;opacity:1\" onclick=\"wsaioHidePreview();\">Hide bar<\/button><\/div><\/div>');\n      $(\"html\").css(\"padding-bottom\", \"60px\");\n    };\n  }\n  \"undefined\" !== typeof WSAIO.getParameterByName(\"test-mode\")[0] && (WSAIO.user_mode = \"test\", localStorage.setItem(\"wsaio-app-mode\", \"test\"), WSAIO.addPreviewBar());\n  null !== localStorage.getItem(\"wsaio-app-mode\") && WSAIO.addPreviewBar();\n    try{WSAIO.general_settings = JSON.parse('{{ws_general_settings}}');if(typeof WSAIO.general_settings.settings !== \"undefined\"){WSAIO.general_settings = WSAIO.general_settings.settings;}}catch(e){console.error(\"JSON Parsing error in settings.\",e)}\n    WSAIO.app_mode = WSAIO.general_settings.app_mode || \"live\";\n    WSAIO.user_mode = localStorage.getItem(\"wsaio-app-mode\") || \"live\";\n    var waioLoadScript=function(b,c){var a=document.createElement(\"script\");a.type=\"text\/javascript\";a.readyState?a.onreadystatechange=function(){if(\"loaded\"==a.readyState||\"complete\"==a.readyState)a.onreadystatechange=null,c()}:a.onload=function(){c()};a.src=b;document.getElementsByTagName(\"head\")[0].appendChild(a)};\n    \"live\" === WSAIO.app_mode || WSAIO.app_mode === WSAIO.user_mode ? \"undefined\" === typeof jQuery || 1.7 > parseFloat(jQuery.fn.jquery) ? waioLoadScript(\"\/\/ajax.googleapis.com\/ajax\/libs\/jquery\/3.3.1\/jquery.min.js\", function() {WSAIO.initModules(jQuery.noConflict(!0));}) : WSAIO.initModules(jQuery || $) : (console.warn(\"WSAIO LOG!\", \"Application is disabled\"), WSAIO = void 0, WSAIO_is_disabled = !0);\n<\/script>\n{% comment %} Stylesheet code (CSS) {% endcomment %}\n<style>.ws--preview-bar-btn{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:auto;margin:0;background:inherit;border:0;border-radius:inherit;font-family:inherit;font-weight:400;cursor:pointer;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:.4rem 1.5rem;background:-webkit-gradient(linear,left top,left bottom,from(white),to(#f9fafb));background:linear-gradient(to bottom,#fff,#f9fafb);border:1px solid #c4cdd5;-webkit-box-shadow:0 1px 0 0 rgba(22,29,37,.05);box-shadow:0 1px 0 0 rgba(22,29,37,.05);border-radius:3px;font-size:1rem;line-height:1rem;color:#212b36;-webkit-transition-property:background,border,-webkit-box-shadow;transition-property:background,border,-webkit-box-shadow;transition-property:background,border,box-shadow;transition-property:background,border,box-shadow,-webkit-box-shadow;-webkit-transition-timing-function:cubic-bezier(.64,0,.35,1);transition-timing-function:cubic-bezier(.64,0,.35,1);-webkit-transition-duration:.2s;transition-duration:.2s;-webkit-tap-highlight-color:transparent;opacity:1}.ws-error {border-color: red !important;border: 1px solid !important;}.ws-success {border-color: #008000; !important;border: 1px solid !important;}.checkout-disabled {pointer-events: none;}.wsaio--Cart_ld__Message{color:#008000;}<\/style>\n\n<!-- Write down extra code -->\n\n{% assign NetTerm_Settings = shop.metafields.waioNetOrders.waio-net-term-order %}\n   {% if NetTerm_Settings.enabled %} \n         {% if NetTerm_Settings.customers_group == \"tag_based\" %}\n                {% assign customer_tags = customer.tags | join: '~~~' | downcase | split: '~~~' %}\n                {% assign eligible_tags = NetTerm_Settings.customers_tag  | downcase | split:',' %} \n                {% assign show_button = false %}\n                {% for e_tag in eligible_tags  %}\n                {% if customer_tags != blank %}\n                  {% for ct_tag in customer_tags %}\n                    {% if e_tag == ct_tag %}\n                    {% assign show_button = true %}\n                    {% endif %}\n                  {% endfor %}\n                 {% endif %}\n                 {% endfor %}\n         {% else %}\n            {% if customer %}\n                {% assign show_button = true %}\n            {% endif %}\n         {% endif %}\n    {% endif %}\n\n{% if show_button %}\n<script>\n\/\/   if(typeof WSAIO.Net_term_button != 'undefined'){WSAIO.Net_term_button()} <=== call this line for showing button on cart drawer\n  $(document).ready(function(){\n   if(WSAIO != undefined ){\n    WSAIO.enable_netTerm = true;\n    WSAIO.Net_term_button = function(){\n      var net_btn_label = \"{{NetTerm_Settings.checkout_btn_label}}\"\n      var net_cart_label = \"{{NetTerm_Settings.cart_message}}\"\n      {% if NetTerm_Settings.disable_checkout %}\n      WSAIO.net_disable_default_checkout = true;\n      $('[name=\"checkout\"]').hide();\n\n      {% endif %}\n      if($('.waio__net--wrapper').length == 0){\n      $('[name=\"checkout\"]').after('<div class=\"waio__net--wrapper\"><div class=\"btn_stng\"><div class=\"demo_instruction align_mig\"><p class=\"texttt\">'+net_cart_label+'<\/p><\/div><a href=\"\/pages\/net-term-order\" class=\" btn btn-lg align_mig btn\" > '+net_btn_label+'<\/a> <\/div>  <\/div>')\n      }\n    }\n    WSAIO.Net_term_button();\n   }\n  })\n<\/script>\n {% endif %}",
          "wsaio_addons_liquid_file": "",
          "wsaio_custom_css_file": ".ws--preview-bar-btn {\n    position: relative;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n    display: inline-block;\n    height: auto;\n    margin: 0;\n    background: inherit;\n    border: 0;\n    border-radius: inherit;\n    font-family: inherit;\n    font-weight: 400;\n    cursor: pointer;\n    text-transform: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    vertical-align: middle;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    padding: .4rem 1.5rem;\n    background: -webkit-gradient(linear, left top, left bottom, from(white), to(#f9fafb));\n    background: linear-gradient(to bottom, #fff, #f9fafb);\n    border: 1px solid #c4cdd5;\n    -webkit-box-shadow: 0 1px 0 0 rgba(22, 29, 37, .05);\n    box-shadow: 0 1px 0 0 rgba(22, 29, 37, .05);\n    border-radius: 3px;\n    font-size: 1rem;\n    line-height: 1rem;\n    color: #212b36;\n    -webkit-transition-property: background, border, -webkit-box-shadow;\n    transition-property: background, border, -webkit-box-shadow;\n    transition-property: background, border, box-shadow;\n    transition-property: background, border, box-shadow, -webkit-box-shadow;\n    -webkit-transition-timing-function: cubic-bezier(.64, 0, .35, 1);\n    transition-timing-function: cubic-bezier(.64, 0, .35, 1);\n    -webkit-transition-duration: .2s;\n    transition-duration: .2s;\n    -webkit-tap-highlight-color: transparent;\n    opacity: 1\n}\n\n.ws-error {\n    border-color: red !important;\n    border: 1px solid !important;\n}\n\n.ws-success {\n    border-color: #008000;\n    border: 1px solid !important;\n}\n\n.checkout-disabled {\n    pointer-events: none;\n}\n\n.wsaio--Cart_ld__Message {\n    color: #008000;\n    margin-left: 35px !important;\n}\n\n\/* Discount code *\/\n.wsaio--coupon-code-form,.wsaio--coupon-code-alerts {\n   display: flex;\n   align-items: center;\n   margin-left: auto;\n   width: 253px;\n}\ninput#ws--discount_code--field {\n    outline: none;\n    border: 1px solid #898989;\n    padding: 8px 12px;\n    min-height: 25px;\n    \/* font-size: 1.6rem; *\/\n    border-radius: 2px;\n    box-shadow: none;\n    transition: border-color 0.5s;\n}\n\nbutton#ws--discount_code--button.ws-disabled{\n    pointer-events: none !important;\n    border: 1px solid #c8c8c8;\n    background-color: #c8c8c8;\n}\n\nbutton#ws--discount_code--button {\n    min-height: 36px;\n    padding: 8px 24px;\n    border: 1px solid #000000;\n    background-color: #000000;\n    margin-left: 4px;\n    \/* font-size: 1.6rem; *\/\n    cursor: pointer;\n    color: #fff;\n    transition: background 0.5s;\n    border-radius: 2px;\n    outline: none;\n    box-shadow: none;\n}\n\nbutton#ws--discount_code--button:hover,\nbutton#ws--discount_code--button:focus,\nbutton#ws--discount_code--button.ws_active {\n    background-color: #000000;\n    box-shadow: none;\n    border: 1px solid #000000;\n}\n\ninput#ws--discount_code--field:hover {\n    border-color: #000000;\n    outline: none;\n    box-shadow: none;\n}\n\n.additional-checkout-buttons {\n\n   display: none !important;\n}\n\ns#ComparePrice {\n   margin: 5px;\n}\n\n    table#wsaio-volume-discount--table {\n        width: 100%;    \n        text-align: center !important;\n        padding:10px;\n        border-collapse: collapse;\n        margin-top: 10px;\n    }\n   .wholesale-table thead th, .wholesale-table tbody td{\n        border:1px solid black !important;\n        text-align: center !important;\n        padding:10px;\n   }\n\n\nspan.prod_save {\n    display: contents;\n}\n\n.wsdapp span.price.price--sale {\n    color: #c70000;\n}  \n\n.empty .origg .compare-at-price{\n    display: none !important;\n}\n\n.subtitle{\n    font-size: 1.25rem !important;\n}"
        }
      },
      "855628211100114053": {
        "type": "shopify:\/\/apps\/klaviyo-email-marketing-sms\/blocks\/klaviyo-onsite-embed\/2632fe16-c075-4321-a88b-50b567f42507",
        "disabled": false,
        "settings": {
        }
      },
      "7135850769460407789": {
        "type": "shopify:\/\/apps\/avada-seo-suite\/blocks\/avada-seo\/15507c6e-1aa3-45d3-b698-7e175e033440",
        "disabled": false,
        "settings": {
        }
      },
      "320593021044489861": {
        "type": "shopify:\/\/apps\/sales-discounts\/blocks\/countdown\/29205fb1-2e68-4d81-a905-d828a51c8413",
        "disabled": true,
        "settings": {
        }
      },
      "15796953133730294439": {
        "type": "shopify:\/\/apps\/growave-loyalty-wishlist\/blocks\/block.embed.socialshopwave-helper\/b3d2efbe-110a-4e27-84a8-1f2ed63996a4",
        "disabled": false,
        "settings": {
        }
      },
      "4608251692753025422": {
        "type": "shopify:\/\/apps\/sales-discounts\/blocks\/sale-labels\/29205fb1-2e68-4d81-a905-d828a51c8413",
        "disabled": true,
        "settings": {
        }
      },
      "18146506648094396618": {
        "type": "shopify:\/\/apps\/langshop\/blocks\/sdk\/84899e01-2b29-42af-99d6-46d16daa2111",
        "disabled": false,
        "settings": {
        }
      },
      "2118589882331710876": {
        "type": "shopify:\/\/apps\/essential-trust-badges\/blocks\/app-embed\/0ff65b25-07e1-408e-950f-f54dd3d1751b",
        "disabled": true,
        "settings": {
        }
      },
      "16662536352595574465": {
        "type": "shopify:\/\/apps\/product-filters-search\/blocks\/autocomplete\/95672d06-1c4e-4e1b-9368-e84ce1ad6886",
        "disabled": true,
        "settings": {
          "path": "\/pages\/search-results",
          "new_jquery": true
        }
      }
    }
  }
}
