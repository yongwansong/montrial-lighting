{% comment %}
  Facebook Open Graph meta tags
{% endcomment %}

<meta name="author" content="{{ shop.name }}">
<meta property="og:url" content="{{ canonical_url }}">
<meta property="og:site_name" content="{{ shop.name }}">

{%- capture page_image -%}
  {%- comment %}<locksmith:965c>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="https:{{ page_image | img_url: '1200x' }}">{% endif -%}
    {%- comment %}original: <meta property="og:image" content="https:{{ page_image | img_url: '1200x' }}">{%- endcomment %}
  {%- comment %}</locksmith:965c>{% endcomment -%}
  {%- comment %}<locksmith:2c13>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ page_image | img_url: '1200x' }}">{% endif -%}
    {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ page_image | img_url: '1200x' }}">{%- endcomment %}
  {%- comment %}</locksmith:2c13>{% endcomment -%}
  <meta property="og:image:width" content="{{ page_image.width }}">
  <meta property="og:image:height" content="{{ page_image.height }}">
{%- endcapture -%}

{%- if template.name == 'product' -%}
  {%- comment %}<locksmith:8eca>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="product">{% endif -%}
    {%- comment %}original: <meta property="og:type" content="product">{%- endcomment %}
  {%- comment %}</locksmith:8eca>{% endcomment -%}
  {%- comment %}<locksmith:637e>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{ product.title | strip_html | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:title" content="{{ product.title | strip_html | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:637e>{% endcomment -%}
{%- comment %}<locksmith:b8b8>{% endcomment -%}{%- capture var %}{% render 'locksmith-variables', variable: 'access_granted' %}{% endcapture %}{% if var == 'true' %}<meta property="og:price:amount" content="{{ product.price | money_without_currency | strip_html | escape }}">{% endif -%}{%- comment %}original: <meta property="og:price:amount" content="{{ product.price | money_without_currency | strip_html | escape }}">{%- endcomment %}{%- comment %}</locksmith:b8b8>{% endcomment -%}
  {%- comment %}<locksmith:b7a3>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'access_granted' %}{% endcapture %}{% if var == 'true' %}<meta property="og:price:currency" content="{{ cart.currency.iso_code }}">{% endif -%}
    {%- comment %}original: <meta property="og:price:currency" content="{{ cart.currency.iso_code }}">{%- endcomment %}
  {%- comment %}</locksmith:b7a3>{% endcomment -%}
  {%- if product.featured_image.size > 0 -%}
    {%- for image in product.images limit: 3 -%}
      {%- comment %}<locksmith:6671>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ image.src | product_img_url: '600x' }}">{% endif -%}
        {%- comment %}original: <meta property="og:image" content="http:{{ image.src | product_img_url: '600x' }}">{%- endcomment %}
      {%- comment %}</locksmith:6671>{% endcomment -%}
      {%- comment %}<locksmith:bd7e>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ image.src | product_img_url: '600x' }}">{% endif -%}
        {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ image.src | product_img_url: '600x' }}">{%- endcomment %}
      {%- comment %}</locksmith:bd7e>{% endcomment -%}
      {%- if image.alt contains 'youtube' or image.alt contains 'vimeo' -%}
        {% assign src = image.alt | split: 'src="' %}
        {% assign src = src[1] | split: '"' | first %}
        <meta property="og:video" content="{{ src }}">
      {%- endif -%}
    {%- endfor -%}
  {%- else -%}
    {{ page_image }}
  {%- endif -%}
{%- elsif template.name == 'collection' -%}
  {%- comment %}<locksmith:5d89>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="product.group">{% endif -%}
    {%- comment %}original: <meta property="og:type" content="product.group">{%- endcomment %}
  {%- comment %}</locksmith:5d89>{% endcomment -%}
  {%- comment %}<locksmith:033e>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{ collection.title | strip_html | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:title" content="{{ collection.title | strip_html | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:033e>{% endcomment -%}
  {%- if collection.products_count > 0 -%}
    {% assign image = collection.products.first.featured_image %}
    {%- comment %}<locksmith:77a6>{% endcomment -%}
      {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ image.src | product_img_url: '600x' }}">{% endif -%}
      {%- comment %}original: <meta property="og:image" content="http:{{ image.src | product_img_url: '600x' }}">{%- endcomment %}
    {%- comment %}</locksmith:77a6>{% endcomment -%}
    {%- comment %}<locksmith:b1ec>{% endcomment -%}
      {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ image.src | product_img_url: '600x' }}">{% endif -%}
      {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ image.src | product_img_url: '600x' }}">{%- endcomment %}
    {%- comment %}</locksmith:b1ec>{% endcomment -%}
  {%- else -%}
    {{ page_image }}
  {%- endif -%}
{%- elsif template.name == 'article' -%}
  {%- comment %}<locksmith:7a46>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="article">{% endif -%}
    {%- comment %}original: <meta property="og:type" content="article">{%- endcomment %}
  {%- comment %}</locksmith:7a46>{% endcomment -%}
  {%- comment %}<locksmith:5c2d>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{ article.title | strip_html | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:title" content="{{ article.title | strip_html | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:5c2d>{% endcomment -%}
  {% assign img_tag = '<' | append: 'img' %}
  {%- if article.image -%}
    {%- comment %}<locksmith:a9ea>{% endcomment -%}
      {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ article.image | img_url: '600x' }}">{% endif -%}
      {%- comment %}original: <meta property="og:image" content="http:{{ article.image | img_url: '600x' }}">{%- endcomment %}
    {%- comment %}</locksmith:a9ea>{% endcomment -%}
    {%- comment %}<locksmith:14b6>{% endcomment -%}
      {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ article.image | img_url: '600x' }}">{% endif -%}
      {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ article.image | img_url: '600x' }}">{%- endcomment %}
    {%- comment %}</locksmith:14b6>{% endcomment -%}
  {%- elsif article.content contains img_tag -%}
    {% assign src = article.content | split: 'src="' %}
    {% assign src = src[1] | split: '"' | first | remove: 'https:' | remove: 'http:' %}
    {%- if src -%}
      {%- comment %}<locksmith:765b>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ src }}">{% endif -%}
        {%- comment %}original: <meta property="og:image" content="http:{{ src }}">{%- endcomment %}
      {%- comment %}</locksmith:765b>{% endcomment -%}
      {%- comment %}<locksmith:6674>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ src }}">{% endif -%}
        {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ src }}">{%- endcomment %}
      {%- comment %}</locksmith:6674>{% endcomment -%}
    {%- endif -%}
  {%- else -%}
    {{ page_image }}
  {%- endif -%}
{%- elsif template.name == 'blog' -%}
  {%- comment %}<locksmith:12f6>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="article">{% endif -%}
    {%- comment %}original: <meta property="og:type" content="article">{%- endcomment %}
  {%- comment %}</locksmith:12f6>{% endcomment -%}
  {%- comment %}<locksmith:76ae>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{ blog.title | strip_html | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:title" content="{{ blog.title | strip_html | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:76ae>{% endcomment -%}
  {%- if blog.articles_count > 0 -%}
    {% assign article = blog.articles.first %}
    {% assign img_tag = '<' | append: 'img' %}
    {%- if article.image -%}
      {%- comment %}<locksmith:082b>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ article.image | img_url: '600x' }}">{% endif -%}
        {%- comment %}original: <meta property="og:image" content="http:{{ article.image | img_url: '600x' }}">{%- endcomment %}
      {%- comment %}</locksmith:082b>{% endcomment -%}
      {%- comment %}<locksmith:95c4>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ article.image | img_url: '600x' }}">{% endif -%}
        {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ article.image | img_url: '600x' }}">{%- endcomment %}
      {%- comment %}</locksmith:95c4>{% endcomment -%}
    {%- elsif article.content contains img_tag -%}
      {% assign src = article.content | split: 'src="' %}
      {% assign src = src[1] | split: '"' | first | remove: 'https:' | remove: 'http:' %}
      {%- if src -%}
        {%- comment %}<locksmith:3935>{% endcomment -%}
          {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ src }}">{% endif -%}
          {%- comment %}original: <meta property="og:image" content="http:{{ src }}">{%- endcomment %}
        {%- comment %}</locksmith:3935>{% endcomment -%}
        {%- comment %}<locksmith:dd69>{% endcomment -%}
          {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ src }}">{% endif -%}
          {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ src }}">{%- endcomment %}
        {%- comment %}</locksmith:dd69>{% endcomment -%}
      {%- endif -%}
    {%- else -%}
      {{ page_image }}
    {%- endif -%}
  {%- endif -%}
{%- elsif template.name == 'page' -%}
  {%- comment %}<locksmith:0207>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="article">{% endif -%}
    {%- comment %}original: <meta property="og:type" content="article">{%- endcomment %}
  {%- comment %}</locksmith:0207>{% endcomment -%}
  {%- comment %}<locksmith:bb3d>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{ page.title | strip_html | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:title" content="{{ page.title | strip_html | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:bb3d>{% endcomment -%}
  {% assign img_tag = '<' | append: 'img' %}
  {%- if page.content contains img_tag -%}
    {% assign src = page.content | split: 'src="' %}
    {% assign src = src[1] | split: '"' | first | remove: 'https:' | remove: 'http:' %}
    {%- if src -%}
      {%- comment %}<locksmith:254c>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image" content="http:{{ src }}">{% endif -%}
        {%- comment %}original: <meta property="og:image" content="http:{{ src }}">{%- endcomment %}
      {%- comment %}</locksmith:254c>{% endcomment -%}
      {%- comment %}<locksmith:0517>{% endcomment -%}
        {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:image:secure_url" content="https:{{ src }}">{% endif -%}
        {%- comment %}original: <meta property="og:image:secure_url" content="https:{{ src }}">{%- endcomment %}
      {%- comment %}</locksmith:0517>{% endcomment -%}
    {%- endif -%}
  {%- else -%}
    {{ page_image }}
  {%- endif -%}
{%- else -%}
  {%- comment %}<locksmith:311c>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:type" content="website">{% endif -%}
    {%- comment %}original: <meta property="og:type" content="website">{%- endcomment %}
  {%- comment %}</locksmith:311c>{% endcomment -%}
  {%- comment %}<locksmith:80a4>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:title" content="{{ page_title | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:title" content="{{ page_title | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:80a4>{% endcomment -%}
{%- endif -%}
{%- if template.name == 'index' -%}
  {{ page_image }}
{%- endif -%}
{%- if page_description -%}
  {%- comment %}<locksmith:7b38>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta property="og:description" content="{{ page_description | escape }}">{% endif -%}
    {%- comment %}original: <meta property="og:description" content="{{ page_description | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:7b38>{% endcomment -%}
{%- endif -%}

{% comment %}
  Twitter user name of the site, based on theme settings
{% endcomment %}
{%- if settings.twitter_link != blank -%}
  <meta name="twitter:site" content="{{ settings.twitter_link | split: 'twitter.com/' | last | prepend: '@' }}">
{%- endif -%}
<meta name="twitter:card" content="summary">
{%- if template.name == 'product' -%}
  {%- comment %}<locksmith:610b>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:title" content="{{ product.title }}">{% endif -%}
    {%- comment %}original: <meta name="twitter:title" content="{{ product.title }}">{%- endcomment %}
  {%- comment %}</locksmith:610b>{% endcomment -%}
  {%- comment %}<locksmith:57e0>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:description" content="{{ product.description | strip_html | truncatewords: 140, '' | escape }}">{% endif -%}
    {%- comment %}original: <meta name="twitter:description" content="{{ product.description | strip_html | truncatewords: 140, '' | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:57e0>{% endcomment -%}
  {%- comment %}<locksmith:026c>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:image" content="https:{{ product.featured_image.src | img_url: '240x' }}">{% endif -%}
    {%- comment %}original: <meta name="twitter:image" content="https:{{ product.featured_image.src | img_url: '240x' }}">{%- endcomment %}
  {%- comment %}</locksmith:026c>{% endcomment -%}
  {%- comment %}<locksmith:c2fc>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:image:width" content="240">{% endif -%}
    {%- comment %}original: <meta name="twitter:image:width" content="240">{%- endcomment %}
  {%- comment %}</locksmith:c2fc>{% endcomment -%}
  {%- comment %}<locksmith:939f>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:image:height" content="240">{% endif -%}
    {%- comment %}original: <meta name="twitter:image:height" content="240">{%- endcomment %}
  {%- comment %}</locksmith:939f>{% endcomment -%}
{%- elsif template.name == 'article' -%}
  {%- comment %}<locksmith:23c2>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:title" content="{{ article.title }}">{% endif -%}
    {%- comment %}original: <meta name="twitter:title" content="{{ article.title }}">{%- endcomment %}
  {%- comment %}</locksmith:23c2>{% endcomment -%}
  {%- comment %}<locksmith:11d5>{% endcomment -%}
    {%- capture var %}{% render 'locksmith-variables', variable: 'transparent', hiding_scope: 'resource' %}{% endcapture %}{% if var == 'true' %}<meta name="twitter:description" content="{{ article.excerpt_or_content | strip_html | truncatewords: 140, '' | escape }}">{% endif -%}
    {%- comment %}original: <meta name="twitter:description" content="{{ article.excerpt_or_content | strip_html | truncatewords: 140, '' | escape }}">{%- endcomment %}
  {%- comment %}</locksmith:11d5>{% endcomment -%}
  {%- if article.image -%}
    <meta property="twitter:image" content="http:{{ article.image | img_url: '600x' }}">
  {%- elsif article.content contains "<img loading="lazy"" -%}
    {% assign src = article.content | split: 'src="' %}
    {% assign src = src[1] | split: '"' | first | replace: '//cdn', 'http://cdn' | replace: 'http:http://', 'http://' | remove: 'https:' %}
    {%- if src -%}
      <meta property="twitter:image" content="{{ src }}">
    {%- endif -%}
  {%- endif -%}
{%- endif -%}
