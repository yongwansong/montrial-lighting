/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */
!function(t){function e(e,n,r){return r=g(n,r),this.on("click.pjax",e,(function(e){var n=r;n.container||((n=t.extend({},r)).container=t(this).attr("data-pjax")),a(e,n)}))}function a(e,a,n){n=g(a,n);var i=e.currentTarget;var o=t(i);if("A"!==i.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==i.protocol||location.hostname!==i.hostname||i.href.indexOf("#")>-1&&x(i)==x(location)||e.isDefaultPrevented())){var c={url:i.href,container:o.attr("data-pjax"),target:i};var s=t.extend({},c,n);var u=t.Event("pjax:click");o.trigger(u,[s]),u.isDefaultPrevented()||(r(s),e.preventDefault(),o.trigger("pjax:clicked",[s]))}}function n(e,a,n){n=g(a,n);var i=e.currentTarget;var o=t(i);if("FORM"!==i.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var c={type:(o.attr("method")||"GET").toUpperCase(),url:o.attr("action"),container:o.attr("data-pjax"),target:i};if("GET"!==c.type&&void 0!==window.FormData)c.data=new FormData(i),c.processData=!1,c.contentType=!1;else{if(o.find(":file").length)return;c.data=o.serializeArray()}r(t.extend({},c,n)),e.preventDefault()}function r(e){e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var a=m(e.url).hash;var n=t.type(e.container);if("string"!==n)throw"expected string value for 'container' option; got "+n;var i=e.context=t(e.container);if(!i.length)throw"the container selector '"+e.container+"' did not match anything";function c(a,n,r){r||(r={}),r.relatedTarget=e.target;var o=t.Event(a,r);return i.trigger(o,n),!o.isDefaultPrevented()}var s;e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:e.container}):e.data._pjax=e.container,e.beforeSend=function(t,n){if("GET"!==n.type&&(n.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",e.container),!c("pjax:beforeSend",[t,n]))return!1;n.timeout>0&&(s=setTimeout((function(){c("pjax:timeout",[t,e])&&t.abort("timeout")}),n.timeout),n.timeout=0);var r=m(n.url);a&&(r.hash=a),e.requestUrl=v(r)},e.complete=function(t,a){s&&clearTimeout(s),c("pjax:complete",[t,a,e]),c("pjax:end",[t,e])},e.error=function(t,a,n){var r=w("",t,e);var i=c("pjax:error",[t,a,n,e]);"GET"==e.type&&"abort"!==a&&i&&o(r.url)},e.success=function(n,s,u){var l=r.state;var p="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version;var d=u.getResponseHeader("X-PJAX-Version");var h=w(n,u,e);var v=m(h.url);if(a&&(v.hash=a,h.url=v.href),p&&d&&p!==d)return o(h.url),void 0;if(!h.contents)return o(h.url),void 0;var x;if(r.state={id:e.id||f(),url:h.url,title:h.title,container:e.container,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,h.title,h.url),t.contains(i,document.activeElement))try{document.activeElement.blur()}catch(t){}h.title&&(document.title=h.title),c("pjax:beforeReplace",[h.contents,e],{state:r.state,previousState:l}),i.html(h.contents);var g=i.find("input[autofocus], textarea[autofocus]").last()[0];g&&document.activeElement!==g&&g.focus(),b(h.scripts);var y=e.scrollTo;if(a){var j=decodeURIComponent(a.slice(1));var T=document.getElementById(j)||document.getElementsByName(j)[0];T&&(y=t(T).offset().top)}"number"==typeof y&&t(window).scrollTop(y),c("pjax:success",[n,s,u,e])},r.state||(r.state={id:f(),url:window.location.href,title:document.title,container:e.container,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title)),d(r.xhr),r.options=e;var u=r.xhr=t.ajax(e);return u.readyState>0&&(e.push&&!e.replace&&(C(r.state.id,[e.container,h(i)]),window.history.pushState(null,"",e.requestUrl)),c("pjax:start",[u,e]),c("pjax:send",[u,e])),r.xhr}function i(e,a){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(n,g(e,a)))}function o(t){window.history.replaceState(null,"",r.state.url),window.location.replace(t)}var c=!0;var s=window.location.href;var u=window.history.state;function l(e){c||d(r.xhr);var a=r.state;var n=e.state;var i;if(n&&n.container){if(c&&s==n.url)return;if(a){if(a.id===n.id)return;i=a.id<n.id?"forward":"back"}var u=T[n.id]||[];var l=u[0]||n.container;var p=t(l),f=u[1];if(p.length){a&&P(i,a.id,[l,h(p)]);var v=t.Event("pjax:popstate",{state:n,direction:i});p.trigger(v);var m={id:n.id,url:n.url,container:l,push:!1,fragment:n.fragment,timeout:n.timeout,scrollTo:!1};if(f){p.trigger("pjax:start",[null,m]),r.state=n,n.title&&(document.title=n.title);var x=t.Event("pjax:beforeReplace",{state:n,previousState:a});p.trigger(x,[f,m]),p.html(f),p.trigger("pjax:end",[null,m])}else r(m);p[0].offsetHeight}else o(location.href)}c=!1}function p(e){var a=t.isFunction(e.url)?e.url():e.url,n=e.type?e.type.toUpperCase():"GET";var r=t("<form>",{method:"GET"===n?"GET":"POST",action:a,style:"display:none"});"GET"!==n&&"POST"!==n&&r.append(t("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var i=e.data;if("string"==typeof i)t.each(i.split("&"),(function(e,a){var n=a.split("=");r.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))}));else if(t.isArray(i))t.each(i,(function(e,a){r.append(t("<input>",{type:"hidden",name:a.name,value:a.value}))}));else if("object"==typeof i){var o;for(o in i)r.append(t("<input>",{type:"hidden",name:o,value:i[o]}))}t(document.body).append(r),r.submit()}function d(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function f(){return(new Date).getTime()}function h(e){var a=e.clone();return a.find("script").each((function(){this.src||t._data(this,"globalEval",!1)})),a.contents()}function v(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,"").replace(/^&/,""),t.href.replace(/\?($|#)/,"$1")}function m(t){var e=document.createElement("a");return e.href=t,e}function x(t){return t.href.replace(/#.*/,"")}function g(e,a){return e&&a?((a=t.extend({},a)).container=e,a):t.isPlainObject(e)?e:{container:e}}function y(t,e){return t.filter(e).add(t.find(e))}function j(e){return t.parseHTML(e,document,!0)}function w(e,a,n){var r={},i=/<html/i.test(e);var o=a.getResponseHeader("X-PJAX-URL");var c,s;if(r.url=o?v(m(o)):n.requestUrl,i){s=t(j(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));var u=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i);c=null!=u?t(j(u[0])):s}else c=s=t(j(e));if(0===s.length)return r;if(r.title=y(c,"title").last().text(),n.fragment){var l=s;"body"!==n.fragment&&(l=y(l,n.fragment).first()),l.length&&(r.contents="body"===n.fragment?l:l.contents(),r.title||(r.title=l.attr("title")||l.data("title")))}else i||(r.contents=s);return r.contents&&(r.contents=r.contents.not((function(){return t(this).is("title")})),r.contents.find("title").remove(),r.scripts=y(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=t.trim(r.title)),r}function b(e){if(e){var a=t("script[src]");e.each((function(){var e=this.src;var n;if(!a.filter((function(){return this.src===e})).length){var r=document.createElement("script");var i=t(this).attr("type");i&&(r.type=i),r.src=t(this).attr("src"),document.head.appendChild(r)}}))}}u&&u.container&&(r.state=u),"state"in window.history&&(c=!1);var T={};var E=[];var S=[];function C(t,e){T[t]=e,S.push(t),A(E,0),A(S,r.defaults.maxCacheLength)}function P(t,e,a){var n,i;T[e]=a,"forward"===t?(n=S,i=E):(n=E,i=S),n.push(e),(e=i.pop())&&delete T[e],A(n,r.defaults.maxCacheLength)}function A(t,e){while(t.length>e)delete T[t.shift()]}function R(){return t("meta").filter((function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()})).attr("content")}function U(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=X,t.pjax.click=a,t.pjax.submit=n,t.pjax.reload=i,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:R},t(window).on("popstate.pjax",l)}function X(){t.fn.pjax=function(){return this},t.pjax=p,t.pjax.enable=U,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",l)}t.event.props&&t.inArray("state",t.event.props)<0?t.event.props.push("state"):"state"in t.Event.prototype||t.event.addProp("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState,t.support.pjax?U():X()}(jQuery);
//# sourceMappingURL=/s/files/1/0423/4104/0296/t/17/assets/jquery.pjax.js.map?v=1612800639
