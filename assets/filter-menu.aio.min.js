/*
Generated time: March 3, 2023 02:34
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
function deferFilterjQuery(){var o;window.jQuery?(o=window.jQuery)(function(){var e=function(){o(".pt-display-search").not(".has_group_selected").find("input.fm-search-box").show(),o(".pt-display-dropdown").each(function(t){o(this).find("h4").after(o(this).find(".filter-clear"))}),o(".pt-display-dropdown .scroll-content").each(function(t){var e;0===o(this).parent().find(".menu-trigger").length&&(o(this).find("li.selected").length?(e=o.map(o(this).find("li.selected a"),function(t){return o(t).text()}).join(", ")).length<30?o(this).before('<div class="menu-trigger" tabindex="0" aria-label="'+o(this).closest(".filter-group").find("h4").text()+' dropdown selection collapsed">'+e+"</div>"):o(this).before('<div class="menu-trigger" tabindex="0" aria-label="'+o(this).closest(".filter-group").find("h4").text()+' dropdown selection collapsed">'+o(this).find("li.selected").length+" Selected </div>"):o(this).before('<div class="menu-trigger" tabindex="0" aria-label="'+o(this).closest(".filter-group").find("h4").text()+' dropdown selection collapsed">'+o(this).closest(".filter-group").find("h4").text()+"</div>"))}),o(".filter-group ul:not(.has_selected)").each(function(){13<o(this).find("li:not(.selected)").length&&o(this).find("li:gt(11):not(.selected)").hide().end().append(o('<li class="view-more-link"><a href="javascript:;">View More...</a></li>').click(function(){o(this).siblings(":hidden").slideDown(100).end().slideUp(100),o(".filter-menu").scrollHeight>o(".filter-menu").clientHeight&&o(".filter-menu").css("overflow-y","auto")}))}),o(".filter-menu li a").attr("title",function(){return(o(this).closest("li").hasClass("selected")?"Clear filter: ":"Add filter: ")+o(this).text()});function e(t){return t.split("?")[0].split("#")[0].split("/")}function i(t,e){var i;return e="/"==(e="/collections/"+function(t,e){t=n(t);return t!==n(e)?"all":t}(t,e)+"/"+(e=e,t=l(t=t),i=l(e),t.filter(function(t){return-1<i.indexOf(t)}).join("+"))).slice(-1)?e.slice(0,-1):e}var n=function(t){return e(t)[2]},l=function(t){return(e(t)[3]||"").split("+")};o(".pt-display-nested").prev().each(function(){var t,e=o(this).next().find("a.filter-clear").attr("href");e&&((t=o(this).find("a.filter-clear")).attr("href",i(t.attr("href"),e)),o(this).find("li.selected .collection-name a").each(function(){o(this).attr("href",i(o(this).attr("href"),e))}))})},i=(e(),o(document).on("click",".filter-menu .pt-mobile-header a",function(t){!0!==t.handled&&(o(".pt-nav-toggle").hasClass("active")?(o(".filter-menu").removeClass("pt-expand"),o(".pt-display-dropdown .scroll-content").hide(),o(".pt-nav-toggle").attr("aria-expanded","false"),o(".pt-nav-toggle").attr("aria-label","Show Filters")):(o(".filter-menu").addClass("pt-expand"),o(".pt-nav-toggle").attr("aria-expanded","true"),o(".pt-nav-toggle").attr("aria-label","Hide Filters")),o(".pt-nav-toggle").toggleClass("active"),t.preventDefault(),t.handled=!0)}),o(document).on("keyup",".filter-group input.fm-search-box",function(){var t=this.value.toLowerCase();o(this).closest(".filter-group").find("li").each(function(){-1<o(this).text().toLowerCase().search(t)?o(this).show(100):o(this).hide(100)})}),o(document).on("click",".pt-display-dropdown .menu-trigger",function(){o(this).next(".scroll-content").css("top",o(this).position().top+o(this).height()+1).css("left",o(this).position().left),o(this).next(".scroll-content").slideToggle("fast"),o(this).next(".scroll-content").toggleClass("dropdown-open"),o(this).next(".scroll-content").hasClass("dropdown-open")?o(this).attr("aria-label",o(this).closest(".filter-group").find("h4").text()+" dropdown selection expanded"):o(this).attr("aria-label",o(this).closest(".filter-group").find("h4").text()+" dropdown selection collapsed")}),o(document).on("keydown",".pt-display-dropdown .menu-trigger",function(t){13!=t.which&&32!=t.which||(t.preventDefault(),o(this).click())}),o(document).on("mouseleave",".pt-display-dropdown .scroll-content",function(){o(this).removeClass("dropdown-open"),o(this).slideUp("fast"),o(this).prev(".menu-trigger").attr("aria-label",o(this).closest(".filter-group").find("h4").text()+" dropdown selection collapsed")}),o(document).on("focusout",".pt-display-dropdown .scroll-content li:last-child",function(){o(this).closest(".scroll-content").removeClass("dropdown-open"),o(this).closest(".scroll-content").slideUp("fast"),o(this).closest(".scroll-content").prev(".menu-trigger").attr("aria-label",o(this).closest(".filter-group").find("h4").text()+" dropdown selection collapsed")}),o(document).on("click",".filter-menu .filter-group li a",function(){o(this).closest("li").siblings().hasClass("selected")&&o(this).closest("li").siblings().removeClass("selected"),o(this).closest(".filter-group li").toggleClass("selected")}),3),n=function(){var t="/"==window.location.pathname?"/collections/all?"+(t="view=pt-fm-index-ajax"):(t="view=pt-filter-menu",""!=window.location.search?window.location.pathname+window.location.search+"&"+t:window.location.pathname+"?"+t);o.get(t,function(t){data=t.replace(/view=pt-filter-menu&/g,"").replace(/.view=pt-filter-menu/g,""),html=o(data).filter("div#pt-async").contents(),o("[data-pt-async]").replaceWith(html),e()}).fail(function(){0<i?setTimeout(function(){console.log("ptAsync failed, retrying "+i),n()},500):o("[data-pt-async]").append(`<div class="filter-menu" style="text-align:center;">
                      <div>Error loading filters</div>
                   </div>`)})};n()}):setTimeout(function(){deferFilterjQuery()},50)}deferFilterjQuery();