/*
Generated time: August 25, 2024 02:25
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
Shopify.theme.jsProduct={init:function(e){Shopify.theme.jsProduct=$.extend(this,Shopify.theme.getSectionData(e)),window.Shopify.loadFeatures([{name:"model-viewer",version:"0.8"},{name:"shopify-xr",version:"1.0"},{name:"model-viewer-ui",version:"1.0"}],Shopify.theme.productMedia.setupMedia);var t=e.find(".product-gallery__main"),i=e.find(".sticky-product-scroll");t&&(Shopify.theme.jsProduct.enableSlideshow(t),Shopify.theme.jsProduct.enable_zoom&&Shopify.theme.jsProduct.enableZoom(t),Shopify.theme.jsProduct.enable_product_lightbox)&&Shopify.theme.jsProduct.enableLightbox(t),i&&isScreenSizeLarge()&&"image-scroll"==Shopify.theme.jsProduct.template&&Shopify.theme.jsProduct.enableStickyScroll(i),$(".product_form_options",e).each(function(){new Shopify.OptionSelectors($(this).data("select-id"),{product:$(this).data("product"),onVariantSelected:selectCallback,enableHistoryState:$(this).data("enable-state")})}),"?contact_posted=true"===window.location.search&&($(".notify_form .contact-form").hide(),$(".notify_form .contact-form").prev(".message").html(Shopify.translation.notify_form_success)),$(".notify_form .contact-form").each(function(){var t=$(this);t.on("submit",function(e){"true"!==$('input[name="challenge"]',t).val()&&($.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),success:function(e){t.fadeOut("slow",function(){t.prev(".message").html(Shopify.translation.notify_form_success)})},error:function(e){$('input[name="challenge"]',t).val("true"),t.submit()}}),e.preventDefault())})}),"swatches"===Shopify.theme_settings.product_form_style?this.enableProductSwatches():"dropdown"===Shopify.theme_settings.product_form_style&&($(".selector-wrapper select",e).wrap('<span class="select" data-dropdown-form-style></span>'),this.findSelectedVariantImage()),0<$(".masonry--true").length&&Shopify.theme.applyMasonry(".thumbnail")},enableStickyScroll:function(e){var t=0,i=0;void 0!==Shopify.theme.jsAnnouncementBar&&Shopify.theme.jsAnnouncementBar.enable_sticky&&(t=$("#announcement-bar").outerHeight()),"vertical"!=Shopify.theme_settings.header_layout&&Shopify.theme.jsHeader.enable_sticky&&(i=$("#header").outerHeight()),e.stick_in_parent({offset_top:t+i+20})},enableLightbox:function(e){e.find(".product-gallery__link").fancybox({beforeClose:function(e,t){var i=e.$trigger.first().parents(".product-gallery__main");i.hide(),setTimeout(function(){i.fadeIn(100)},500)},afterClose:function(){setTimeout(function(){e.find(".is-selected a").focus()},500)}})},enableZoom:function(e){e.find("img").wrap('<span class="zoom-container"></span>').css("display","block").parent().zoom({touch:!1,magnify:1})},disableSlideshow:function(e,t){e?e.find(".flickity-enabled"):$(t)},enableSlideshow:function(e,t){var i,a,o,n,d,l,r,s=e,c=s.closest(".product-gallery").find(".product-gallery__thumbnails"),u=(s.find(".gallery-cell:not(.product-gallery__image)").addClass("product-gallery__image"),c.find(".gallery-cell:not(.product-gallery__thumbnail)").addClass("product-gallery__thumbnail"),s.find(".product-gallery__image")),p=c.find(".product-gallery__thumbnail"),e=t?(i=t.thumbnailsEnabled,a=t.thumbnailsSliderEnabled,o=t.thumbnailsPosition,n=t.arrowsEnabled,d=t.slideshowSpeed,t.slideshowTransition):(i=Shopify.theme.jsProduct.thumbnails_enabled,a=Shopify.theme.jsProduct.enable_thumbnail_slider,o=Shopify.theme.jsProduct.thumbnail_position,n=Shopify.theme.jsProduct.thumbnail_arrows,d=Shopify.theme.jsProduct.slideshow_speed,Shopify.theme.jsProduct.slideshow_transition),t=(s.on("ready.flickity",function(){u.each(function(e,t){var i,a=$(t).data("media-type")||$(t).find("[data-media-type]").data("media-type"),o=$("[data-video-loop]").data("video-loop");switch(a){case"external_video":if(i=$(t).find("[data-plyr-video-id]").data("plyr-video-id"),videoPlayers)for(var n=0;n<videoPlayers.length;n++)videoPlayers[n].id!=i&&videoPlayers[n].media.id!=i||(videoPlayers[n].loop=o,$(t).hasClass("is-selected"))||(videoPlayers[n].keyboard={focused:!1,global:!1});break;case"video":if(i=$(t).find("[data-plyr-video-id]").data("plyr-video-id"),videoPlayers)for(var d=0;d<videoPlayers.length;d++)videoPlayers[d].id!=i&&videoPlayers[d].media.id!=i||(videoPlayers[d].loop=o,$(t).hasClass("is-selected"))||(videoPlayers[d].keyboard={focused:!0,global:!1});break;case"model":$(t).hasClass("is-selected")&&"model"==a&&isScreenSizeLarge()&&($(t).on("mouseenter",function(){s.flickity("unbindDrag")}),$(t).on("mouseleave",function(){s.flickity("bindDrag")}))}$(t).keypress(function(e){13==e.which&&($(t).find("model-viewer, .product-gallery__link, .plyr").focus(),"video"!=a&&"external_video"!=a||f(),"model"==a)&&autoplayModel()})})}),s.flickity({wrapAround:!0,adaptiveHeight:!0,dragThreshold:10,imagesLoaded:!0,pageDots:!1,prevNextButtons:1<s.data("media-count")||1<u.length,autoPlay:1e3*d,fade:"fade"===e,watchCSS:"image-scroll"===this.template,arrowShape:arrowShape}),s.on("change.flickity",function(){u.each(function(e,t){var i=$(t).data("media-type")||$(t).find("[data-media-type]").data("media-type");if($(t).hasClass("is-selected"))"model"===i?(isScreenSizeLarge()&&($(t).on("mouseenter",function(){s.flickity("unbindDrag")}),$(t).on("mouseleave",function(){s.flickity("bindDrag")})),$(t).find("model-viewer").on("shopify_model_viewer_ui_toggle_play",function(){s.flickity("unbindDrag")}),$(t).find("model-viewer").on("shopify_model_viewer_ui_toggle_pause",function(){s.flickity("bindDrag")})):s.flickity("bindDrag");else switch(i){case"external_video":$.each(videoPlayers,function(e,t){t.pause()});break;case"video":$.each(videoPlayers,function(e,t){t.pause()});break;case"model":$.each(Shopify.theme.productMedia.models,function(e,t){t.pause()})}}),Shopify.theme.productMedia.showModelIcon(s)}),s.find(".flickity-prev-next-button"));function f(){u.each(function(e,t){var i,a,o,n,d,t=$(t),l=t.data("media-type")||t.find("[data-media-type]").data("media-type"),r=(t.find("video").data("plyr-video-id"),t.find("iframe").attr("id"));t.hasClass("is-selected")&&("video"==l?(i=t.find("video").data("plyr-video-id"))&&(n=i,d=t,$.each(videoPlayers,function(e,t){t.id==n&&(t.play(),t.on("exitfullscreen",function(){d.closest(".product-gallery").find(".product-gallery__thumbnails").focus()}))})):"external_video"==l&&r&&(a=r,o=t,$.each(videoPlayers,function(e,t){t.playing&&t.pause(),t.media.id==a&&(t.play(),t.on("exitfullscreen",function(){o.closest(".product-gallery").find(".product-gallery__thumbnails").focus()}))})))})}(t||p)&&isScreenSizeLarge()&&(t.on("click",function(){return s.on("settle.flickity",function(e,t){var i,a=s.find(".product-gallery__image.is-selected"),a=a.data("media-type")||a.find("[data-media-type]").data("media-type"),o=s.data("product-id");"video"!=a&&"external_video"!=a||f(),"model"==a&&(i=[],$.each(Shopify.theme.productMedia.models,function(e,t){$(t.container).closest(".product-gallery__image").data("product-id")==o&&i.push(t)}),$.each(i,function(e,t){$(t.container).parents(".product-gallery__image").hasClass("is-selected")&&t.play()})),s.off("settle.flickity")}),!1}),p.on("click",function(e){e=$(e.currentTarget).index();return s.flickity("select",e),s.on("settle.flickity",function(e,t){var i,a=s.find(".product-gallery__image.is-selected"),a=a.data("media-type")||a.find("[data-media-type]").data("media-type"),o=s.data("product-id");"video"!=a&&"external_video"!=a||f(),"model"==a&&(i=[],$.each(Shopify.theme.productMedia.models,function(e,t){$(t.container).closest(".product-gallery__image").data("product-id")==o&&i.push(t)}),$.each(i,function(e,t){$(t.container).parents(".product-gallery__image").hasClass("is-selected")&&t.play()})),s.off("settle.flickity")}),!1}),p.keypress(function(e){var i,a,o,t=$(e.currentTarget).index();if(13==e.which)return s.flickity("select",t),i=s.find(".product-gallery__image.is-selected"),a=s.data("product-id"),s.on("settle.flickity",function(e,t){i.find("model-viewer, .plyr, a").focus(),i.find("[data-youtube-video]").attr("tabindex","0"),s.off("settle.flickity")}),"video"!=(e=i.data("media-type")||$selected.find("[data-media-type]").data("media-type"))&&"external_video"!=e||f(),"model"==e&&(o=[],$.each(Shopify.theme.productMedia.models,function(e,t){$(t.container).closest(".product-gallery__image").data("product-id")==a&&o.push(t)}),$.each(o,function(e,t){$(t.container).parents(".product-gallery__image").hasClass("is-selected")&&t.play()})),!1})),setTimeout(function(){s.flickity("resize")},500),$(window).on("load",function(){s.flickity("resize")}),1==i&&1==a&&1<u.length&&(isScreenSizeLarge()?"right-thumbnails"==o||"left-thumbnails"==o?(c.addClass("vertical-slider-enabled"),l=p.height(),r=c.height(),s.on("select.flickity",function(){var e=s.data("flickity");e&&(c.find(".is-nav-selected").removeClass("is-nav-selected"),e=p.eq(e.selectedIndex).addClass("is-nav-selected").position().top+c.scrollTop()-(r+l)/2,c.animate({scrollTop:e}))})):(c.flickity({cellAlign:"center",contain:!0,groupCells:"80%",imagesLoaded:!0,pageDots:!1,prevNextButtons:5<p.length&&n,asNavFor:"image-scroll"===this.template&&isScreenSizeLarge()?"":s[0],arrowShape:arrowShape}),setTimeout(function(){c.flickity("resize")},500),$(window).on("load",function(){c.flickity("resize")})):c.flickity({cellAlign:"center",contain:!0,groupCells:"80%",imagesLoaded:!0,pageDots:!1,prevNextButtons:5<p.length&&n,asNavFor:"image-scroll"===this.template&&isScreenSizeLarge()?"":s[0],arrowShape:arrowShape}))},enableProductSwatches:function(){var e;$("body").on("change",".swatch :radio",function(){var e,t=$(this).closest(".swatch").attr("data-option-index"),i=$(this).val(),a=$(this).closest(".product_form form"),o=(e=a.siblings(".notify_form").length?a.siblings(".notify_form"):$(".js-notify-form"),a.find(".swatch_options input:checked").eq(0).val()),n=a.find(".swatch_options input:checked").eq(1).val()||"",a=a.find(".swatch_options input:checked").eq(2).val()||"";a=o&&n&&a?o+" / "+n+" / "+a:o&&n?o+" / "+n:o,e.find(".notify_form_message").attr("value",e.find(".notify_form_message").data("body")+" - "+a),$(this).closest("form").find(".single-option-selector").eq(t).val(i).trigger("change")}),$(".js-product_section").length&&((e=$(".js-product_section").find(".product_form")).addClass("is-visible"),e.each(function(){var e=$(this).data("product"),t=".product-"+$(this).data("product-id")+" .js-product_section";1<$(this).find(".swatch_options .swatch").length&&Shopify.linkOptionSelectors(e,t)})),1<$(".js-product_section").length&&$("body").on("click",".swatch-element",function(){var e=$(this).data("value").toString(),e=($(this).siblings('input[value="'+e.replace(/\"/g,'\\"')+'"]').prop("checked",!0).trigger("change"),$(this).parents(".product_form").data("product")),t=".product-"+$(this).parents(".product_form").data("product-id")+" .js-product_section";1<$(this).parents(".product_form").find(".swatch_options .swatch").length&&Shopify.linkOptionSelectors(e,t)}),this.findSelectedVariantImage()},findSelectedVariantImage:function(){$("[data-variant-selector]").on("selectedVariantChanged",function(){var e,t;$(this).attr("disabled")||(e=$(this),t=$(this).val(),(e=e.parents(".product_form").find("select option[value=".concat(t,"]")).attr("data-image-id"))&&(t=$("[data-image-id=".concat(e,"]")).data("index"),"image-scroll"===Shopify.theme.jsProduct.template)&&Shopify.theme.jsProduct.scrollSelectedImage(t))})},scrollSelectedImage:function(e){var t=0,i=0,t=(t=1==Shopify.theme.jsHeader.enable_sticky&&"vertical"!=Shopify.theme_settings.header_layout?Shopify.theme.jsHeader.getHeaderHeight():t)+(i=void 0!==Shopify.theme.jsAnnouncementBar&&1==Shopify.theme.jsAnnouncementBar.enable_sticky&&"vertical"!=Shopify.theme_settings.header_layout?Shopify.theme.jsAnnouncementBar.getAnnouncementHeight():i);Shopify.theme.scrollToTop($('[data-index="'.concat(e,'"]')),t)},relatedProducts:function(){$(".block__recommended-products .js-related-products-slider .products-slider").each(function(e,t){var i=$(this),a={products_per_slide:i.data("products-per-slide"),products_available:i.data("products-available"),products_limit:i.data("products-limit"),initialIndex:0,cellAlign:"left",wrapAround:!0};a.wrapAround=a.products_per_slide<a.products_available&&a.products_per_slide<a.products_limit,a.products_available<a.products_per_slide||a.products_limit<a.products_per_slide?(i.addClass("container is-justify-center"),i.find(".gallery-cell").addClass("column")):(i.flickity({lazyLoad:2,freeScroll:!0,imagesLoaded:!0,draggable:!0,cellAlign:"center",wrapAround:a.wrapAround,pageDots:!1,contain:!0,prevNextButtons:a.products_per_slide<a.products_limit,initialIndex:a.initialIndex,arrowShape:arrowShape}),setTimeout(function(){i.flickity("resize")},500),$(window).on("load",function(){i.flickity("resize")}))})},unload:function(e){$(".selector-wrapper select",e).unwrap(),this.disableSlideshow(e),$("[data-variant-selector]").off()}};