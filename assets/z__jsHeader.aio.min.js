/*
Generated time: August 29, 2024 18:32
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
window.PXUTheme.jsHeader={init:function(e){window.PXUTheme.jsHeader=$.extend(this,window.PXUTheme.getSectionData(e)),this.$el=$("#header"),this.$menuToggle=this.$el.find(".header__menu-toggle");let a=$(".announcement-sticky-wrapper").height();!0===this.enable_overlay&&isScreenSizeLarge()&&this.updateOverlayStyle(this.sectionUnderlayIsImage()),!0===this.enable_sticky&&isScreenSizeLarge()&&(this.enableSticky(a),$(window).on("resize",()=>{this.enableSticky(a)})),"centered"==this.header_layout||"search_focus"==this.header_layout?this.$menuToggle.on("click",()=>{this.showStickyMenu()}):"vertical"==this.header_layout&&(e.find(".header-sticky-wrapper").stick_in_parent(),this.addOffScreenDropdownCheck()),0<$(".mega-menu").length&&window.PXUTheme.jsMegaMenu.init(e),isScreenSizeLarge()||(this.unload(),window.PXUTheme.mobileMenu.init()),$(".search-overlay__close").on("click",function(){window.PXUTheme.jsHeader.hideSearch()}),$(document).on("click","[data-show-search-trigger]",function(){window.PXUTheme.jsHeader.showSearch()}),!isScreenSizeLarge()&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||$(".dropdown-click--true .header__link:not(.primary-brand, .primary-logo)").on("click touchstart",function(e){var a=$(this);window.PXUTheme.jsHeader.toggleMenuClick(e,a)}),!1===this.dropdown_click&&$(".navbar-item").on("mouseleave",function(){window.PXUTheme.jsHeader.collapseSubmenu($(this))}),$(document).on("keydown","[data-show-search-trigger]",function(e){13===e.which&&window.PXUTheme.jsHeader.showSearch()}),"overlay"==window.PXUTheme.theme_settings.search_layout&&document.body.addEventListener("click",e=>{e.target===document.querySelector("[data-site-overlay]")&&window.PXUTheme.jsHeader.hideSearch()})},toggleMenuClick:function(e,a){a=a.parents(".has-dropdown, .has-mega-menu");!a.hasClass("is-opened")&&0<a.length?(e.preventDefault(),$(".has-dropdown, .has-mega-menu").removeClass("is-opened"),$(".mega-menu__section").removeClass("is-active"),a.addClass("is-opened"),a.data("clicked","true")):($(".has-dropdown, .has-mega-menu").removeClass("is-opened"),$(".mega-menu__section").removeClass("is-active")),$(window).on("click",function(e){0===$(e.target).closest(".header__link, .navbar-dropdown").length&&($(".has-dropdown, .has-mega-menu").removeClass("is-opened"),$(".mega-menu__section").removeClass("is-active"),window.PXUTheme.jsHeader.collapseSubmenu($(".navbar-item")))})},collapseSubmenu:function(e){$(e).find(".has-submenu input").prop("checked",!1)},showStickyMenu:function(){this.$menuToggle.toggleClass("is-active"),this.$el.find(".sticky-menu-wrapper").toggleClass("is-visible")},hideStickyMenu:function(){this.$menuToggle.removeClass("is-active"),this.$el.find(".sticky-menu-wrapper").removeClass("is-visible")},disableSticky:function(){let e=$("#header");e.unstick(),e.removeClass("sticky--enabled"),setTimeout(function(){e.css("height","auto")},250)},enableSticky:function(e){let i=this.$el;i.addClass("sticky--enabled"),i.sticky({wrapperClassName:"header-sticky-wrapper",zIndex:70,topSpacing:0}).on("sticky-start",()=>{let e,a;"centered"==window.PXUTheme.theme_settings.header_layout&&$(".top-bar [data-ajax-cart-trigger] [data-ajax-cart-mini_cart]").css("display","none"),1==window.PXUTheme.jsHeader.enable_sticky&&"vertical"!=window.PXUTheme.theme_settings.header_layout&&(e=window.PXUTheme.jsHeader.getHeaderHeight()),a=void 0!==window.PXUTheme.jsAnnouncementBar&&1==window.PXUTheme.jsAnnouncementBar.enable_sticky&&"vertical"!=window.PXUTheme.theme_settings.header_layout?window.PXUTheme.jsAnnouncementBar.getAnnouncementHeight():0;var t=e+a;i.parent().parent().find(".search-overlay").addClass("sticky-search").css("top",t+"px"),!0===this.enable_overlay&&!0===this.sectionUnderlayIsImage()?(i.parent().addClass("has-overlaid-header"),this.disableOverlayStyle()):!0===this.enable_overlay&&this.disableOverlayStyle()}).on("sticky-end",()=>{i.parent().parent().find(".search-overlay").removeClass("sticky-search").css("top","100%"),setTimeout(()=>{i.sticky("update")},250),"centered"==window.PXUTheme.theme_settings.header_layout&&$(".top-bar [data-ajax-cart-trigger] [data-ajax-cart-mini_cart]").css("display","block"),this.$el.find(".sticky-menu-wrapper").removeClass("is-visible"),this.$menuToggle.removeClass("is-active"),!0===this.enable_overlay&&!0===this.sectionUnderlayIsImage()&&this.updateOverlayStyle(this.sectionUnderlayIsImage())})},disableOverlayStyle:function(){$("[data-enable_overlay]").attr("data-enable_overlay",!1)},enableOverlayStyle:function(){$("[data-enable_overlay]").attr("data-enable_overlay",!0)},updateOverlayStyle:function(e){$("[data-enable_overlay]").attr("data-enable_overlay",e)},sectionUnderlayIsImage:function(){var e=$("[data-check-for-order=true]").find("[id^=shopify-section]").first();return!!(e.hasClass("overlaid-header-option")&&0<$.trim(e.html()).length)},showSearch:function(){$("[data-show-search-trigger]").addClass("is-active"),"overlay"==window.PXUTheme.theme_settings.search_layout?($('[data-search-type="overlay"]').addClass("is-opened"),$('.search-form .search__fields input[type="text"]')[0].focus(),window.PXUTheme.predictiveSearch.lockBodyScroll()):$.fancybox.open($(".js-search-popup"),{baseClass:"search__lightbox",hash:!1,infobar:!1,toolbar:!1,loop:!0,smallBtn:!0,mobile:{preventCaptionOverlap:!1,toolbar:!1},touch:!1,beforeClose:function(){$("[data-show-search-trigger]").removeClass("is-active")},afterShow:function(){var e=$('.search-form .search__fields input[type="text"]')[0],a=e.value.length;e.setSelectionRange(a,a)}})},hideSearch:function(){$("[data-show-search-trigger]").removeClass("is-active"),"overlay"==window.PXUTheme.theme_settings.search_layout||"search_focus"==window.PXUTheme.theme_settings.header_layout||"vertical"==window.PXUTheme.theme_settings.header_layout?($("[data-autocomplete-true] .search__results-wrapper").hide(),$('[data-search-type="overlay"]').removeClass("is-opened"),window.PXUTheme.predictiveSearch.unlockBodyScroll()):$.fancybox.close($('[data-search-type="'+window.PXUTheme.theme_settings.search_layout+'"]'))},addOffScreenDropdownCheck:function(){$(".navbar-item.has-dropdown--vertical").hover(function(){var e=$(this).find(".navbar-dropdown");e.removeClass("navbar-dropdown--fix-offscreen"),e.is(":off-screen")&&e.addClass("navbar-dropdown--fix-offscreen")})},getHeaderHeight:function(){return $(".header-section").outerHeight()||0},unload:function(e){$(".has-overlaid-header").removeClass("has-overlaid-header"),$("[data-show-search-trigger]").off(),$(".navbar-item").off(),$("#header").off(),$(".dropdown-click--true .header__link").off(),this.$menuToggle.off(),this.disableSticky(),this.disableOverlayStyle()}};