/*
Generated time: August 29, 2024 18:32
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
window.PXUTheme.jsCollection={init:function(e){window.PXUTheme.jsCollection=$.extend(this,window.PXUTheme.getSectionData(e)),navigator.userAgent.match(/Trident.*rv\:11\./)||window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0"},{name:"model-viewer-ui",version:"1.0"}]),1==this.enable_sorting&&$("#sort-by").val($("#sort-by").data("default-sort")),1!=this.enable_filter&&1!=this.enable_sorting||$("#tag_filter, #sort-by").on("change",function(){window.PXUTheme.jsCollection.filterURL()}),$("[data-option-filter]").length&&$("[data-tag-filter-checkbox]:checked").each(function(){window.PXUTheme.jsCollection.multiTagFilter.showSelectedFilter($(this))}),this.enable_breadcrumb&&"basic_pagination"==this.pagination_type&&window.PXUTheme.breadcrumbs.init(this.number_of_pages),$("body").on("click","[data-option-filter]",function(e){e.preventDefault(),$(this).find("input").prop("checked",!0),window.PXUTheme.jsCollection.multiTagFilter.init($(this)),window.PXUTheme.scrollToTop($(".collection__content"))}),$("body").on("click","[data-clear-filter]",function(){var e=$(this).siblings("[data-option-filter]");$("#tag_filter").find("option:eq(0)").prop("selected",!0),window.PXUTheme.jsCollection.multiTagFilter.clearSelectedFilter(e),window.PXUTheme.scrollToTop($(".collection__content"))})},filterURL:function(){var e,t,i=[],o="",n="";$.url("hostname");e=1<window.PXUTheme.routes.root_url.length?($.url("1")?"/"+$.url("1")+"/":"")+($.url("2")?$.url("2")+"/":"")+($.url("3")?$.url("3")+"/":""):($.url("1")?"/"+$.url("1")+"/":"")+($.url("2")?$.url("2")+"/":""),o=$("#sort-by").length?$("#sort-by").val():url("?sort_by"),!$("#tag_filter").length||$("#tag_filter").data("default-collection")==$("#tag_filter").val()||"all"==(t=$("#tag_filter").val().substr($("#tag_filter").val().lastIndexOf("/")+1))||-1<$.inArray(t,i)||i.unshift(t),$("[data-option-filter] input:checked").each(function(){i.push($(this).val())}),i=$.makeArray(i),$.each(i,function(e,t){e!=i.length-1?n+=i[e]+"+":n+=i[e]}),window.PXUTheme.queryParameters.sort_by=o,o="?"+$.param(window.PXUTheme.queryParameters),this.processUrl(e,n,o)},processUrl:function(e,t,i){i=i.replace(/\page=(\w+)&/,"");this.updateView(e+t+i)},updateView:function(l){$.ajax({type:"GET",url:l,beforeSend:function(){$(".collection-matrix").addClass("fadeOut animated loading-in-progress"),$(".collection-matrix__wrapper .collection__loading-icon").fadeIn()},success:function(e){},error:function(e,t,i){console.log(e),console.log(t),console.log(i),location.replace(location.protocol+"//"+location.host+l)},dataType:"html"}).then(function(e){var t=$(".breadcrumb__container"),i=$(".collection-matrix"),o=$("[data-collection-main]"),n=$(e).find(".breadcrumb__container").html(),t=(t.html(n),i.removeClass("fadeIn animated loading-in-progress"),$(e).find(".collection-matrix__wrapper")),n=$(e).find(".container--pagination"),i=$(e).find(".container--no-products-in-collection");t.length?(o.empty(),o.append(t)):(o.empty(),o.append(i)),o.append(n),window.history&&window.history.pushState&&window.history.pushState("","",l),$("[data-custom-pagination]").length&&window.PXUTheme.infiniteScroll.init()})},multiTagFilter:{init:function(e){this.showSelectedFilter(e),window.PXUTheme.jsCollection.filterURL(),e=1<window.PXUTheme.routes.root_url.length?3:2,"types"!==$.url(e)&&"vendors"!==$.url(e)||$(".block__tag-filter").remove()},showSelectedFilter:function(e){var t=e.parents(".sidebar-toggle-active"),e=e.parents(".tag-filter__item");e.addClass("is-active"),e.siblings(":not(.is-active)").addClass("is-hidden"),e.find("[data-clear-filter]").removeClass("is-hidden"),t.length&&(e=t.find('[data-sidebar-block__toggle="closed"]'),window.PXUTheme.jsSidebar.openSidebarBlock(e))},clearSelectedFilter:function(e){e=e.parents(".tag-filter__item");e.removeClass("is-active").find("input").prop("checked",!1),e.siblings().removeClass("is-hidden"),e.find("[data-clear-filter]").addClass("is-hidden"),window.PXUTheme.jsCollection.filterURL()}},unload:function(e){$("#tag_filter, #sort-by").off(),$("[data-option-filter]").off(),$("[data-reset-filters]").off(),$("[data-clear-filter]").off(),window.PXUTheme.breadcrumbs.unload()}};