/*
Generated time: August 29, 2024 18:32
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
(()=>{var __webpack_exports__={};window.PXUTheme.jsAjaxCart={init:function(a){window.PXUTheme.jsAjaxCart=$.extend(this,window.PXUTheme.getSectionData(a)),isScreenSizeLarge()||"drawer"==this.cart_action?this.initializeAjaxCart():this.initializeAjaxCartOnMobile(),"drawer"==this.cart_action?(this.ajaxCartDrawer=$("[data-ajax-cart-drawer]"),$(document).on("click","[data-ajax-cart-trigger]",function(a){return a.preventDefault(),window.PXUTheme.jsAjaxCart.showDrawer(),!1})):"mini_cart"==this.cart_action&&this.showMiniCartOnHover(),$(document).on("click",".ajax-submit",function(a){a.preventDefault();a=$(this).closest("form");return window.PXUTheme.jsAjaxCart.addToCart(a),!1}),$(document).on("click","[data-ajax-cart-delete]",function(a){a.preventDefault();a=$(this).parents("[data-line-item]").data("line-item");return window.PXUTheme.jsAjaxCart.removeFromCart(a),window.PXUTheme.jsCart&&window.PXUTheme.jsCart.removeFromCart(a),!1}),$(document).on("click","[data-ajax-cart-close]",function(a){return a.preventDefault(),window.PXUTheme.jsAjaxCart.hideDrawer(),window.PXUTheme.jsAjaxCart.hideMiniCart(),!1})},showMiniCartOnHover:function(){let a=$("[data-ajax-cart-trigger]");a.hover(function(){("centered"==window.PXUTheme.theme_settings.header_layout&&$(".header-sticky-wrapper").hasClass("is-sticky")?$(".header-sticky-wrapper [data-ajax-cart-trigger]"):a).addClass("show-mini-cart")},function(){a.removeClass("show-mini-cart")})},hideMiniCart:function(){if("mini_cart"!=this.cart_action)return!1;$("[data-ajax-cart-close]").parents("[data-ajax-cart-trigger]").removeClass("show-mini-cart")},toggleMiniCart:function(){let t=$(".mobile-header [data-ajax-cart-trigger]");t.attr("href","#"),t.off("touchstart").on("touchstart",function(a){a.target.closest("[data-ajax-cart-mini_cart]")||(window.PXUTheme.jsAjaxCart.initializeAjaxCartOnMobile(),t.toggleClass("show-mini-cart"))})},showDrawer:function(){if("drawer"!=this.cart_action)return!1;this.ajaxCartDrawer.addClass("is-visible"),$(".ajax-cart__overlay").addClass("is-visible")},hideDrawer:function(){if("drawer"!=this.cart_action)return!1;this.ajaxCartDrawer.removeClass("is-visible"),$(".ajax-cart__overlay").removeClass("is-visible")},removeFromCart:function(lineID,callback){$.ajax({type:"POST",url:"/cart/change.js",data:"quantity=0&line="+lineID,dataType:"json",success:function(a){window.PXUTheme.jsAjaxCart.updateView()},error:function(XMLHttpRequest,textStatus){var response=eval("("+XMLHttpRequest.responseText+")");response.description}})},initializeAjaxCart:function(){window.PXUTheme.asyncView.load(window.PXUTheme.routes.cart_url,"ajax").done(({html:a})=>{$("[data-ajax-cart-content]").html(a.content),window.PXUTheme.currencyConverter&&window.PXUTheme.currencyConverter.convertCurrencies()}).fail(()=>{})},initializeAjaxCartOnMobile:function(){this.toggleMiniCart(),window.PXUTheme.asyncView.load(window.PXUTheme.routes.cart_url,"ajax").done(({html:a})=>{$(".mobile-header [data-ajax-cart-content]").html(a.content)}).fail(()=>{})},addToCart:function($addToCartForm){let $addToCartBtn=$addToCartForm.find(".button--add-to-cart");if(this.recipientForm=$addToCartForm[0].querySelector("[data-recipient-form]"),this.recipientForm&&this.recipientForm.classList.remove("recipient-form--has-errors"),$addToCartForm.removeClass("shopify-product-form--unselected-error"),$addToCartBtn[0].hasAttribute("data-options-unselected")){let cartWarning=`<p class="cart-warning__message animated bounceIn">${window.PXUTheme.translation.select_variant}</p>`;$(".warning").remove(),$addToCartForm.addClass("shopify-product-form--unselected-error").find(".cart-warning").html(cartWarning),$addToCartBtn.removeAttr("disabled").removeClass("disabled"),$addToCartBtn.find(".icon").removeClass("zoomOut").addClass("zoomIn"),$addToCartBtn.find("span:not(.icon)").text($addToCartBtn.data("label")).removeClass("zoomOut").addClass("zoomIn")}else $.ajax({url:"/cart/add.js",dataType:"json",cache:!1,type:"post",data:$addToCartForm.serialize(),beforeSend:function(){$addToCartBtn.attr("disabled","disabled").addClass("disabled"),$addToCartBtn.find("span").removeClass("fadeInDown").addClass("animated zoomOut")},success:function(a){let t=$("[data-ajax-cart-trigger]");function e(){isScreenSizeLarge()?t=$("[data-ajax-cart-trigger]"):(t=$(".mobile-header [data-ajax-cart-trigger]"),window.PXUTheme.scrollToTop(t)),t.addClass("show-mini-cart"),$addToCartBtn.find("span").removeClass("fadeInDown")}$addToCartBtn.find(".checkmark").addClass("checkmark-active"),window.setTimeout(function(){$addToCartBtn.removeAttr("disabled").removeClass("disabled"),$addToCartBtn.find(".checkmark").removeClass("checkmark-active"),$addToCartBtn.find(".text, .icon").removeClass("zoomOut").addClass("fadeInDown"),$addToCartBtn.on("webkitAnimationEnd oanimationend msAnimationEnd animationend",e)},1e3),window.PXUTheme.jsAjaxCart.showDrawer(),window.PXUTheme.jsAjaxCart.updateView(),window.PXUTheme.jsCart&&$.ajax({dataType:"json",dataType:"html",async:!1,cache:!1,url:"/cart",success:function(a){a=$(a).find(".cart__form");$(".cart__form").replaceWith(a)}})},error:XMLHttpRequest=>{let response=eval("("+XMLHttpRequest.responseText+")");$(".warning").remove();let cartWarning;response.errors&&response.errors.email?this.recipientForm.classList.add("recipient-form--has-errors"):cartWarning=`<p class="cart-warning__message animated bounceIn">${response.description.replace("All 1 ","All ")}</p>`,$addToCartForm.find(".cart-warning").html(cartWarning),$addToCartBtn.removeAttr("disabled").removeClass("disabled"),$addToCartBtn.find(".icon").removeClass("zoomOut").addClass("zoomIn"),$addToCartBtn.find("span:not(.icon)").text($addToCartBtn.data("label")).removeClass("zoomOut").addClass("zoomIn")}})},updateView:function(){window.PXUTheme.asyncView.load(window.PXUTheme.routes.cart_url,"ajax").done(({html:a,options:t})=>{var e;0<t.item_count?(e=$(a.content).find(".ajax-cart__list"),a=$(a.content).find(".ajax-cart__details-wrapper"),$(".ajax-cart__list").replaceWith(e),$(".ajax-cart__details-wrapper").replaceWith(a),$(".ajax-cart__empty-cart-message").addClass("is-hidden"),$(".ajax-cart__form").removeClass("is-hidden"),$("[data-ajax-cart-trigger]").addClass("has-cart-count"),$('[data-bind="itemCount"]').text(t.item_count)):($(".ajax-cart__empty-cart-message").removeClass("is-hidden"),$(".ajax-cart__form").addClass("is-hidden"),$("[data-ajax-cart-trigger]").removeClass("has-cart-count"),$('[data-bind="itemCount"]').text("0")),window.PXUTheme.currencyConverter&&window.PXUTheme.currencyConverter.convertCurrencies()}).fail(()=>{})},unload:function(a){$(".ajax-submit").off(),$("[data-ajax-cart-delete]").off()}}})();